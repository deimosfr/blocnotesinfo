<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Network on Tech Notebook</title><link>https://wiki.deimos.fr/docs/bsd/network/</link><description>Recent content in Network on Tech Notebook</description><generator>Hugo</generator><language>en-us</language><lastBuildDate>Fri, 04 Apr 2025 17:45:45 +0200</lastBuildDate><atom:link href="https://wiki.deimos.fr/docs/bsd/network/index.xml" rel="self" type="application/rss+xml"/><item><title>Configure Network on NetBSD</title><link>https://wiki.deimos.fr/Configurer_le_r%C3%A9seau_sous_NetBSD/</link><pubDate>Fri, 15 Mar 2013 22:32:00 +0100</pubDate><guid>https://wiki.deimos.fr/Configurer_le_r%C3%A9seau_sous_NetBSD/</guid><description>&lt;p>










&lt;img src="https://wiki.deimos.fr/images/netbsd-logo.png" alt="NetBSD" loading="lazy">

&lt;/p>







&lt;table class="table table-hover table-striped">
 &lt;thead>
 &lt;tr>
 &lt;th>&lt;/th>
 &lt;th>&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td>&lt;strong>Operating System&lt;/strong>&lt;/td>
 &lt;td>6.0.1&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>&lt;strong>Website&lt;/strong>&lt;/td>
 &lt;td>&lt;a href="https://www.netbsd.org/" rel="external" target="_blank">NetBSD Website&lt;svg width="16" height="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">&lt;path fill="currentColor" d="M14 5c-.552 0-1-.448-1-1s.448-1 1-1h6c.552 0 1 .448 1 1v6c0 .552-.448 1-1 1s-1-.448-1-1v-3.586l-7.293 7.293c-.391.39-1.024.39-1.414 0-.391-.391-.391-1.024 0-1.414l7.293-7.293h-3.586zm-9 2c-.552 0-1 .448-1 1v11c0 .552.448 1 1 1h11c.552 0 1-.448 1-1v-4.563c0-.552.448-1 1-1s1 .448 1 1v4.563c0 1.657-1.343 3-3 3h-11c-1.657 0-3-1.343-3-3v-11c0-1.657 1.343-3 3-3h4.563c.552 0 1 .448 1 1s-.448 1-1 1h-4.563z"/>&lt;/svg>&lt;/a>&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>&lt;strong>Last Update&lt;/strong>&lt;/td>
 &lt;td>15/03/2013&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table>

&lt;h2 id="introduction">Introduction &lt;a href="#introduction" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>The network is an essential part of system configuration. I will cover some aspects of it here.&lt;/p></description></item><item><title>Configuring Network on FreeBSD</title><link>https://wiki.deimos.fr/Configurer_le_r%C3%A9seau_sous_FreeBSD/</link><pubDate>Mon, 02 Jul 2012 10:07:00 +0200</pubDate><guid>https://wiki.deimos.fr/Configurer_le_r%C3%A9seau_sous_FreeBSD/</guid><description>&lt;p>










&lt;img src="https://wiki.deimos.fr/images/poweredbyfreebsd.png" alt="FreeBSD" loading="lazy">

&lt;/p>







&lt;table class="table table-hover table-striped">
 &lt;thead>
 &lt;tr>
 &lt;th>&lt;/th>
 &lt;th>&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td>&lt;strong>Operating System&lt;/strong>&lt;/td>
 &lt;td>FreeBSD 9&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>&lt;strong>Website&lt;/strong>&lt;/td>
 &lt;td>&lt;a href="https://www.freebsd.org" rel="external" target="_blank">FreeBSD Website&lt;svg width="16" height="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">&lt;path fill="currentColor" d="M14 5c-.552 0-1-.448-1-1s.448-1 1-1h6c.552 0 1 .448 1 1v6c0 .552-.448 1-1 1s-1-.448-1-1v-3.586l-7.293 7.293c-.391.39-1.024.39-1.414 0-.391-.391-.391-1.024 0-1.414l7.293-7.293h-3.586zm-9 2c-.552 0-1 .448-1 1v11c0 .552.448 1 1 1h11c.552 0 1-.448 1-1v-4.563c0-.552.448-1 1-1s1 .448 1 1v4.563c0 1.657-1.343 3-3 3h-11c-1.657 0-3-1.343-3-3v-11c0-1.657 1.343-3 3-3h4.563c.552 0 1 .448 1 1s-.448 1-1 1h-4.563z"/>&lt;/svg>&lt;/a>&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>&lt;strong>Last Update&lt;/strong>&lt;/td>
 &lt;td>02/07/2012&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table>

&lt;h2 id="introduction">Introduction &lt;a href="#introduction" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>The network is an essential part of system configuration, so I&amp;rsquo;ll cover some aspects of it here.&lt;/p></description></item><item><title>UFS: Disk usage in UFS</title><link>https://wiki.deimos.fr/UFS_:_utilisation_des_disques_en_UFS/</link><pubDate>Thu, 14 Jun 2012 12:30:00 +0200</pubDate><guid>https://wiki.deimos.fr/UFS_:_utilisation_des_disques_en_UFS/</guid><description>&lt;p>










&lt;img src="https://wiki.deimos.fr/images/poweredbyfreebsd.png" alt="FreeBSD" loading="lazy">

&lt;/p>







&lt;table class="table table-hover table-striped">
 &lt;thead>
 &lt;tr>
 &lt;th>&lt;/th>
 &lt;th>&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td>&lt;strong>Operating System&lt;/strong>&lt;/td>
 &lt;td>FreeBSD 9&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>&lt;strong>Website&lt;/strong>&lt;/td>
 &lt;td>&lt;a href="https://www.freebsd.org" rel="external" target="_blank">FreeBSD Website&lt;svg width="16" height="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">&lt;path fill="currentColor" d="M14 5c-.552 0-1-.448-1-1s.448-1 1-1h6c.552 0 1 .448 1 1v6c0 .552-.448 1-1 1s-1-.448-1-1v-3.586l-7.293 7.293c-.391.39-1.024.39-1.414 0-.391-.391-.391-1.024 0-1.414l7.293-7.293h-3.586zm-9 2c-.552 0-1 .448-1 1v11c0 .552.448 1 1 1h11c.552 0 1-.448 1-1v-4.563c0-.552.448-1 1-1s1 .448 1 1v4.563c0 1.657-1.343 3-3 3h-11c-1.657 0-3-1.343-3-3v-11c0-1.657 1.343-3 3-3h4.563c.552 0 1 .448 1 1s-.448 1-1 1h-4.563z"/>&lt;/svg>&lt;/a>&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>&lt;strong>Last Update&lt;/strong>&lt;/td>
 &lt;td>14/06/2012&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table>

&lt;h2 id="introduction">Introduction &lt;a href="#introduction" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>Today with BTRFS and ZFS, it&amp;rsquo;s super simple to create and delete partitions, etc., but with UFS (the old way), it&amp;rsquo;s less obvious, although not very complicated. I&amp;rsquo;ll talk about some common practices here :-)&lt;/p></description></item><item><title>VLAN: Creating a VLAN Interface on OpenBSD</title><link>https://wiki.deimos.fr/VLAN_:_Cr%C3%A9er_une_interface_VLAN_sous_OpenBSD/</link><pubDate>Wed, 04 Aug 2010 07:24:00 +0200</pubDate><guid>https://wiki.deimos.fr/VLAN_:_Cr%C3%A9er_une_interface_VLAN_sous_OpenBSD/</guid><description>&lt;h2 id="introduction">Introduction &lt;a href="#introduction" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>A virtual local area network, commonly called &lt;a href="https://fr.wikipedia.org/wiki/VLAN" rel="external" target="_blank">VLAN (for Virtual LAN)&lt;svg width="16" height="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">&lt;path fill="currentColor" d="M14 5c-.552 0-1-.448-1-1s.448-1 1-1h6c.552 0 1 .448 1 1v6c0 .552-.448 1-1 1s-1-.448-1-1v-3.586l-7.293 7.293c-.391.39-1.024.39-1.414 0-.391-.391-.391-1.024 0-1.414l7.293-7.293h-3.586zm-9 2c-.552 0-1 .448-1 1v11c0 .552.448 1 1 1h11c.552 0 1-.448 1-1v-4.563c0-.552.448-1 1-1s1 .448 1 1v4.563c0 1.657-1.343 3-3 3h-11c-1.657 0-3-1.343-3-3v-11c0-1.657 1.343-3 3-3h4.563c.552 0 1 .448 1 1s-.448 1-1 1h-4.563z"/>&lt;/svg>&lt;/a>, is an independent logical computer network. Many VLANs can coexist on the same network switch.&lt;/p></description></item><item><title>Configure Network on OpenBSD</title><link>https://wiki.deimos.fr/Configurer_le_r%C3%A9seau_sous_OpenBSD/</link><pubDate>Mon, 17 Mar 2008 07:22:00 +0100</pubDate><guid>https://wiki.deimos.fr/Configurer_le_r%C3%A9seau_sous_OpenBSD/</guid><description>&lt;h2 id="introduction">Introduction &lt;a href="#introduction" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>I won&amp;rsquo;t go into too much detail, as that&amp;rsquo;s what the OpenBSD website is for. This is just a quick reference for recalling how to rapidly configure networking.&lt;/p>
&lt;h2 id="basic-configuration">Basic Configuration &lt;a href="#basic-configuration" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;h3 id="ifconfig">ifconfig &lt;a href="#ifconfig" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h3>&lt;p>To list available network cards and view defined IP addresses:&lt;/p>



 
 
 

 
 
 
 

 

 &lt;div class="prism-codeblock ">
 &lt;pre id="11981fe" class="language-bash ">
 &lt;code>$ ifconfig
lo0: flags=8049&amp;lt;UP,LOOPBACK,RUNNING,MULTICAST&amp;gt; mtu 33224
 inet 127.0.0.1 netmask 0xff000000
 inet6 ::1 prefixlen 128
 inet6 fe80::1%lo0 prefixlen 64 scopeid 0x5
lo1: flags=8008&amp;lt;LOOPBACK,MULTICAST&amp;gt; mtu 33224
fxp0: flags=8843&amp;lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&amp;gt; mtu 1500
 address: 00:04:ac:dd:39:6a
 media: Ethernet autoselect (100baseTX full-duplex)
 status: active
 inet 10.0.0.38 netmask 0xffffff00 broadcast 10.0.0.255
 inet6 fe80::204:acff:fedd:396a%fxp0 prefixlen 64 scopeid 0x1
pflog0: flags=0&amp;lt;&amp;gt; mtu 33224
pfsync0: flags=0&amp;lt;&amp;gt; mtu 2020
sl0: flags=c010&amp;lt;POINTOPOINT,LINK2,MULTICAST&amp;gt; mtu 296
sl1: flags=c010&amp;lt;POINTOPOINT,LINK2,MULTICAST&amp;gt; mtu 296
ppp0: flags=8010&amp;lt;POINTOPOINT,MULTICAST&amp;gt; mtu 1500
ppp1: flags=8010&amp;lt;POINTOPOINT,MULTICAST&amp;gt; mtu 1500
tun0: flags=10&amp;lt;POINTOPOINT&amp;gt; mtu 3000
tun1: flags=10&amp;lt;POINTOPOINT&amp;gt; mtu 3000
enc0: flags=0&amp;lt;&amp;gt; mtu 1536
bridge0: flags=0&amp;lt;&amp;gt; mtu 1500
bridge1: flags=0&amp;lt;&amp;gt; mtu 1500
vlan0: flags=0&amp;lt;&amp;gt; mtu 1500
 address: 00:00:00:00:00:00
vlan1: flags=0&amp;lt;&amp;gt; mtu 1500
 address: 00:00:00:00:00:00
gre0: flags=9010&amp;lt;POINTOPOINT,LINK0,MULTICAST&amp;gt; mtu 1450
carp0: flags=0&amp;lt;&amp;gt; mtu 1500
carp1: flags=0&amp;lt;&amp;gt; mtu 1500
gif0: flags=8010&amp;lt;POINTOPOINT,MULTICAST&amp;gt; mtu 1280
gif1: flags=8010&amp;lt;POINTOPOINT,MULTICAST&amp;gt; mtu 1280
gif2: flags=8010&amp;lt;POINTOPOINT,MULTICAST&amp;gt; mtu 1280
gif3: flags=8010&amp;lt;POINTOPOINT,MULTICAST&amp;gt; mtu 1280&lt;/code>
 &lt;/pre>
 &lt;/div>
&lt;p>Here&amp;rsquo;s a listing of available interfaces with their explanations:&lt;/p></description></item><item><title>Trunking: Creating Trunking (bonding) on OpenBSD</title><link>https://wiki.deimos.fr/Trunking_:_Cr%C3%A9er_du_trunking_%28bonding%29_sur_OpenBSD/</link><pubDate>Thu, 15 Nov 2007 15:55:00 +0200</pubDate><guid>https://wiki.deimos.fr/Trunking_:_Cr%C3%A9er_du_trunking_%28bonding%29_sur_OpenBSD/</guid><description>&lt;h2 id="introduction">Introduction &lt;a href="#introduction" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>The following is used on OpenBSD since version 3.9 to combine two physical interfaces (fxp1, fxp2) into a single virtual interface (trunk0). This method allows one to take the feeds from a traditional two-output tap and present a single virtual interface to NSM applications.&lt;/p>
&lt;h2 id="configuration">Configuration &lt;a href="#configuration" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>Modify the interface and put yours:&lt;/p>



 
 
 

 
 
 
 

 

 &lt;div class="prism-codeblock ">
 &lt;pre id="e7b5d2e" class="language-bash ">
 &lt;code>ifconfig fxp1 up
ifconfig fxp2 up
ifconfig trunk0 trunkport fxp1 up
ifconfig trunk0 trunkport fxp2 up
ifconfig trunk0 trunkproto roundrobin up&lt;/code>
 &lt;/pre>
 &lt;/div>
&lt;h3 id="modes">Modes &lt;a href="#modes" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h3>&lt;p>If you don&amp;rsquo;t need roundrobin, choose the mode that you would like:&lt;/p></description></item><item><title>Bandwidth Usage Statistics</title><link>https://wiki.deimos.fr/Statistiques_sur_la_bande_passante_occup%C3%A9e/</link><pubDate>Sun, 07 Oct 2007 10:25:00 +0200</pubDate><guid>https://wiki.deimos.fr/Statistiques_sur_la_bande_passante_occup%C3%A9e/</guid><description>&lt;h2 id="introduction">Introduction &lt;a href="#introduction" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>Here is a simple shell script to calculate the bandwidth usage on the external interface of a BSD or Linux box. Netstat bandwidth summary works well on OpenBSD 4.1, but colleagues have mentioned 3.9 may not work. Linux should work without issue. Also, remember that the netstat stats will reset on reboot of the box.&lt;/p>
&lt;p>One could use this script to keep track of Internet bandwidth in case their ISP accused them of using too much bandwidth. Comcast for example will call foul if you use more than 90 to 150 gigabytes of download per month. We can only guess that the upload limit is the same. Verizon says they do not have a limit, but they will contact bandwidth abusers. Your ISP might have different rules so check with them. Then use this simple tool to make sure you know what you are using.&lt;/p></description></item><item><title>QoS (Quality Of Service) with PF</title><link>https://wiki.deimos.fr/Faire_de_la_QOS_(Quality_Of_Service)_avec_PF/</link><pubDate>Sun, 07 Oct 2007 10:14:00 +0200</pubDate><guid>https://wiki.deimos.fr/Faire_de_la_QOS_(Quality_Of_Service)_avec_PF/</guid><description>&lt;h2 id="introduction">Introduction &lt;a href="#introduction" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>Hierarchical Fair Service Curve (HFSC) alias QOS:
Quality of Service (QoS) is an attempt to give priority to a packet type or data connection on a per session basis. Hierarchical Fair Service Curve takes QoS to the next level over CBQ by focusing on guaranteed real-time, adaptive best-effort, and hierarchical link-sharing service.&lt;/p>
&lt;p>Though this may sound difficult, it is really easy to use once you understand the basics.&lt;/p></description></item></channel></rss>