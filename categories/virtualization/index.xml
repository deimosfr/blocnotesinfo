<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Virtualization on Tech Notebook</title><link>https://wiki.deimos.fr/categories/virtualization/</link><description>Recent content in Virtualization on Tech Notebook</description><generator>Hugo</generator><language>en-us</language><lastBuildDate>Fri, 04 Apr 2025 17:45:45 +0200</lastBuildDate><atom:link href="https://wiki.deimos.fr/categories/virtualization/index.xml" rel="self" type="application/rss+xml"/><item><title>KVM: Setting Up KVM</title><link>https://wiki.deimos.fr/KVM_:_Mise_en_place_de_KVM/</link><pubDate>Tue, 03 Mar 2015 09:41:00 +0200</pubDate><guid>https://wiki.deimos.fr/KVM_:_Mise_en_place_de_KVM/</guid><description>&lt;p>










&lt;img src="https://wiki.deimos.fr/images/kvm-logo.png" alt="KVM" loading="lazy">

&lt;/p>







&lt;table class="table table-hover table-striped">
 &lt;thead>
 &lt;tr>
 &lt;th>&lt;/th>
 &lt;th>&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td>&lt;strong>Software version&lt;/strong>&lt;/td>
 &lt;td>0.12.5&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>&lt;strong>Operating System&lt;/strong>&lt;/td>
 &lt;td>Debian 6&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>&lt;strong>Website&lt;/strong>&lt;/td>
 &lt;td>&lt;a href="https://www.linux-kvm.org/" rel="external" target="_blank">KVM Website&lt;svg width="16" height="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">&lt;path fill="currentColor" d="M14 5c-.552 0-1-.448-1-1s.448-1 1-1h6c.552 0 1 .448 1 1v6c0 .552-.448 1-1 1s-1-.448-1-1v-3.586l-7.293 7.293c-.391.39-1.024.39-1.414 0-.391-.391-.391-1.024 0-1.414l7.293-7.293h-3.586zm-9 2c-.552 0-1 .448-1 1v11c0 .552.448 1 1 1h11c.552 0 1-.448 1-1v-4.563c0-.552.448-1 1-1s1 .448 1 1v4.563c0 1.657-1.343 3-3 3h-11c-1.657 0-3-1.343-3-3v-11c0-1.657 1.343-3 3-3h4.563c.552 0 1 .448 1 1s-.448 1-1 1h-4.563z"/>&lt;/svg>&lt;/a>&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>&lt;strong>Last Update&lt;/strong>&lt;/td>
 &lt;td>03/03/2015&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table>

&lt;h2 id="introduction">Introduction &lt;a href="#introduction" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>KVM (for Kernel-based Virtual Machine) is a full virtualization solution for Linux on x86 hardware containing virtualization extensions (Intel VT or AMD-V). It consists of a loadable kernel module, kvm.ko, that provides the core virtualization infrastructure and a processor specific module, kvm-intel.ko or kvm-amd.ko. KVM also requires a modified QEMU although work is underway to get the required changes upstream.&lt;/p></description></item><item><title>LXC: Install and configure the Linux Containers</title><link>https://wiki.deimos.fr/LXC_:_Install_and_configure_the_Linux_Containers/</link><pubDate>Sun, 22 Feb 2015 00:00:00 +0200</pubDate><guid>https://wiki.deimos.fr/LXC_:_Install_and_configure_the_Linux_Containers/</guid><description>&lt;table class="table table-hover table-striped">
 &lt;thead>
 &lt;tr>
 &lt;th>&lt;/th>
 &lt;th>&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td>&lt;strong>Software version&lt;/strong>&lt;/td>
 &lt;td>0.8&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>&lt;strong>Operating System&lt;/strong>&lt;/td>
 &lt;td>Debian 7&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>&lt;strong>Website&lt;/strong>&lt;/td>
 &lt;td>&lt;a href="https://lxc.sourceforge.net/" rel="external" target="_blank">LXC Website&lt;svg width="16" height="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">&lt;path fill="currentColor" d="M14 5c-.552 0-1-.448-1-1s.448-1 1-1h6c.552 0 1 .448 1 1v6c0 .552-.448 1-1 1s-1-.448-1-1v-3.586l-7.293 7.293c-.391.39-1.024.39-1.414 0-.391-.391-.391-1.024 0-1.414l7.293-7.293h-3.586zm-9 2c-.552 0-1 .448-1 1v11c0 .552.448 1 1 1h11c.552 0 1-.448 1-1v-4.563c0-.552.448-1 1-1s1 .448 1 1v4.563c0 1.657-1.343 3-3 3h-11c-1.657 0-3-1.343-3-3v-11c0-1.657 1.343-3 3-3h4.563c.552 0 1 .448 1 1s-.448 1-1 1h-4.563z"/>&lt;/svg>&lt;/a>&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>&lt;strong>Last Update&lt;/strong>&lt;/td>
 &lt;td>22/02/2015&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table>

&lt;h2 id="introduction">Introduction &lt;a href="#introduction" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>LXC is the userspace control package for Linux Containers, a lightweight virtual system mechanism sometimes described as &amp;ldquo;chroot on steroids&amp;rdquo;.&lt;/p></description></item><item><title>OpenVZ: Setting Up OpenVZ</title><link>https://wiki.deimos.fr/OpenVZ_:_Mise_en_place_d'OpenVZ/</link><pubDate>Mon, 07 Apr 2014 15:52:00 +0200</pubDate><guid>https://wiki.deimos.fr/OpenVZ_:_Mise_en_place_d'OpenVZ/</guid><description>&lt;h2 id="introduction">Introduction &lt;a href="#introduction" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>&lt;a href="https://en.wikipedia.org/wiki/Openvz" rel="external" target="_blank">OpenVZ&lt;svg width="16" height="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">&lt;path fill="currentColor" d="M14 5c-.552 0-1-.448-1-1s.448-1 1-1h6c.552 0 1 .448 1 1v6c0 .552-.448 1-1 1s-1-.448-1-1v-3.586l-7.293 7.293c-.391.39-1.024.39-1.414 0-.391-.391-.391-1.024 0-1.414l7.293-7.293h-3.586zm-9 2c-.552 0-1 .448-1 1v11c0 .552.448 1 1 1h11c.552 0 1-.448 1-1v-4.563c0-.552.448-1 1-1s1 .448 1 1v4.563c0 1.657-1.343 3-3 3h-11c-1.657 0-3-1.343-3-3v-11c0-1.657 1.343-3 3-3h4.563c.552 0 1 .448 1 1s-.448 1-1 1h-4.563z"/>&lt;/svg>&lt;/a> is an operating system-level virtualization technology based on the Linux kernel. OpenVZ allows a physical server to run multiple isolated instances of operating systems, known as Virtual Private Servers (VPS) or Virtual Environments (VE).&lt;/p></description></item><item><title>VServer: Setting Up VServer</title><link>https://wiki.deimos.fr/VServer_:_Mise_en_place_de_VServer/</link><pubDate>Tue, 24 May 2011 16:43:00 +0200</pubDate><guid>https://wiki.deimos.fr/VServer_:_Mise_en_place_de_VServer/</guid><description>&lt;h2 id="introduction">Introduction &lt;a href="#introduction" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>Linux-VServer is a security context isolator combined with segmented routing, chroot, extended quotas, and other standard tools.&lt;/p>
&lt;p>Initially launched by Jacques GÃ©linas as the CTX patch, Linux-VServer consists of a patch for the Linux kernel that allows multiple applications to run in different security contexts on the same host machine. Linux-VServer is also equipped with a set of tools to install/manage these contexts.&lt;/p>
&lt;p>This project allows one or more operating environments (operating systems without the kernel) to run on a distribution, meaning you can run one or more distributions on a single distribution.&lt;/p></description></item><item><title>Setting up Xen</title><link>https://wiki.deimos.fr/Mise_en_place_de_Xen/</link><pubDate>Sun, 13 Dec 2009 16:24:00 +0200</pubDate><guid>https://wiki.deimos.fr/Mise_en_place_de_Xen/</guid><description>&lt;h2 id="introduction">Introduction &lt;a href="#introduction" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>Xen allows multiple operating systems (and their applications) to run in isolation on the same physical machine. Guest operating systems share the host machine&amp;rsquo;s resources.&lt;/p>
&lt;p>Xen is a &amp;ldquo;paravirtualizer&amp;rdquo; or &amp;ldquo;hypervisor&amp;rdquo; for virtual machines. Guest operating systems are &amp;ldquo;aware&amp;rdquo; of the underlying Xen system and need to be &amp;ldquo;ported&amp;rdquo; (adapted) to work on Xen. Linux, NetBSD, FreeBSD, and Plan 9 can already run on Xen.&lt;/p>
&lt;p>Xen 3 can also run unmodified systems like Windows on processors that support VT technology.&lt;/p></description></item><item><title>Configuration and Usage of Solaris Zones (Containers)</title><link>https://wiki.deimos.fr/Configuration_et_utilisation_des_Zones_Solaris_(Containers)/</link><pubDate>Fri, 11 Dec 2009 21:43:00 +0200</pubDate><guid>https://wiki.deimos.fr/Configuration_et_utilisation_des_Zones_Solaris_(Containers)/</guid><description>&lt;h2 id="introduction">Introduction &lt;a href="#introduction" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>Zones or Containers are:&lt;/p>
&lt;ul>
&lt;li>Virtual instance of Solaris&lt;/li>
&lt;li>Software partition for the OS&lt;/li>
&lt;/ul>
&lt;p>A large SunFire server with hardware domains allows many isolated systems to be created. Zones achieve this in software and is far more flexible - it is easy to move individual CPUs between zones as needed, or to configure a more sophisticated way to share CPUs and memory.&lt;/p>
&lt;h2 id="configuration">Configuration &lt;a href="#configuration" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>There are two general zone types to pick from during zone creation. They are,&lt;/p></description></item><item><title>WebVZ: Manage OpenVZ VMs with a Web Interface</title><link>https://wiki.deimos.fr/WebVZ%5C_:_Administrer_ces_VM_OpenVZ_en_interface_web/</link><pubDate>Sat, 28 Nov 2009 16:08:00 +0200</pubDate><guid>https://wiki.deimos.fr/WebVZ%5C_:_Administrer_ces_VM_OpenVZ_en_interface_web/</guid><description>&lt;p>To have a web interface for managing your OpenVZ VMs, WebVZ is available:&lt;/p>
&lt;p>&lt;a href="https://wiki.deimos.fr/pdf/get_webvz_to_administrate_openvz.pdf">Documentation on how to get WebVZ to Administrate OpenVZ&lt;/a>&lt;br>
&lt;a href="https://wiki.deimos.fr/pdf/managing_openvz_with_the_webvz_control_panel_on_debian_lenny.pdf">Managing OpenVZ With The WebVZ Control Panel On Debian Lenny&lt;/a>&lt;/p></description></item><item><title>Ganeti: Xen Cluster Management</title><link>https://wiki.deimos.fr/Ganeti_:_Management_d'un_Cluster_Xen/</link><pubDate>Fri, 27 Nov 2009 21:15:00 +0200</pubDate><guid>https://wiki.deimos.fr/Ganeti_:_Management_d'un_Cluster_Xen/</guid><description>&lt;h2 id="introduction">Introduction &lt;a href="#introduction" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>&lt;a href="https://code.google.com/p/ganeti/" rel="external" target="_blank">Ganeti&lt;svg width="16" height="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">&lt;path fill="currentColor" d="M14 5c-.552 0-1-.448-1-1s.448-1 1-1h6c.552 0 1 .448 1 1v6c0 .552-.448 1-1 1s-1-.448-1-1v-3.586l-7.293 7.293c-.391.39-1.024.39-1.414 0-.391-.391-.391-1.024 0-1.414l7.293-7.293h-3.586zm-9 2c-.552 0-1 .448-1 1v11c0 .552.448 1 1 1h11c.552 0 1-.448 1-1v-4.563c0-.552.448-1 1-1s1 .448 1 1v4.563c0 1.657-1.343 3-3 3h-11c-1.657 0-3-1.343-3-3v-11c0-1.657 1.343-3 3-3h4.563c.552 0 1 .448 1 1s-.448 1-1 1h-4.563z"/>&lt;/svg>&lt;/a> is a virtual server management software tool built on top of Xen virtual machine monitor and other Open Source software.&lt;/p>
&lt;p>However, Ganeti requires pre-installed virtualization software on your servers in order to function. Once installed, the tool will take over the management part of the virtual instances (Xen DomU), e.g. disk creation management, operating system installation for these instances (in co-operation with OS-specific install scripts), and startup, shutdown, failover between physical systems. It has been designed to facilitate cluster management of virtual servers and to provide fast and simple recovery after physical failures using commodity hardware.&lt;/p></description></item><item><title>XenServer 4.1: Changing the Management Interface</title><link>https://wiki.deimos.fr/XenServer_4.1_:_Changer_l'interface_de_Management/</link><pubDate>Wed, 04 Feb 2009 18:58:00 +0200</pubDate><guid>https://wiki.deimos.fr/XenServer_4.1_:_Changer_l'interface_de_Management/</guid><description>&lt;p>The other day I installed a XenServer 4.1 server. Unfortunately, I selected the wrong management interface during installation, choosing eth0 instead of eth1.&lt;/p>
&lt;p>The question was: how to change the management interface on XenServer 4.1?&lt;/p>
&lt;h2 id="retrieving-the-uuid-of-the-interface">Retrieving the UUID of the interface &lt;a href="#retrieving-the-uuid-of-the-interface" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>First, we need to retrieve the UUID of the interface (they call it &amp;ldquo;PIF&amp;rdquo;):&lt;/p>



 
 
 

 
 
 
 

 

 &lt;div class="prism-codeblock ">
 &lt;pre id="c5795a1" class="language-bash ">
 &lt;code>[root@xenserver-backup2 ~]# xe pif-list 
uuid ( RO) : f34c8861-94d7-c3da-0437-3a068b273db5
 device ( RO): eth3
 currently-attached ( RO): true
 VLAN ( RO): -1
 network-uuid ( RO): c7c6e869-f611-11ad-871e-c130bbb9d13f


uuid ( RO) : ffcba213-30dd-09d2-ee7e-0708507516f0
 device ( RO): eth2
 currently-attached ( RO): true
 VLAN ( RO): -1
 network-uuid ( RO): 55efa2d9-768b-52a0-4595-cebf771ce602


uuid ( RO) : 7e5946e3-3c11-ebec-2636-713a69ce60ae
 device ( RO): eth1
 currently-attached ( RO): true
 VLAN ( RO): -1
 network-uuid ( RO): 7755aae6-a565-6e0a-a6b0-49cef6abee5e


uuid ( RO) : b726e0f2-7b58-3489-dca7-0269630f8d4e
 device ( RO): eth0
 currently-attached ( RO): false
 VLAN ( RO): -1
 network-uuid ( RO): ae8ca5b4-9fa1-912a-7cca-55f4060a782c&lt;/code>
 &lt;/pre>
 &lt;/div>
&lt;h2 id="configure-ip-options">Configure IP options &lt;a href="#configure-ip-options" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>Then we assign IP options with a command like this:&lt;/p></description></item><item><title>Converting a VMware Disk Image for Qemu or Xen</title><link>https://wiki.deimos.fr/Convertir_une_image_disque_Vmware_pour_Qemu_ou_Xen/</link><pubDate>Fri, 25 Apr 2008 08:54:00 +0200</pubDate><guid>https://wiki.deimos.fr/Convertir_une_image_disque_Vmware_pour_Qemu_ou_Xen/</guid><description>&lt;h2 id="introduction">Introduction &lt;a href="#introduction" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>I&amp;rsquo;ve switched to the new Ubuntu, great! Except for one thing: VMware doesn&amp;rsquo;t work yet, you have to wait for a patch, etc&amp;hellip; but I don&amp;rsquo;t have time to wait!&lt;/p>
&lt;p>VMware is nice and pretty, but it&amp;rsquo;s becoming annoying. So I decided to use KVM and QTqemu for the graphical interface. And here I am, ready to convert my VMware images.&lt;/p>
&lt;h2 id="conversion">Conversion &lt;a href="#conversion" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>For conversion, we&amp;rsquo;ll first use VMware for preparation and then qemu for the actual conversion:&lt;/p></description></item><item><title>Xen with Bonding + VLAN Tagging</title><link>https://wiki.deimos.fr/Xen_avec_Bonding_+_Vlan_Tagging/</link><pubDate>Sun, 27 Jan 2008 11:48:00 +0200</pubDate><guid>https://wiki.deimos.fr/Xen_avec_Bonding_+_Vlan_Tagging/</guid><description>&lt;h2 id="introduction">Introduction &lt;a href="#introduction" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>As powerful and flexible as it may be, Xen&amp;rsquo;s network configuration often feels like an obstacle course as soon as you stray a bit from the beaten path.&lt;/p>
&lt;p>Recently, I had to set up a Xen-based solution in a somewhat special network topology. Each server where Xen was deployed had 2 ethernet adapters, each with 2 gigabit ethernet interfaces. The goal was to maximize the use of the different ethernet interfaces while providing both fault tolerance and load balancing. To make things even more interesting, the network was segmented into VLANs, each VLAN segmenting the network by function (DMZ, LAN, ADMIN, etc.).&lt;/p></description></item><item><title>Introduction and Architecture of Setting Up a SUN Cluster</title><link>https://wiki.deimos.fr/Introduction_et_Architechture_de_mise_en_place_d'un_Cluster_SUN/</link><pubDate>Thu, 11 Oct 2007 06:31:00 +0200</pubDate><guid>https://wiki.deimos.fr/Introduction_et_Architechture_de_mise_en_place_d'un_Cluster_SUN/</guid><description>&lt;h2 id="introduction">Introduction &lt;a href="#introduction" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>The SUN Cluster Suite is also called SunPlex. I could not explain all here, and you should know well clustering basics.&lt;/p>
&lt;h3 id="types-of-clusters">Types of Clusters &lt;a href="#types-of-clusters" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h3>&lt;p>There are 2 types of clusters:&lt;/p>
&lt;ul>
&lt;li>Cluster HA: High Availability Cluster&lt;/li>
&lt;li>Cluster HPC: High Performance Computing&lt;/li>
&lt;/ul>
&lt;h3 id="definitions">Definitions &lt;a href="#definitions" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h3>&lt;ul>
&lt;li>Scalable: Add instances for the same application (e.g. Apache)&lt;/li>
&lt;li>Unaware applications: non-clustered applications&lt;/li>
&lt;li>SPOF: Single Point of Failure (e.g. Only one network card is on a node instead of two)&lt;/li>
&lt;li>RGM: Resources Group Manager&lt;/li>
&lt;li>Data Service: it&amp;rsquo;s an agent generated by RGM&lt;/li>
&lt;li>IPMP: It controls network failures (&amp;gt; SunPlex v3.0) (Similar to Bonding on Linux)&lt;/li>
&lt;li>DPM: Disk Path Monitoring (hard drive monitoring&amp;hellip;works with I/O access, so if no traffic runs on the drive, no error can be found)&lt;/li>
&lt;li>Application Traffic Striping: Virtual private IP address (must be network class B &amp;lt; SunPlex v3.1)&lt;/li>
&lt;li>SCI: This is a shared memory technology for clusters. With this each node can view the memory of each other.&lt;/li>
&lt;li>Containers: Zones + RGM&lt;/li>
&lt;li>Amnesia: Amnesia occurs when a node is booting but can&amp;rsquo;t join the cluster because another node hasn&amp;rsquo;t authorized it. So it&amp;rsquo;s waiting for authorization.&lt;/li>
&lt;/ul>
&lt;h3 id="solaris-zone">Solaris Zone &lt;a href="#solaris-zone" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h3>&lt;p>A Solaris zone is a virtual zone that encapsulates a service (e.g. Apache). The advantage is that we can manage the maximum processor percentage or the maximum memory that the service can use. Many other features are available. A zone can be clustered &amp;gt; SunPlex v3.1; for older versions, you can cluster the global zone.&lt;/p></description></item><item><title>QEMU: Windows Installation</title><link>https://wiki.deimos.fr/Qemu_:_Installation_de_Windows/</link><pubDate>Fri, 24 Aug 2007 06:00:00 +0200</pubDate><guid>https://wiki.deimos.fr/Qemu_:_Installation_de_Windows/</guid><description>&lt;p>QEMU allows you to run one or more operating systems (and their applications) in isolation on the same physical machine. QEMU works on x86, x86-64, PPC, Sparc, and ARM platforms. QEMU runs under Linux, FreeBSD, OpenBSD, Mac OS X, Unix, and Windows operating systems.&lt;/p>
&lt;p>QEMU is a free, reliable, and powerful virtualization tool. Guest operating systems share the resources of the physical machine.&lt;/p>
&lt;p>QEMU is a &amp;ldquo;system emulator&amp;rdquo; or &amp;ldquo;virtual machine.&amp;rdquo; Guest operating systems are not &amp;ldquo;aware&amp;rdquo; of the underlying QEMU - they don&amp;rsquo;t need to be &amp;ldquo;ported&amp;rdquo; (adapted) to work on QEMU.&lt;/p></description></item></channel></rss>