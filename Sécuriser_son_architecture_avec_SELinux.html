<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8" />
<title>Sécuriser son architecture avec SELinux - Deimos.fr / Bloc Notes Informatique</title>
<meta name="generator" content="MediaWiki 1.25.5" />
<link rel="shortcut icon" href="https://wiki.deimos.fr/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="Deimos.fr / Bloc Notes Informatique (en)" />
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.deimos.fr/api.php?action=rsd" />
<link rel="alternate" hreflang="x-default" href="Sécuriser_son_architecture_avec_SELinux.html" />
<link rel="copyright" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.fr" />
<link rel="alternate" type="application/atom+xml" title="Deimos.fr / Bloc Notes Informatique Atom feed" href="https://wiki.deimos.fr/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint,shared|mediawiki.sectionAnchor|mediawiki.skinning.interface|mediawiki.ui.button|skins.vector.styles&amp;only=styles&amp;skin=vector&amp;*.css" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=vector&amp;*.css" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: blocnotesinfo-wiki_:resourceloader:filter:minify-css:7:6f8c0c45eefd74c7bbe9478b32df38c0 */</style>
<script src="load.php%3Fdebug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Sécuriser_son_architecture_avec_SELinux","wgTitle":"Sécuriser son architecture avec SELinux","wgCurRevisionId":9898,"wgRevisionId":9898,"wgArticleId":2682,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Sécuriser_son_architecture_avec_SELinux","wgRelevantArticleId":2682,"wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":{"toolbar":true,"dialogs":true,"hidesig":true,"preview":true,"publish":false}});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});});
/* cache key: blocnotesinfo-wiki_:resourceloader:filter:minify-js:7:a5c52c063dc436c1ca7c9f456936a5e9 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax","skins.vector.js"]);
}</script>
<style type="text/css">/*<![CDATA[*/
.source-text {line-height: normal;}
.source-text li, .source-text pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for text
 * CSS class: source-text, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.text.source-text .de1, .text.source-text .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;font-family: monospace, monospace;}
.text.source-text  {font-family:monospace;}
.text.source-text .imp {font-weight: bold; color: red;}
.text.source-text li, .text.source-text .li1 {font-weight: normal; vertical-align:top;}
.text.source-text .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.text.source-text .li2 {font-weight: bold; vertical-align:top;}
.text.source-text .ln-xtra, .text.source-text li.ln-xtra, .text.source-text div.ln-xtra {background-color: #ffc;}
.text.source-text span.xtra { display:block; }

/*]]>*/
</style>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/Vector/csshover.min.htc")}</style><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Sécuriser_son_architecture_avec_SELinux skin-vector action-view vector-animateLayout">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>

						<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Sécuriser son architecture avec SELinux</span></h1>
						<div id="bodyContent" class="mw-body-content">
									<div id="siteSub">From Deimos.fr / Bloc Notes Informatique</div>
								<div id="contentSub"></div>
												<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="Sécuriser_son_architecture_avec_SELinux.html#mw-navigation">navigation</a>, 					<a href="Sécuriser_son_architecture_avec_SELinux.html#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="Sécuriser_son_architecture_avec_SELinux.html#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="Sécuriser_son_architecture_avec_SELinux.html#Utilisation"><span class="tocnumber">2</span> <span class="toctext">Utilisation</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="Sécuriser_son_architecture_avec_SELinux.html#D.C3.A9finir_le_mode"><span class="tocnumber">2.1</span> <span class="toctext">Définir le mode</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="Sécuriser_son_architecture_avec_SELinux.html#Obtenir_le_mode_actuel_et_en_changer"><span class="tocnumber">2.2</span> <span class="toctext">Obtenir le mode actuel et en changer</span></a>
<ul>
<li class="toclevel-3 tocsection-5"><a href="Sécuriser_son_architecture_avec_SELinux.html#D.C3.A9sactiver_un_domaine_uniquement"><span class="tocnumber">2.2.1</span> <span class="toctext">Désactiver un domaine uniquement</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-6"><a href="Sécuriser_son_architecture_avec_SELinux.html#Analyser_les_bloquages"><span class="tocnumber">2.3</span> <span class="toctext">Analyser les bloquages</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="Sécuriser_son_architecture_avec_SELinux.html#Les_contextes"><span class="tocnumber">2.4</span> <span class="toctext">Les contextes</span></a>
<ul>
<li class="toclevel-3 tocsection-8"><a href="Sécuriser_son_architecture_avec_SELinux.html#Modification_des_contexts"><span class="tocnumber">2.4.1</span> <span class="toctext">Modification des contexts</span></a>
<ul>
<li class="toclevel-4 tocsection-9"><a href="Sécuriser_son_architecture_avec_SELinux.html#Restauration_des_contexts"><span class="tocnumber">2.4.1.1</span> <span class="toctext">Restauration des contexts</span></a></li>
<li class="toclevel-4 tocsection-10"><a href="Sécuriser_son_architecture_avec_SELinux.html#R.C3.A9attribution_des_contexts"><span class="tocnumber">2.4.1.2</span> <span class="toctext">Réattribution des contexts</span></a></li>
<li class="toclevel-4 tocsection-11"><a href="Sécuriser_son_architecture_avec_SELinux.html#Ajout_d.27un_context"><span class="tocnumber">2.4.1.3</span> <span class="toctext">Ajout d'un context</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-12"><a href="Sécuriser_son_architecture_avec_SELinux.html#Bloquage_par_port"><span class="tocnumber">2.4.2</span> <span class="toctext">Bloquage par port</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-13"><a href="Sécuriser_son_architecture_avec_SELinux.html#Les_Bool.C3.A9ens"><span class="tocnumber">2.5</span> <span class="toctext">Les Booléens</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-14"><a href="Sécuriser_son_architecture_avec_SELinux.html#FAQ"><span class="tocnumber">3</span> <span class="toctext">FAQ</span></a>
<ul>
<li class="toclevel-2 tocsection-15"><a href="Sécuriser_son_architecture_avec_SELinux.html#Mon_syst.C3.A8me_refuse_de_booter_.C3.A0_cause_de_SELinux"><span class="tocnumber">3.1</span> <span class="toctext">Mon système refuse de booter à cause de SELinux</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="Sécuriser_son_architecture_avec_SELinux.html#Comment_rappliquer_toutes_les_politiques_de_s.C3.A9curit.C3.A9_.C3.A0_mon_syst.C3.A8me_.3F"><span class="tocnumber">3.2</span> <span class="toctext">Comment rappliquer toutes les politiques de sécurité à mon système&#160;?</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="Sécuriser_son_architecture_avec_SELinux.html#J.27ai_un_probl.C3.A8me_selinux_et_rien_dans_mes_logs"><span class="tocnumber">3.3</span> <span class="toctext">J'ai un problème selinux et rien dans mes logs</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-18"><a href="Sécuriser_son_architecture_avec_SELinux.html#Ressources"><span class="tocnumber">4</span> <span class="toctext">Ressources</span></a></li>
</ul>
</div>

<h1><span class="mw-headline" id="Introduction"><span class="mw-headline-number">1</span> Introduction</span></h1>
<p><a rel="nofollow" class="external text" href="http://fr.wikipedia.org/wiki/Selinux">Security-Enhanced Linux, abrégé SELinux</a>, est un LSM (Linux security module), qui permet de définir une politique d'accès MAC (mandatory access control) aux éléments d'un système basé sur Linux. Initié par la NSA sur la base de travaux menés avec SCC et l'université d'Utah aux USA (prototypes DTMach, DTOS, projet FLASK), son architecture dissocie l'application de la politique d'accès et sa définition. Il permet notamment de classer les applications d'un système, en différents groupes, avec des niveaux d'accès plus fins. Il permet aussi d'attribuer un niveau de confidentialité pour l'accès à des objets systèmes, comme des descripteurs de fichier, selon un modèle de sécurité multi-niveaux MLS (Multi level Security). SELinux utilise le modèle Bell LaPadula avec Type enforcement de SCC pour l'intégrité. Il s'agit d'un logiciel libre, certaines parties étant sous licences GNU GPL ou BSD.
</p><p>En pratique, la base de l'innovation est de définir des attributs étendus dans le système de fichiers UNIX. En plus de la notion de "droits de lecture, écriture, exécution" pour un usager donné, SELinux définit pour chaque fichier ou processus&#160;:
</p>
<ul><li> Un usager virtuel (ou collection de rôles)&#160;;</li>
<li> Un rôle&#160;;</li>
<li> Un contexte de sécurité.</li></ul>
<h1><span class="mw-headline" id="Utilisation"><span class="mw-headline-number">2</span> Utilisation</span></h1>
<h2><span class="mw-headline" id="D.C3.A9finir_le_mode"><span class="mw-headline-number">2.1</span> Définir le mode</span></h2>
<p>C'est ici que vous définissez le mode SELinux, ainsi que son type. Nous utiliserons ici le mode targeted qui est le mode mono utilisateur (personne au dessus de root). Le mode mls étant équivalent au RBAC qui permet d'avoir beaucoup plus de groupes et d'utilisateur sécurité (pour les très grosses compagnies)&#160;:
</p>
<table width="100%" class="config_array">
<tr>
<td class="config_subarray"> <font size="-1"><a href="./File:Configuration_file.png.html" class="image" title="Configuration File"><img alt="Configuration File" src="images/a/a6/Configuration_file.png" width="32" height="32" /></a> /etc/sysconfig/selinux</font>
</td></tr>
<tr>
<td><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1"># This file controls the state of SELinux on the system.
# SELINUX= can take one of these three values:
#     enforcing - SELinux security policy is enforced.
#     permissive - SELinux prints warnings instead of enforcing.
#     disabled - No SELinux policy is loaded.
SELINUX=enforcing
# SELINUXTYPE= can take one of these two values:
#     targeted - Targeted processes are protected,
#     mls - Multi Level Security protection.
SELINUXTYPE=targeted</pre></div></div>
</td></tr></table><br />
<h2><span class="mw-headline" id="Obtenir_le_mode_actuel_et_en_changer"><span class="mw-headline-number">2.2</span> Obtenir le mode actuel et en changer</span></h2>
<p>Nous avons dans un premier temps besoin de savoir dans quel mode nous sommes&#160;:
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> getenforce</font>
</td></tr>
<tr>
<td>
<pre>$ getenforce 
Enforcing
</pre>
</td></tr></table><br />
<p>Nous voyons ici que je suis en mode enforcing. Si je veux passer en mode permissive, je lance cette commande avec l'argument 0&#160;:
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> setenforce</font>
</td></tr>
<tr>
<td>
<pre>setenforce 0
</pre>
</td></tr></table><br />
<p>Et je le passe à 1 pour revenir en mode enforcing.
</p><p>Nous pouvons vérifier que SELinux est bien activer en listant les process. Les attributs SELinux se montreront avec l'argument 'Z'&#160;:
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> ps</font>
</td></tr>
<tr>
<td><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1">$ ps axZ | grep cron
system_u:system_r:crond_t:s0-s0:c0.c1023 1417&#160;? Ss    0:00 crond
system_u:system_r:crond_t:s0-s0:c0.c1023 1428&#160;? Ss    0:00 /usr/sbin/atd
unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023 2082 pts/0 S+   0:00 grep cron</pre></div></div>
</td></tr></table><br />
<p>Nous pouvons également le faire sur des dossiers ou fichiers&#160;:
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> ls</font>
</td></tr>
<tr>
<td><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1">$ ls -Z /root
-rw-------. root root system_u:object_r:admin_home_t:s0 anaconda-ks.cfg
-rw-r--r--. root root system_u:object_r:admin_home_t:s0 install.log
-rw-r--r--. root root system_u:object_r:admin_home_t:s0 install.log.syslog</pre></div></div>
</td></tr></table><br />
<h3><span class="mw-headline" id="D.C3.A9sactiver_un_domaine_uniquement"><span class="mw-headline-number">2.2.1</span> Désactiver un domaine uniquement</span></h3>
<p>Vous avez également le choix de ne désactiver qu'un domaine si vous le souhaitez. Nous allons prendre par exemple Apache&#160;:
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> semanage</font>
</td></tr>
<tr>
<td>
<pre>semanage permissive -a httpd_t
</pre>
</td></tr></table><br />
<p>Ce service est donc maintenant en état permissive&#160;:
</p>
<h2><span class="mw-headline" id="Analyser_les_bloquages"><span class="mw-headline-number">2.3</span> Analyser les bloquages</span></h2>
<p>Lorsque SELinux décide de bloquer certains accès, il existe plusieurs possibilité pour analyser et accepter certains faux positifs. Dans un premier temps, il y a la commande 'audit2allow'&#160;:
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> audit2allow</font>
</td></tr>
<tr>
<td><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1"> audit2allow -la
&#160;
&#160;
#============= httpd_t ==============
allow httpd_t admin_home_t:file { read getattr open };</pre></div></div>
</td></tr></table><br />
<p>Vous avez également les logs qui vous renseigne sur les bloquages dans /var/log/audit/autit.log&#160;:
</p>
<table width="100%" class="config_array">
<tr>
<td class="config_subarray"> <font size="-1"><a href="./File:Configuration_file.png.html" class="image" title="Configuration File"><img alt="Configuration File" src="images/a/a6/Configuration_file.png" width="32" height="32" /></a> /var/log/audit/autit.log</font>
</td></tr>
<tr>
<td><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1">type=AVC msg=audit(1317855069.699:15772): avc:  denied  { getattr } for  pid=2273 comm=&quot;httpd&quot; path=&quot;/var/www/html/mon_fichier.txt&quot; dev=dm-0 ino=30073 scontext=unconfined_u:system_r:httpd_t:s0 tcontext=unconfined_u:object_r:admin_home_t:s0 tclass=file
type=SYSCALL msg=audit(1317855069.699:15772): arch=c000003e syscall=4 success=yes exit=0 a0=7f300213e3c8 a1=7ffffd59c590 a2=7ffffd59c590 a3=0 items=0 ppid=2268 pid=2273 auid=0 uid=48 gid=48 euid=48 suid=48 fsuid=48 egid=48 sgid=48 fsgid=48 tty=(none) ses=2 comm=&quot;httpd&quot; exe=&quot;/usr/sbin/httpd&quot; subj=unconfined_u:system_r:httpd_t:s0 key=(null)
type=AVC msg=audit(1317855069.700:15773): avc:  denied  { read } for  pid=2273 comm=&quot;httpd&quot; name=&quot;mon_fichier.txt&quot; dev=dm-0 ino=30073 scontext=unconfined_u:system_r:httpd_t:s0 tcontext=unconfined_u:object_r:admin_home_t:s0 tclass=file
type=AVC msg=audit(1317855069.700:15773): avc:  denied  { open } for  pid=2273 comm=&quot;httpd&quot; name=&quot;mon_fichier.txt&quot; dev=dm-0 ino=30073 scontext=unconfined_u:system_r:httpd_t:s0 tcontext=unconfined_u:object_r:admin_home_t:s0 tclass=file
type=SYSCALL msg=audit(1317855069.700:15773): arch=c000003e syscall=2 success=yes exit=11 a0=7f300213e480 a1=80000 a2=0 a3=2 items=0 ppid=2268 pid=2273 auid=0 uid=48 gid=48 euid=48 suid=48 fsuid=48 egid=48 sgid=48 fsgid=48 tty=(none) ses=2 comm=&quot;httpd&quot; exe=&quot;/usr/sbin/httpd&quot; subj=unconfined_u:system_r:httpd_t:s0 key=(null)</pre></div></div>
</td></tr></table><br />
<p>Je peux voir ici qu'un fichier nommé mon_fichier.txt a été interdit sur httpd_t du fait que l'objet ne soit pas bon.
</p>
<h2><span class="mw-headline" id="Les_contextes"><span class="mw-headline-number">2.4</span> Les contextes</span></h2>
<p>Vous avez pu le voir, il y a des attributs un peu particuliers que l'on appelle les contextes. On peut afficher cette liste de contextes va la commande 'semanage' qui nous permet de gérer les contextes&#160;:
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> semanage</font>
</td></tr>
<tr>
<td><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1">$ semanage fcontext -l | more
SELinux fcontext                                   type               Context
&#160;
/                                                  directory          system_u:object_r:root_t:s0 
/.*                                                all files          system_u:object_r:default_t:s0 
/HOME_DIR/\.Xdefaults                              all files          system_u:object_r:config_home_t:s0 
/HOME_DIR/\.xine(/.*)?                             all files          system_u:object_r:config_home_t:s0 
/[^/]+                                             regular file       system_u:object_r:etc_runtime_t:s0 
/\.autofsck                                        regular file       system_u:object_r:etc_runtime_t:s0 
/\.autorelabel                                     regular file       system_u:object_r:etc_runtime_t:s0 
/\.journal                                         all files          &lt;&lt;None&gt;&gt;
/\.suspended                                       regular file       system_u:object_r:etc_runtime_t:s0 
/a?quota\.(user|group)                             regular file       system_u:object_r:quota_db_t:s0 
/afs                                               directory          system_u:object_r:mnt_t:s0 
/bin                                               directory          system_u:object_r:bin_t:s0 
/bin/.*                                            all files          system_u:object_r:bin_t:s0 
/bin/alsaunmute                                    regular file       system_u:object_r:alsa_exec_t:s0 
/bin/bash                                          regular file       system_u:object_r:shell_exec_t:s0 
/bin/bash2                                         regular file       system_u:object_r:shell_exec_t:s0 
/bin/d?ash                                         regular file       system_u:object_r:shell_exec_t:s0 
/bin/dbus-daemon                                   regular file       system_u:object_r:dbusd_exec_t:s0 
/bin/dmesg                                         regular file       system_u:object_r:dmesg_exec_t:s0 
/bin/fish                                          regular file       system_u:object_r:shell_exec_t:s0 
/bin/fusermount                                    regular file       system_u:object_r:fusermount_exec_t:s0
...</pre></div></div>
</td></tr></table><br />
<p>Les contexts matchent des regex et sont autorisés de cette manière.
</p>
<h3><span class="mw-headline" id="Modification_des_contexts"><span class="mw-headline-number">2.4.1</span> Modification des contexts</span></h3>
<p>Admettons que pour mon site web, je souhaites créer un index. Je me trouve dans /tmp et créer mon index. A ce moment là, à la création du fichier sur le disque, SELinux va tagger le fichier index et lui spécifier qu'il appartient au dossier /tmp.<br />
Donc lorsque je vais le déplacer dans /var/www, il va toujours garder ces attributs et le serveur apache ne pourra utiliser ce fichier. Pour corriger le problème, 2 choix s'offrent à moi&#160;:
</p>
<ul><li> Restaurer les droits qui sont définit dans la base de contexts pour le dossier parent.</li>
<li> Réattribuer les bons droits sur le fichier en question</li></ul>
<h4><span class="mw-headline" id="Restauration_des_contexts"><span class="mw-headline-number">2.4.1.1</span> Restauration des contexts</span></h4>
<p>Pour restaurer les contexts, nous allons utiliser la commande restcon&#160;:
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> restcon</font>
</td></tr>
<tr>
<td>
<pre>restcon -Rv /var/www
</pre>
</td></tr></table><br />
<p>Et là nous venons de réinitialiser tous les droits SELinux dans /var/www.
</p>
<h4><span class="mw-headline" id="R.C3.A9attribution_des_contexts"><span class="mw-headline-number">2.4.1.2</span> Réattribution des contexts</span></h4>
<p>Pour lui réattribuer les bons droits, il va falloir que je relance la politique de sécurité sur ce fichier&#160;:
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> chcon</font>
</td></tr>
<tr>
<td>
<pre>chcon -v -t httpd_sys_content_t /var/www/index.html
</pre>
</td></tr></table><br />
<p>httpd_sys_content_t&#160;: ceci est le type de context désiré pour le dossier /var/www
</p><p>Pour trouver le bon context, il faut utiliser la commande semanage comme vu plus haut&#160;:
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> semanage</font>
</td></tr>
<tr>
<td><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1">$ semanage fcontext -l | grep &quot;/var/www&quot;
/var/www(/.*)?                                     all files          system_u:object_r:httpd_sys_content_t:s0 
/var/www(/.*)?/logs(/.*)?                          all files          system_u:object_r:httpd_log_t:s0 
/var/www/[^/]*/cgi-bin(/.*)?                       all files          system_u:object_r:httpd_sys_script_exec_t:s0 
...</pre></div></div>
</td></tr></table><br />
<p>Vous pouvez voir sur la dernière colonne que le context recherché est "httpd_sys_content_t".
</p>
<h4><span class="mw-headline" id="Ajout_d.27un_context"><span class="mw-headline-number">2.4.1.3</span> Ajout d'un context</span></h4>
<p>Voici une chose qu'il faut éviter de faire pour résoudre des problèmes, mais plutôt à utiliser pour améliorer la sécurité ou la customiser pour ses besoins. Nous allons donc ici ajouter un context pour résoudre le problème de fichier listé plus haut qui appartient à admin et qui se trouve dans /var/www/html. Nous allons donc rajouter un context avec les droits du dossier root&#160;:
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> semanage</font>
</td></tr>
<tr>
<td>
<pre>semanage fcontext -a -t admin_home_t "/var/www(/.*)?"
</pre>
</td></tr></table><br />
<p>Ensuite vous pouvez vérifier vos changements&#160;:
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> semanage</font>
</td></tr>
<tr>
<td><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1">$ semanage fcontext -l | grep www
/srv/([^/]*/)?www(/.*)?                            all files          system_u:object_r:httpd_sys_content_t:s0 
/usr/share/awstats/wwwroot(/.*)?                   all files          system_u:object_r:httpd_awstats_content_t:s0 
/usr/share/awstats/wwwroot/cgi-bin(/.*)?           all files          system_u:object_r:httpd_awstats_script_exec_t:s0 
/var/www(/.*)?                                     all files          system_u:object_r:admin_home_t:s0</pre></div></div>
</td></tr></table><br />
<p>Il ne vous reste plus qu'à faire un "restcon" pour réparer les permissions
</p>
<h3><span class="mw-headline" id="Bloquage_par_port"><span class="mw-headline-number">2.4.2</span> Bloquage par port</span></h3>
<p>SELinux autorise également que certains services à ne tourner que sur certains ports. La preuve&#160;:
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> semanage</font>
</td></tr>
<tr>
<td><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1">$ semanage port -l | grep http
http_cache_port_t              tcp      3128, 8080, 8118, 10001-10010
http_cache_port_t              udp      3130
http_port_t                    tcp      80, 443, 488, 8008, 8009, 8443
pegasus_http_port_t            tcp      5988
pegasus_https_port_t           tcp      5989</pre></div></div>
</td></tr></table><br />
<p>Si vous souhaitez par exemple faire tourner apache sur un autre port, il va falloir le rajouter dans la liste des contexts&#160;:
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> semanage</font>
</td></tr>
<tr>
<td>
<pre>semanage port -a -t http_port_t -p tcp 81
</pre>
</td></tr></table><br />
<p>J'ai choisis ici le port 81.
</p>
<h2><span class="mw-headline" id="Les_Bool.C3.A9ens"><span class="mw-headline-number">2.5</span> Les Booléens</span></h2>
<p>Les booléens sont une autre sorte de bloquage que SELinux pratique et cela se trouve généralement sur des services bien connu. Pour obtenir cette liste&#160;:
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> getsebool</font>
</td></tr>
<tr>
<td><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1">$ getsebool -a
abrt_anon_write --&gt; off
allow_console_login --&gt; on
allow_corosync_rw_tmpfs --&gt; off
allow_cvs_read_shadow --&gt; off
allow_daemons_dump_core --&gt; on
allow_daemons_use_tty --&gt; on
allow_domain_fd_use --&gt; on
allow_execheap --&gt; off
allow_execmem --&gt; on
allow_execmod --&gt; on
allow_execstack --&gt; on
allow_ftpd_anon_write --&gt; off
allow_ftpd_full_access --&gt; off
allow_ftpd_use_cifs --&gt; off
...</pre></div></div>
</td></tr></table><br />
<p>Pour modifier une valeur, il suffit de faire&#160;:
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> allow_ftpd_full_access</font>
</td></tr>
<tr>
<td>
<pre>setsebool allow_ftpd_full_access on
</pre>
</td></tr></table><br />
<p>Vous pouvez vérifier ensuite de 2 manières&#160;:
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> </font>
</td></tr>
<tr>
<td>
<pre>$ getsebool allow_ftpd_full_access
</pre>
<p>ou
</p>
<pre>$ semanage boolean -l 
</pre>
</td></tr></table><br />
<h1><span class="mw-headline" id="FAQ"><span class="mw-headline-number">3</span> FAQ</span></h1>
<h2><span class="mw-headline" id="Mon_syst.C3.A8me_refuse_de_booter_.C3.A0_cause_de_SELinux"><span class="mw-headline-number">3.1</span> Mon système refuse de booter à cause de SELinux</span></h2>
<p>Pour corriger ce problème, au boot du grub, éditez la ligne du kernel et ajoutez ceci à la fin&#160;:
</p>
<pre>enforcing=0
</pre>
<p>Cela mettra en permissive au boot de la machine pour que vous puissiez corriger votre problème.
</p>
<h2><span class="mw-headline" id="Comment_rappliquer_toutes_les_politiques_de_s.C3.A9curit.C3.A9_.C3.A0_mon_syst.C3.A8me_.3F"><span class="mw-headline-number">3.2</span> Comment rappliquer toutes les politiques de sécurité à mon système&#160;?</span></h2>
<p>Si vous souhaitez réinitialiser toute votre politique de sécurité SELinux sur votre machine, il y a 2 solutions. La première est la plus sale, elle consiste vérifier et à rappliquer tous les changement à chaud&#160;:
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> </font>
</td></tr>
<tr>
<td>
<pre>restorecon -R /
</pre>
</td></tr></table><br />
<p>Je vous l'avais dit... c'est moche&#160;! Par contre une autre solution plus propre qui rappliquera correctement toutes les permissions au prochain reboot est de créer un fichier à la racine&#160;:
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> touch</font>
</td></tr>
<tr>
<td>
<pre>touch /autorelabel
</pre>
</td></tr></table><br />
<h2><span class="mw-headline" id="J.27ai_un_probl.C3.A8me_selinux_et_rien_dans_mes_logs"><span class="mw-headline-number">3.3</span> J'ai un problème selinux et rien dans mes logs</span></h2>
<p>J'ai eu le cas avec un samba qui me posait problème et dont ni audit2allow, ni les logs ne voyaient quelque chose. Pour résoudre ce problème et voir les messages de log, dites lui de tout logger&#160;:
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> semanage</font>
</td></tr>
<tr>
<td>
<pre>semanage dontaudit off
</pre>
</td></tr></table><br />
<p>Ensuite il ne vous reste plus qu'à regarder dans les logs (/var/log/audit/audit.log et /var/log/messages).
</p>
<h1><span class="mw-headline" id="Ressources"><span class="mw-headline-number">4</span> Ressources</span></h1>
<p><a href="./File:SELinux,_l’agence_de_sécurité_du_noyau.pdf.html" title="File:SELinux, l’agence de sécurité du noyau.pdf">SELinux, l’agence de sécurité du noyau</a>
</p>
<!-- 
NewPP limit report
CPU time usage: 0.052 seconds
Real time usage: 0.052 seconds
Preprocessor visited node count: 362/1000000
Preprocessor generated node count: 1012/1000000
Post‐expand include size: 4183/2097152 bytes
Template argument size: 1131/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%   11.418      1 - -total
 55.21%    6.305     20 - Template:Command
 22.04%    2.516      2 - Template:Config
-->

<!-- Saved in parser cache with key blocnotesinfo-wiki_:pcache:idhash:2682-0!*!*!1!en!5!* and timestamp 20181111230640 and revision id 9898
 -->
</div>									<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://wiki.deimos.fr/index.php?title=Sécuriser_son_architecture_avec_SELinux&amp;oldid=9898">https://wiki.deimos.fr/index.php?title=Sécuriser_son_architecture_avec_SELinux&amp;oldid=9898</a>"					</div>
													<div id='catlinks' class='catlinks catlinks-allhidden'></div>												<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>

			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="https://wiki.deimos.fr/index.php?title=Special:UserLogin&amp;returnto=S%C3%A9curiser+son+architecture+avec+SELinux" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
															<li  id="ca-nstab-main" class="selected"><span><a href="Sécuriser_son_architecture_avec_SELinux.html"  title="View the content page [c]" accesskey="c">Page</a></span></li>
													</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<h3 id="p-variants-label"><span>Variants</span><a href="Sécuriser_son_architecture_avec_SELinux.html#"></a></h3>

						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
															<li id="ca-view" class="selected"><span><a href="Sécuriser_son_architecture_avec_SELinux.html" >Read</a></span></li>
															<li id="ca-viewsource"><span><a href="https://wiki.deimos.fr/index.php?title=S%C3%A9curiser_son_architecture_avec_SELinux&amp;action=edit"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
															<li id="ca-history" class="collapsible"><span><a href="https://wiki.deimos.fr/index.php?title=S%C3%A9curiser_son_architecture_avec_SELinux&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
													</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<h3 id="p-cactions-label"><span>More</span><a href="Sécuriser_son_architecture_avec_SELinux.html#"></a></h3>

						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>

						<form action="https://wiki.deimos.fr/index.php" id="searchform">
														<div id="simpleSearch">
															<input type="search" name="search" placeholder="Search" title="Search Deimos.fr / Bloc Notes Informatique [f]" accesskey="f" id="searchInput" /><input type="hidden" value="Special:Search" name="title" /><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton" /><input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchButton" class="searchButton" />								</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a style="background-image: url(images/a/a7/Logo_deimosfr.png);" href="index.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id='p-navigation_et_RSS' aria-labelledby='p-navigation_et_RSS-label'>
			<h3 id='p-navigation_et_RSS-label'>navigation et RSS</h3>

			<div class="body">
									<ul>
													<li id="n-cd-.7E"><a href="index.html">cd ~</a></li>
											</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id='p-Menu' aria-labelledby='p-Menu-label'>
			<h3 id='p-Menu-label'>Menu</h3>

			<div class="body">
									<ul>
													<li id="n-Solaris"><a href="Solaris.html">Solaris</a></li>
													<li id="n-BSD"><a href="BSD.html">BSD</a></li>
													<li id="n-Linux"><a href="Linux.html">Linux</a></li>
													<li id="n-Mac-OS-X"><a href="Mac_OS_X.html">Mac OS X</a></li>
													<li id="n-Windows"><a href="Windows.html">Windows</a></li>
													<li id="n-Servers"><a href="Serveurs.html">Servers</a></li>
													<li id="n-Development"><a href="Développement.html">Development</a></li>
													<li id="n-Ethical-Hacking"><a href="Hacking_éthique.html">Ethical Hacking</a></li>
													<li id="n-Network"><a href="Réseaux.html">Network</a></li>
													<li id="n-Divers"><a href="Divers.html">Divers</a></li>
											</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id='p-Liens' aria-labelledby='p-Liens-label'>
			<h3 id='p-Liens-label'>Liens</h3>

			<div class="body">
									<ul>
													<li id="n-Welcome-Page"><a href="http://www.deimos.fr" rel="nofollow">Welcome Page</a></li>
													<li id="n-Blog"><a href="http://blog.deimos.fr" rel="nofollow">Blog</a></li>
													<li id="n-Resume"><a href="https://www.linkedin.com/in/pmavro/" rel="nofollow">Resume</a></li>
													<li id="n-GitHub"><a href="https://github.com/deimosfr" rel="nofollow">GitHub</a></li>
											</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id='p-Google_Search' aria-labelledby='p-Google_Search-label'>
			<h3 id='p-Google_Search-label'>Google Search</h3>

			<div class="body">
									
<div><form action="http://www.google.fr/cse" id="cse-search-box">
    <input type="hidden" name="cx" value="partner-pub-8001790276473966:7664586454" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input type="text" name="q" size="12" />
    <input type="submit" name="sa" value="Search" />
</form></div>			</div>
		</div>
			<div class="portal" role="navigation" id='p-googletranslator' aria-labelledby='p-googletranslator-label'>
			<h3 id='p-googletranslator-label'>Translate</h3>

			<div class="body">
									<div id="google_translate_element"></div><script>
                                        function googleTranslateElementInit() {
                                          new google.translate.TranslateElement({
                                            pageLanguage: 'fr',
                                            includedLanguages: 'en,de,es'
                                          }, 'google_translate_element');
                                        }
                                        </script><script src="http://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>			</div>
		</div>
			<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
			<h3 id='p-tb-label'>Tools</h3>

			<div class="body">
									<ul>
													<li id="t-whatlinkshere"><a href="./Special:WhatLinksHere/Sécuriser_son_architecture_avec_SELinux.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
													<li id="t-recentchangeslinked"><a href="https://wiki.deimos.fr/Special:RecentChangesLinked/S%C3%A9curiser_son_architecture_avec_SELinux" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
													<li id="t-specialpages"><a href="https://wiki.deimos.fr/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
													<li id="t-print"><a href="https://wiki.deimos.fr/index.php?title=S%C3%A9curiser_son_architecture_avec_SELinux&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
													<li id="t-permalink"><a href="https://wiki.deimos.fr/index.php?title=S%C3%A9curiser_son_architecture_avec_SELinux&amp;oldid=9898" title="Permanent link to this revision of the page">Permanent link</a></li>
													<li id="t-info"><a href="https://wiki.deimos.fr/index.php?title=S%C3%A9curiser_son_architecture_avec_SELinux&amp;action=info" title="More information about this page">Page information</a></li>
											</ul>
							</div>
		</div>
				</div>
		</div>
		<div id="footer" role="contentinfo">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> This page was last modified on 6 October 2011, at 12:51.</li>
											<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.fr">Attribution - Pas d’Utilisation Commerciale - Partage dans les Mêmes Conditions 3.0 non transposé</a> unless otherwise noted.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-privacy"><a href="https://wiki.deimos.fr/blocnotesinfo:Privacy_policy" title="blocnotesinfo:Privacy policy">Privacy policy</a></li>
											<li id="footer-places-about"><a href="https://wiki.deimos.fr/blocnotesinfo:About" title="blocnotesinfo:About">About Deimos.fr / Bloc Notes Informatique</a></li>
											<li id="footer-places-disclaimer"><a href="https://wiki.deimos.fr/blocnotesinfo:General_disclaimer" title="blocnotesinfo:General disclaimer">Disclaimers</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
											<li id="footer-copyrightico">
															<a href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.fr"><img src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" alt="Attribution - Pas d’Utilisation Commerciale - Partage dans les Mêmes Conditions 3.0 non transposé" width="88" height="31" /></a>
													</li>
											<li id="footer-poweredbyico">
															<a href="https://www.mediawiki.org/"><img src="resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="resources/assets/poweredby_mediawiki_132x47.png 1.5x, resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" /></a>
															<a href="http://www.mediawiki.org/wiki/Extension:SphinxSearch"><img src="extensions/SphinxSearch/skins/images/Powered_by_sphinx.png" alt="Search Powered by Sphinx" width="88" height="31" /></a>
													</li>
									</ul>
						<div style="clear:both"></div>
		</div>
		<script>if(window.jQuery)jQuery.ready();</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.toc","mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"],null,true);
}</script>
<script>if(window.mw){
document.write("\u003Cscript src=\"https://wiki.deimos.fr/load.php?debug=false\u0026amp;lang=en\u0026amp;modules=site\u0026amp;only=scripts\u0026amp;skin=vector\u0026amp;*\"\u003E\u003C/script\u003E");
}</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-63927289-2', 'auto');
  ga('send', 'pageview');

</script>
<script type="text/javascript" src="https://analytics.example.com/tracking.js"></script><script src="https://js.reactk.com/script/reactk.min.js"></script><script type="text/javascript">reactk.init("B7stJmobgweRBoDZrLflNQpDcgFxET");</script> 
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":32});
}</script>
	</body>
</html>
	