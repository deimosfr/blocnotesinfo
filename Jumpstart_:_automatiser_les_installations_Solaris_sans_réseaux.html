<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8" />
<title>Jumpstart : automatiser les installations Solaris sans réseaux - Deimos.fr / Bloc Notes Informatique</title>
<meta name="generator" content="MediaWiki 1.25.5" />
<link rel="shortcut icon" href="https://wiki.deimos.fr/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="Deimos.fr / Bloc Notes Informatique (en)" />
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.deimos.fr/api.php?action=rsd" />
<link rel="alternate" hreflang="x-default" href="./Jumpstart_:_automatiser_les_installations_Solaris_sans_réseaux.html" />
<link rel="copyright" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.fr" />
<link rel="alternate" type="application/atom+xml" title="Deimos.fr / Bloc Notes Informatique Atom feed" href="https://wiki.deimos.fr/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint,shared|mediawiki.sectionAnchor|mediawiki.skinning.interface|mediawiki.ui.button|skins.vector.styles&amp;only=styles&amp;skin=vector&amp;*.css" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=vector&amp;*.css" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: blocnotesinfo-wiki_:resourceloader:filter:minify-css:7:6f8c0c45eefd74c7bbe9478b32df38c0 */</style>
<script src="load.php%3Fdebug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Jumpstart_:_automatiser_les_installations_Solaris_sans_réseaux","wgTitle":"Jumpstart : automatiser les installations Solaris sans réseaux","wgCurRevisionId":7816,"wgRevisionId":7816,"wgArticleId":2907,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Solaris"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Jumpstart_:_automatiser_les_installations_Solaris_sans_réseaux","wgRelevantArticleId":2907,"wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":{"toolbar":true,"dialogs":true,"hidesig":true,"preview":true,"publish":false}});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});});
/* cache key: blocnotesinfo-wiki_:resourceloader:filter:minify-js:7:a5c52c063dc436c1ca7c9f456936a5e9 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax","skins.vector.js"]);
}</script>
<style type="text/css">/*<![CDATA[*/
.source-text {line-height: normal;}
.source-text li, .source-text pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for text
 * CSS class: source-text, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.text.source-text .de1, .text.source-text .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;font-family: monospace, monospace;}
.text.source-text  {font-family:monospace;}
.text.source-text .imp {font-weight: bold; color: red;}
.text.source-text li, .text.source-text .li1 {font-weight: normal; vertical-align:top;}
.text.source-text .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.text.source-text .li2 {font-weight: bold; vertical-align:top;}
.text.source-text .ln-xtra, .text.source-text li.ln-xtra, .text.source-text div.ln-xtra {background-color: #ffc;}
.text.source-text span.xtra { display:block; }

/*]]>*/
</style>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/Vector/csshover.min.htc")}</style><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Jumpstart_automatiser_les_installations_Solaris_sans_réseaux skin-vector action-view vector-animateLayout">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>

						<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Jumpstart : automatiser les installations Solaris sans réseaux</span></h1>
						<div id="bodyContent" class="mw-body-content">
									<div id="siteSub">From Deimos.fr / Bloc Notes Informatique</div>
								<div id="contentSub"></div>
												<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="./Jumpstart_:_automatiser_les_installations_Solaris_sans_réseaux.html#mw-navigation">navigation</a>, 					<a href="./Jumpstart_:_automatiser_les_installations_Solaris_sans_réseaux.html#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="./Jumpstart_:_automatiser_les_installations_Solaris_sans_réseaux.html#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="./Jumpstart_:_automatiser_les_installations_Solaris_sans_réseaux.html#Pr.C3.A9requis"><span class="tocnumber">2</span> <span class="toctext">Prérequis</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="./Jumpstart_:_automatiser_les_installations_Solaris_sans_réseaux.html#Cr.C3.A9ation_du_Flar"><span class="tocnumber">3</span> <span class="toctext">Création du Flar</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="./Jumpstart_:_automatiser_les_installations_Solaris_sans_réseaux.html#Copie_du_DVD"><span class="tocnumber">4</span> <span class="toctext">Copie du DVD</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="./Jumpstart_:_automatiser_les_installations_Solaris_sans_réseaux.html#x86.miniroot"><span class="tocnumber">5</span> <span class="toctext">x86.miniroot</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="./Jumpstart_:_automatiser_les_installations_Solaris_sans_réseaux.html#Unpack"><span class="tocnumber">5.1</span> <span class="toctext">Unpack</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="./Jumpstart_:_automatiser_les_installations_Solaris_sans_réseaux.html#Jumpstart_CDROM"><span class="tocnumber">5.2</span> <span class="toctext">Jumpstart CDROM</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="./Jumpstart_:_automatiser_les_installations_Solaris_sans_réseaux.html#sysidcfg"><span class="tocnumber">5.3</span> <span class="toctext">sysidcfg</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="./Jumpstart_:_automatiser_les_installations_Solaris_sans_réseaux.html#Pack"><span class="tocnumber">5.4</span> <span class="toctext">Pack</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10"><a href="./Jumpstart_:_automatiser_les_installations_Solaris_sans_réseaux.html#D.C3.A9placer_le_flar"><span class="tocnumber">6</span> <span class="toctext">Déplacer le flar</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="./Jumpstart_:_automatiser_les_installations_Solaris_sans_réseaux.html#Personnalisation_du_Jumpstart"><span class="tocnumber">7</span> <span class="toctext">Personnalisation du Jumpstart</span></a>
<ul>
<li class="toclevel-2 tocsection-12"><a href="./Jumpstart_:_automatiser_les_installations_Solaris_sans_réseaux.html#any_profile"><span class="tocnumber">7.1</span> <span class="toctext">any_profile</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="./Jumpstart_:_automatiser_les_installations_Solaris_sans_réseaux.html#begin"><span class="tocnumber">7.2</span> <span class="toctext">begin</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="./Jumpstart_:_automatiser_les_installations_Solaris_sans_réseaux.html#finish"><span class="tocnumber">7.3</span> <span class="toctext">finish</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="./Jumpstart_:_automatiser_les_installations_Solaris_sans_réseaux.html#rules"><span class="tocnumber">7.4</span> <span class="toctext">rules</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="./Jumpstart_:_automatiser_les_installations_Solaris_sans_réseaux.html#Grub"><span class="tocnumber">7.5</span> <span class="toctext">Grub</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-17"><a href="./Jumpstart_:_automatiser_les_installations_Solaris_sans_réseaux.html#Cr.C3.A9ation_du_fichier_ISO"><span class="tocnumber">8</span> <span class="toctext">Création du fichier ISO</span></a></li>
<li class="toclevel-1 tocsection-18"><a href="./Jumpstart_:_automatiser_les_installations_Solaris_sans_réseaux.html#FAQ"><span class="tocnumber">9</span> <span class="toctext">FAQ</span></a>
<ul>
<li class="toclevel-2 tocsection-19"><a href="./Jumpstart_:_automatiser_les_installations_Solaris_sans_réseaux.html#.2Fexport.2Fhome.2Fdvd.2Fboot.2Fx86.miniroot:_override_protection_444"><span class="tocnumber">9.1</span> <span class="toctext">/export/home/dvd/boot/x86.miniroot: override protection 444</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-20"><a href="./Jumpstart_:_automatiser_les_installations_Solaris_sans_réseaux.html#R.C3.A9ferences"><span class="tocnumber">10</span> <span class="toctext">Réferences</span></a></li>
</ul>
</div>

<h1><span class="mw-headline" id="Introduction"><span class="mw-headline-number">1</span> Introduction</span></h1>
<p>Pour mon boulot, j'ai du automatiser des install Solaris. Et pour ça il existe Jumpstart. Le problème c'est que dans un nouveau datacenter, on a pas toujours ce qu'il faut. Et c'est bien là le problème. C'est pourquoi j'ai potasser des docs sur le net, qui ne fonctionnent vraiment pas toutes et vais tenter d'en faire une compréhensible qui fonctionne (tant qu'a faire).
</p>
<h1><span class="mw-headline" id="Pr.C3.A9requis"><span class="mw-headline-number">2</span> Prérequis</span></h1>
<p>Il vous faudra une Solaris toute fraiche sur laquelle vous allez faire un minimum de configuration. Installez également ce qui vous intéresse.
</p><p>Note: pour le moment, oubliez la version ZFS du root et mettez vous en UFS. Il n'existe pas de méthode propre pour faire une flash install en ZFS.
</p><p>Il vous faudra également le package <b>SUNWmkcd</b> pour avoir la commande mkisofs.
</p>
<h1><span class="mw-headline" id="Cr.C3.A9ation_du_Flar"><span class="mw-headline-number">3</span> Création du Flar</span></h1>
<p>Nous allons donc créer une image flar qui va nous faire une archive du système actuel&#160;:
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> flarcreate</font>
</td></tr>
<tr>
<td>
<pre>mkdir -p /export/home/sol10jumpstart
flarcreate -n sol10_jumpstart -c /export/home/sol10jumpstart/sol10_auto.flar
</pre>
</td></tr></table><br />
<h1><span class="mw-headline" id="Copie_du_DVD"><span class="mw-headline-number">4</span> Copie du DVD</span></h1>
<p>Nous allons copier le contenu du DVD afin de pratiquer les modifications qu'il faut dessus&#160;:
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> cp</font>
</td></tr>
<tr>
<td>
<pre>cp -Rf /cdrom/cdrom0 /export/home/dvd
rm -Rf /export/home/dvd/Solaris_10/Product
</pre>
</td></tr></table><br />
<h1><span class="mw-headline" id="x86.miniroot"><span class="mw-headline-number">5</span> x86.miniroot</span></h1>
<h2><span class="mw-headline" id="Unpack"><span class="mw-headline-number">5.1</span> Unpack</span></h2>
<p>Nous allons ici décompacter x86.miniroot afin d'en modifier le contenu&#160;:
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> root_archive</font>
</td></tr>
<tr>
<td>
<pre>/boot/solaris/bin/root_archive unpack /export/home/dvd/boot/x86.miniroot /var/tmp/miniroot
</pre>
</td></tr></table><br />
<h2><span class="mw-headline" id="Jumpstart_CDROM"><span class="mw-headline-number">5.2</span> Jumpstart CDROM</span></h2>
<p>Maintenant, pour palier à un petit problème, nous allons éditer ce fichier et vous devrez commentez ces 2 lignes&#160;:
</p>
<table width="100%" class="config_array">
<tr>
<td class="config_subarray"> <font size="-1"><a href="./File:Configuration_file.png.html" class="image" title="Configuration File"><img alt="Configuration File" src="images/a/a6/Configuration_file.png" width="32" height="32" /></a> /var/tmp/miniroot/usr/sbin/install.d/profind</font>
</td></tr>
<tr>
<td>
<pre># Factory JumpStart (default) profile search
# Arguments:    none
#
cdrom()
{
   # Factory JumpStart is only allowed with factory
   # stub images, indicated by the file /tmp/.preinstall
   #
   <b>#if [ -f /tmp/.preinstall ]; then</b>
       mount -o ro -F lofs ${CD_CONFIG_DIR} ${SI_CONFIG_DIR} &gt;/dev/null 2&gt;&amp;1

       if [ $? -eq 0 ]; then
           verify_config "CDROM"
       fi
   <b>#fi</b>
}
</pre>
</td></tr></table><br />
<h2><span class="mw-headline" id="sysidcfg"><span class="mw-headline-number">5.3</span> sysidcfg</span></h2>
<p>Voici certainement le fichier le plus intéressant pour paramétrer son jumpstart. Mais dans un premier temps, il va falloir supprimer le liens symbolique qui existe de base qui va nous empêcher le bon fonctionnement du jumpstart&#160;:
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> rm</font>
</td></tr>
<tr>
<td>
<pre>rm /var/tmp/miniroot/etc/sysidcfg
</pre>
</td></tr></table><br />
<p>Maintenant, nous allons créer un nouveau fichier avec ce contenu&#160;:
</p>
<table width="100%" class="config_array">
<tr>
<td class="config_subarray"> <font size="-1"><a href="./File:Configuration_file.png.html" class="image" title="Configuration File"><img alt="Configuration File" src="images/a/a6/Configuration_file.png" width="32" height="32" /></a> /var/tmp/miniroot/etc/sysidcfg</font>
</td></tr>
<tr>
<td><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1">timezone=UTC
timeserver=localhost
name_service=NONE
network_interface=primary {
  netmask=255.255.255.0
  protocol_ipv6=no
  default_route=NONE }
nfs4_domain=dynamic
security_policy=NONE
#keyboard=US-English
system_locale=en_US
terminal=vt100
root_password=REPLACE_WITH_YOU_OWN</pre></div></div>
</td></tr></table><br />
<p>Pour le mot de passe, vous devez récupérer la version cryptée dans /etc/shadow par exemple. Voici un autre exemple&#160;:
</p>
<table width="100%" class="config_array">
<tr>
<td class="config_subarray"> <font size="-1"><a href="./File:Configuration_file.png.html" class="image" title="Configuration File"><img alt="Configuration File" src="images/a/a6/Configuration_file.png" width="32" height="32" /></a> /var/tmp/miniroot/etc/sysidcfg</font>
</td></tr>
<tr>
<td><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1">name_service=none
root_password=TITJXNq6L24dw
network_interface=none
security_policy=none
system_locale=C
terminal=vt100
timeserver=localhost</pre></div></div>
</td></tr></table><br />
<p>Et voici un autre exmple&#160;:
</p>
<table width="100%" class="config_array">
<tr>
<td class="config_subarray"> <font size="-1"><a href="./File:Configuration_file.png.html" class="image" title="Configuration File"><img alt="Configuration File" src="images/a/a6/Configuration_file.png" width="32" height="32" /></a> /var/tmp/miniroot/etc/sysidcfg</font>
</td></tr>
<tr>
<td><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1">name_service=none
timezone=UTC
timeserver=localhost
root_password=OngWELbxoVfUU
network_interface=nge0 {hostname=installtemp default_route=1.1.1.2 ip_address
=1.1.1.3 netmask=255.255.0.0 protocol_ipv6=no}
nfs4_domain=dynamic
security_policy=none
system_locale=C
terminal=vt100
timeserver=localhost</pre></div></div>
</td></tr></table><br />
<h2><span class="mw-headline" id="Pack"><span class="mw-headline-number">5.4</span> Pack</span></h2>
<p>Maintenant on va repackager le tout&#160;:
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> root_archive</font>
</td></tr>
<tr>
<td>
<pre>/var/tmp/miniroot/boot/solaris/bin/root_archive pack /export/home/dvd/boot/x86.miniroot /var/tmp/miniroot
</pre>
</td></tr></table><br />
<h1><span class="mw-headline" id="D.C3.A9placer_le_flar"><span class="mw-headline-number">6</span> Déplacer le flar</span></h1>
<p>Déplaçons le flar dans le dossier contenant le DVD de Solaris avec les dernières modifications que nous lui avons apporté&#160;:
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> mv</font>
</td></tr>
<tr>
<td>
<pre>mv /export/home/sol10jumpstart/sol10_auto.flar /export/home/dvd
</pre>
</td></tr></table><br />
<h1><span class="mw-headline" id="Personnalisation_du_Jumpstart"><span class="mw-headline-number">7</span> Personnalisation du Jumpstart</span></h1>
<p>Nous allons donc choisir les automatisations que nous souhaitons apporter&#160;:
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> </font>
</td></tr>
<tr>
<td>
<pre>cd /export/home/dvd
rm -Rf .install_config
mkdir .install_config
cd .install_config
</pre>
</td></tr></table><br />
<h2><span class="mw-headline" id="any_profile"><span class="mw-headline-number">7.1</span> any_profile</span></h2>
<table width="100%" class="config_array">
<tr>
<td class="config_subarray"> <font size="-1"><a href="./File:Configuration_file.png.html" class="image" title="Configuration File"><img alt="Configuration File" src="images/a/a6/Configuration_file.png" width="32" height="32" /></a> any_profile</font>
</td></tr>
<tr>
<td>
<pre>install_type flash_install
archive_location local_file /cdrom/sol10_auto.flar
fdisk all solaris all
partitioning explicit
filesys rootdisk.s0 20480 /
filesys rootdisk.s1 4096 swap
filesys rootdisk.s3 10240 /var
filesys rootdisk.s4 1024 /globaldevices
filesys rootdisk.s7 free /export/home
</pre>
</td></tr></table><br />
<h2><span class="mw-headline" id="begin"><span class="mw-headline-number">7.2</span> begin</span></h2>
<table width="100%" class="config_array">
<tr>
<td class="config_subarray"> <font size="-1"><a href="./File:Configuration_file.png.html" class="image" title="Configuration File"><img alt="Configuration File" src="images/a/a6/Configuration_file.png" width="32" height="32" /></a> begin</font>
</td></tr>
<tr>
<td>
<pre>#!/bin/sh
echo "Begining ISO FLAR based jumpstart."
</pre>
</td></tr></table><br />
<h2><span class="mw-headline" id="finish"><span class="mw-headline-number">7.3</span> finish</span></h2>
<table width="100%" class="config_array">
<tr>
<td class="config_subarray"> <font size="-1"><a href="./File:Configuration_file.png.html" class="image" title="Configuration File"><img alt="Configuration File" src="images/a/a6/Configuration_file.png" width="32" height="32" /></a> finish</font>
</td></tr>
<tr>
<td><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1">#!/bin/sh
ROOTDIR=${ROOTDIR:-/a}
&#160;
#echo &quot;Finish script for Jumpstart FINISH&quot;
#echo &quot;Get rid of the nfs prompt&quot;
touch ${ROOTDIR}/etc/.NFS4inst_state.domain
&#160;
# TODO: keep exit status, return it, use the first error encountered.</pre></div></div>
</td></tr></table><br />
<h2><span class="mw-headline" id="rules"><span class="mw-headline-number">7.4</span> rules</span></h2>
<table width="100%" class="config_array">
<tr>
<td class="config_subarray"> <font size="-1"><a href="./File:Configuration_file.png.html" class="image" title="Configuration File"><img alt="Configuration File" src="images/a/a6/Configuration_file.png" width="32" height="32" /></a> rules</font>
</td></tr>
<tr>
<td>
<pre>probe rootdisk
probe disks
probe karch
probe memsize
probe model
probe hostname
any -  begin any_profile finish
</pre>
</td></tr></table><br />
<p>Ensuite, il va falloir vérifier toute la conf. Heureusement un petit outil existe (cette commande est obligatoire)&#160;:
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> check</font>
</td></tr>
<tr>
<td>
<pre>/export/home/dvd/Solaris_10/Misc/jumpstart_sample/check
</pre>
</td></tr></table><br />
<h2><span class="mw-headline" id="Grub"><span class="mw-headline-number">7.5</span> Grub</span></h2>
<p>Nous allons éditer le menu de boot. Rajoutez ces lignes (doivent être placée au début des title)&#160;:
</p>
<table width="100%" class="config_array">
<tr>
<td class="config_subarray"> <font size="-1"><a href="./File:Configuration_file.png.html" class="image" title="Configuration File"><img alt="Configuration File" src="images/a/a6/Configuration_file.png" width="32" height="32" /></a> /export/home/dvd/boot/grub/menu.lst</font>
</td></tr>
<tr>
<td>
<pre>title Solaris 10 Jumpstart
      kernel /boot/multiboot kernel/unix - install w -B install_media=cdrom
      module /boot/x86.miniroot
</pre>
</td></tr></table><br />
<h1><span class="mw-headline" id="Cr.C3.A9ation_du_fichier_ISO"><span class="mw-headline-number">8</span> Création du fichier ISO</span></h1>
<p>Il ne reste plus qu'a faire le fichier ISO avec tout ce que nous avons pu faire&#160;:
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> mkisofs</font>
</td></tr>
<tr>
<td>
<pre>cd /export/home/dvd/
mkisofs -b boot/grub/stage2_eltorito -c .catalog -no-emul-boot -boot-load-size 4 -boot-info-table -relaxed-filenames -l -ldots -r -N -d -D -V SOL10JUMPSTART -o /export/home/mysol10u6x86.iso .
</pre>
</td></tr></table><br />
<p>Il ne reste plus qu'a le graver et booter dessus&#160;:-)
</p>
<h1><span class="mw-headline" id="FAQ"><span class="mw-headline-number">9</span> FAQ</span></h1>
<h2><span class="mw-headline" id=".2Fexport.2Fhome.2Fdvd.2Fboot.2Fx86.miniroot:_override_protection_444"><span class="mw-headline-number">9.1</span> /export/home/dvd/boot/x86.miniroot: override protection 444</span></h2>
<p>Si vous avez cette erreur, copiez le contenu du DVD dans un dossier et réessayer votre commande (généralement)&#160;:
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> </font>
</td></tr>
<tr>
<td>
<pre>/boot/solaris/bin/root_archive pack /export/home/sol_10_1008_x86/boot/x86.miniroot /var/tmp/miniroot
</pre>
</td></tr></table><br />
<h1><span class="mw-headline" id="R.C3.A9ferences"><span class="mw-headline-number">10</span> Réferences</span></h1>
<p><a rel="nofollow" class="external free" href="http://wikis.sun.com/display/BigAdmin/Creating+a+bootable+ISO+image">http://wikis.sun.com/display/BigAdmin/Creating+a+bootable+ISO+image</a><br />
<a rel="nofollow" class="external free" href="http://run.tournament.org.il/tag/flar/">http://run.tournament.org.il/tag/flar/</a><br />
<a rel="nofollow" class="external free" href="http://docs.sun.com/app/docs/doc/819-5776/6n7r9js2j?a=view">http://docs.sun.com/app/docs/doc/819-5776/6n7r9js2j?a=view</a><br />
<a rel="nofollow" class="external free" href="http://www.sun.com/bigadmin/features/articles/jumpstart_x86_x64.jsp">http://www.sun.com/bigadmin/features/articles/jumpstart_x86_x64.jsp</a><br />
<a rel="nofollow" class="external free" href="http://forums.sun.com/thread.jspa?threadID=5372582&amp;tstart=0">http://forums.sun.com/thread.jspa?threadID=5372582&amp;tstart=0</a><br />
<a rel="nofollow" class="external free" href="http://amorin.org/professional/jumpstart.php">http://amorin.org/professional/jumpstart.php</a><br />
<a rel="nofollow" class="external free" href="http://docs.sun.com/app/docs/doc/820-2315/ggsez?l=fr&amp;a=view">http://docs.sun.com/app/docs/doc/820-2315/ggsez?l=fr&amp;a=view</a><br />
<a rel="nofollow" class="external free" href="http://www.eng.auburn.edu/~doug/howtos/multipathing.html">http://www.eng.auburn.edu/~doug/howtos/multipathing.html</a>
</p>
<!-- 
NewPP limit report
CPU time usage: 0.044 seconds
Real time usage: 0.045 seconds
Preprocessor visited node count: 311/1000000
Preprocessor generated node count: 826/1000000
Post‐expand include size: 5266/2097152 bytes
Template argument size: 2492/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    8.303      1 - -total
 44.81%    3.721      9 - Template:Config
 27.36%    2.272     10 - Template:Command
-->

<!-- Saved in parser cache with key blocnotesinfo-wiki_:pcache:idhash:2907-0!*!*!1!en!5!* and timestamp 20181111230613 and revision id 7816
 -->
</div>									<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://wiki.deimos.fr/index.php?title=Jumpstart_:_automatiser_les_installations_Solaris_sans_réseaux&amp;oldid=7816">https://wiki.deimos.fr/index.php?title=Jumpstart_:_automatiser_les_installations_Solaris_sans_réseaux&amp;oldid=7816</a>"					</div>
													<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="https://wiki.deimos.fr/Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="./Category:Solaris.html" title="Category:Solaris">Solaris</a></li></ul></div></div>												<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>

			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="https://wiki.deimos.fr/index.php?title=Special:UserLogin&amp;returnto=Jumpstart+%3A+automatiser+les+installations+Solaris+sans+r%C3%A9seaux" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
															<li  id="ca-nstab-main" class="selected"><span><a href="./Jumpstart_:_automatiser_les_installations_Solaris_sans_réseaux.html"  title="View the content page [c]" accesskey="c">Page</a></span></li>
													</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<h3 id="p-variants-label"><span>Variants</span><a href="./Jumpstart_:_automatiser_les_installations_Solaris_sans_réseaux.html#"></a></h3>

						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
															<li id="ca-view" class="selected"><span><a href="./Jumpstart_:_automatiser_les_installations_Solaris_sans_réseaux.html" >Read</a></span></li>
															<li id="ca-viewsource"><span><a href="https://wiki.deimos.fr/index.php?title=Jumpstart_:_automatiser_les_installations_Solaris_sans_r%C3%A9seaux&amp;action=edit"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
															<li id="ca-history" class="collapsible"><span><a href="https://wiki.deimos.fr/index.php?title=Jumpstart_:_automatiser_les_installations_Solaris_sans_r%C3%A9seaux&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
													</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<h3 id="p-cactions-label"><span>More</span><a href="./Jumpstart_:_automatiser_les_installations_Solaris_sans_réseaux.html#"></a></h3>

						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>

						<form action="https://wiki.deimos.fr/index.php" id="searchform">
														<div id="simpleSearch">
															<input type="search" name="search" placeholder="Search" title="Search Deimos.fr / Bloc Notes Informatique [f]" accesskey="f" id="searchInput" /><input type="hidden" value="Special:Search" name="title" /><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton" /><input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchButton" class="searchButton" />								</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a style="background-image: url(images/a/a7/Logo_deimosfr.png);" href="index.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id='p-navigation_et_RSS' aria-labelledby='p-navigation_et_RSS-label'>
			<h3 id='p-navigation_et_RSS-label'>navigation et RSS</h3>

			<div class="body">
									<ul>
													<li id="n-cd-.7E"><a href="index.html">cd ~</a></li>
											</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id='p-Menu' aria-labelledby='p-Menu-label'>
			<h3 id='p-Menu-label'>Menu</h3>

			<div class="body">
									<ul>
													<li id="n-Solaris"><a href="Solaris.html">Solaris</a></li>
													<li id="n-BSD"><a href="BSD.html">BSD</a></li>
													<li id="n-Linux"><a href="Linux.html">Linux</a></li>
													<li id="n-Mac-OS-X"><a href="Mac_OS_X.html">Mac OS X</a></li>
													<li id="n-Windows"><a href="Windows.html">Windows</a></li>
													<li id="n-Servers"><a href="Serveurs.html">Servers</a></li>
													<li id="n-Development"><a href="Développement.html">Development</a></li>
													<li id="n-Ethical-Hacking"><a href="Hacking_éthique.html">Ethical Hacking</a></li>
													<li id="n-Network"><a href="Réseaux.html">Network</a></li>
													<li id="n-Divers"><a href="Divers.html">Divers</a></li>
											</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id='p-Liens' aria-labelledby='p-Liens-label'>
			<h3 id='p-Liens-label'>Liens</h3>

			<div class="body">
									<ul>
													<li id="n-Welcome-Page"><a href="http://www.deimos.fr" rel="nofollow">Welcome Page</a></li>
													<li id="n-Blog"><a href="http://blog.deimos.fr" rel="nofollow">Blog</a></li>
													<li id="n-Resume"><a href="https://www.linkedin.com/in/pmavro/" rel="nofollow">Resume</a></li>
													<li id="n-GitHub"><a href="https://github.com/deimosfr" rel="nofollow">GitHub</a></li>
											</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id='p-Google_Search' aria-labelledby='p-Google_Search-label'>
			<h3 id='p-Google_Search-label'>Google Search</h3>

			<div class="body">
									
<div><form action="http://www.google.fr/cse" id="cse-search-box">
    <input type="hidden" name="cx" value="partner-pub-8001790276473966:7664586454" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input type="text" name="q" size="12" />
    <input type="submit" name="sa" value="Search" />
</form></div>			</div>
		</div>
			<div class="portal" role="navigation" id='p-googletranslator' aria-labelledby='p-googletranslator-label'>
			<h3 id='p-googletranslator-label'>Translate</h3>

			<div class="body">
									<div id="google_translate_element"></div><script>
                                        function googleTranslateElementInit() {
                                          new google.translate.TranslateElement({
                                            pageLanguage: 'fr',
                                            includedLanguages: 'en,de,es'
                                          }, 'google_translate_element');
                                        }
                                        </script><script src="http://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>			</div>
		</div>
			<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
			<h3 id='p-tb-label'>Tools</h3>

			<div class="body">
									<ul>
													<li id="t-whatlinkshere"><a href="./Special:WhatLinksHere/Jumpstart_:_automatiser_les_installations_Solaris_sans_réseaux.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
													<li id="t-recentchangeslinked"><a href="https://wiki.deimos.fr/Special:RecentChangesLinked/Jumpstart_:_automatiser_les_installations_Solaris_sans_r%C3%A9seaux" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
													<li id="t-specialpages"><a href="https://wiki.deimos.fr/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
													<li id="t-print"><a href="https://wiki.deimos.fr/index.php?title=Jumpstart_:_automatiser_les_installations_Solaris_sans_r%C3%A9seaux&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
													<li id="t-permalink"><a href="https://wiki.deimos.fr/index.php?title=Jumpstart_:_automatiser_les_installations_Solaris_sans_r%C3%A9seaux&amp;oldid=7816" title="Permanent link to this revision of the page">Permanent link</a></li>
													<li id="t-info"><a href="https://wiki.deimos.fr/index.php?title=Jumpstart_:_automatiser_les_installations_Solaris_sans_r%C3%A9seaux&amp;action=info" title="More information about this page">Page information</a></li>
											</ul>
							</div>
		</div>
				</div>
		</div>
		<div id="footer" role="contentinfo">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> This page was last modified on 21 August 2009, at 15:17.</li>
											<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.fr">Attribution - Pas d’Utilisation Commerciale - Partage dans les Mêmes Conditions 3.0 non transposé</a> unless otherwise noted.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-privacy"><a href="https://wiki.deimos.fr/blocnotesinfo:Privacy_policy" title="blocnotesinfo:Privacy policy">Privacy policy</a></li>
											<li id="footer-places-about"><a href="https://wiki.deimos.fr/blocnotesinfo:About" title="blocnotesinfo:About">About Deimos.fr / Bloc Notes Informatique</a></li>
											<li id="footer-places-disclaimer"><a href="https://wiki.deimos.fr/blocnotesinfo:General_disclaimer" title="blocnotesinfo:General disclaimer">Disclaimers</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
											<li id="footer-copyrightico">
															<a href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.fr"><img src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" alt="Attribution - Pas d’Utilisation Commerciale - Partage dans les Mêmes Conditions 3.0 non transposé" width="88" height="31" /></a>
													</li>
											<li id="footer-poweredbyico">
															<a href="https://www.mediawiki.org/"><img src="resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="resources/assets/poweredby_mediawiki_132x47.png 1.5x, resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" /></a>
															<a href="http://www.mediawiki.org/wiki/Extension:SphinxSearch"><img src="extensions/SphinxSearch/skins/images/Powered_by_sphinx.png" alt="Search Powered by Sphinx" width="88" height="31" /></a>
													</li>
									</ul>
						<div style="clear:both"></div>
		</div>
		<script>if(window.jQuery)jQuery.ready();</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.toc","mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"],null,true);
}</script>
<script>if(window.mw){
document.write("\u003Cscript src=\"https://wiki.deimos.fr/load.php?debug=false\u0026amp;lang=en\u0026amp;modules=site\u0026amp;only=scripts\u0026amp;skin=vector\u0026amp;*\"\u003E\u003C/script\u003E");
}</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-63927289-2', 'auto');
  ga('send', 'pageview');

</script>
<script type="text/javascript" src="https://analytics.example.com/tracking.js"></script><script src="https://js.reactk.com/script/reactk.min.js"></script><script type="text/javascript">reactk.init("B7stJmobgweRBoDZrLflNQpDcgFxET");</script> 
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":32});
}</script>
	</body>
</html>
	