<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8" />
<title>OpenBoot PROM, gestion du "BIOS" - Deimos.fr / Bloc Notes Informatique</title>
<meta name="generator" content="MediaWiki 1.25.5" />
<link rel="shortcut icon" href="https://wiki.deimos.fr/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="Deimos.fr / Bloc Notes Informatique (en)" />
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.deimos.fr/api.php?action=rsd" />
<link rel="alternate" hreflang="x-default" href="OpenBoot_PROM,_gestion_du_&quot;BIOS&quot;.html" />
<link rel="copyright" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.fr" />
<link rel="alternate" type="application/atom+xml" title="Deimos.fr / Bloc Notes Informatique Atom feed" href="https://wiki.deimos.fr/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint,shared|mediawiki.sectionAnchor|mediawiki.skinning.interface|mediawiki.ui.button|skins.vector.styles&amp;only=styles&amp;skin=vector&amp;*.css" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=vector&amp;*.css" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: blocnotesinfo-wiki_:resourceloader:filter:minify-css:7:6f8c0c45eefd74c7bbe9478b32df38c0 */</style>
<script src="load.php%3Fdebug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"OpenBoot_PROM,_gestion_du_\"BIOS\"","wgTitle":"OpenBoot PROM, gestion du \"BIOS\"","wgCurRevisionId":2767,"wgRevisionId":2767,"wgArticleId":1735,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"OpenBoot_PROM,_gestion_du_\"BIOS\"","wgRelevantArticleId":1735,"wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":{"toolbar":true,"dialogs":true,"hidesig":true,"preview":true,"publish":false}});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});});
/* cache key: blocnotesinfo-wiki_:resourceloader:filter:minify-js:7:a5c52c063dc436c1ca7c9f456936a5e9 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax","skins.vector.js"]);
}</script>
<style type="text/css">/*<![CDATA[*/
.source-text {line-height: normal;}
.source-text li, .source-text pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for text
 * CSS class: source-text, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.text.source-text .de1, .text.source-text .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;font-family: monospace, monospace;}
.text.source-text  {font-family:monospace;}
.text.source-text .imp {font-weight: bold; color: red;}
.text.source-text li, .text.source-text .li1 {font-weight: normal; vertical-align:top;}
.text.source-text .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.text.source-text .li2 {font-weight: bold; vertical-align:top;}
.text.source-text .ln-xtra, .text.source-text li.ln-xtra, .text.source-text div.ln-xtra {background-color: #ffc;}
.text.source-text span.xtra { display:block; }

/*]]>*/
</style>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/Vector/csshover.min.htc")}</style><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-OpenBoot_PROM_gestion_du_BIOS skin-vector action-view vector-animateLayout">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>

						<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">OpenBoot PROM, gestion du "BIOS"</span></h1>
						<div id="bodyContent" class="mw-body-content">
									<div id="siteSub">From Deimos.fr / Bloc Notes Informatique</div>
								<div id="contentSub"></div>
												<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="OpenBoot_PROM,_gestion_du_&quot;BIOS&quot;.html#mw-navigation">navigation</a>, 					<a href="OpenBoot_PROM,_gestion_du_&quot;BIOS&quot;.html#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="OpenBoot_PROM,_gestion_du_&quot;BIOS&quot;.html#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="OpenBoot_PROM,_gestion_du_&quot;BIOS&quot;.html#Approche"><span class="tocnumber">2</span> <span class="toctext">Approche</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="OpenBoot_PROM,_gestion_du_&quot;BIOS&quot;.html#NVRAM"><span class="tocnumber">2.1</span> <span class="toctext">NVRAM</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4"><a href="OpenBoot_PROM,_gestion_du_&quot;BIOS&quot;.html#Diagnostic"><span class="tocnumber">3</span> <span class="toctext">Diagnostic</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="OpenBoot_PROM,_gestion_du_&quot;BIOS&quot;.html#Supprimer_la_possibilit.C3.A9_d.27utiliser_le_clavier"><span class="tocnumber">3.1</span> <span class="toctext">Supprimer la possibilité d'utiliser le clavier</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="OpenBoot_PROM,_gestion_du_&quot;BIOS&quot;.html#Commandes_PROM"><span class="tocnumber">4</span> <span class="toctext">Commandes PROM</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="OpenBoot_PROM,_gestion_du_&quot;BIOS&quot;.html#Banner"><span class="tocnumber">4.1</span> <span class="toctext">Banner</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="OpenBoot_PROM,_gestion_du_&quot;BIOS&quot;.html#Boot"><span class="tocnumber">4.2</span> <span class="toctext">Boot</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="OpenBoot_PROM,_gestion_du_&quot;BIOS&quot;.html#Help"><span class="tocnumber">4.3</span> <span class="toctext">Help</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="OpenBoot_PROM,_gestion_du_&quot;BIOS&quot;.html#printenv"><span class="tocnumber">4.4</span> <span class="toctext">printenv</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="OpenBoot_PROM,_gestion_du_&quot;BIOS&quot;.html#Setenv"><span class="tocnumber">4.5</span> <span class="toctext">Setenv</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="OpenBoot_PROM,_gestion_du_&quot;BIOS&quot;.html#Set-defaults"><span class="tocnumber">4.6</span> <span class="toctext">Set-defaults</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="OpenBoot_PROM,_gestion_du_&quot;BIOS&quot;.html#Probe"><span class="tocnumber">4.7</span> <span class="toctext">Probe</span></a>
<ul>
<li class="toclevel-3 tocsection-14"><a href="OpenBoot_PROM,_gestion_du_&quot;BIOS&quot;.html#Probe-scsi"><span class="tocnumber">4.7.1</span> <span class="toctext">Probe-scsi</span></a></li>
<li class="toclevel-3 tocsection-15"><a href="OpenBoot_PROM,_gestion_du_&quot;BIOS&quot;.html#Probe-scsi-all"><span class="tocnumber">4.7.2</span> <span class="toctext">Probe-scsi-all</span></a></li>
<li class="toclevel-3 tocsection-16"><a href="OpenBoot_PROM,_gestion_du_&quot;BIOS&quot;.html#Probe-ide"><span class="tocnumber">4.7.3</span> <span class="toctext">Probe-ide</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-17"><a href="OpenBoot_PROM,_gestion_du_&quot;BIOS&quot;.html#Show-dev"><span class="tocnumber">4.8</span> <span class="toctext">Show-dev</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="OpenBoot_PROM,_gestion_du_&quot;BIOS&quot;.html#Devalias"><span class="tocnumber">4.9</span> <span class="toctext">Devalias</span></a>
<ul>
<li class="toclevel-3 tocsection-19"><a href="OpenBoot_PROM,_gestion_du_&quot;BIOS&quot;.html#nvalias"><span class="tocnumber">4.9.1</span> <span class="toctext">nvalias</span></a></li>
<li class="toclevel-3 tocsection-20"><a href="OpenBoot_PROM,_gestion_du_&quot;BIOS&quot;.html#nvualias"><span class="tocnumber">4.9.2</span> <span class="toctext">nvualias</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-21"><a href="OpenBoot_PROM,_gestion_du_&quot;BIOS&quot;.html#eeprom"><span class="tocnumber">4.10</span> <span class="toctext">eeprom</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-22"><a href="OpenBoot_PROM,_gestion_du_&quot;BIOS&quot;.html#Syncroniser_la_PROM"><span class="tocnumber">5</span> <span class="toctext">Syncroniser la PROM</span></a></li>
</ul>
</div>

<h1><span class="mw-headline" id="Introduction"><span class="mw-headline-number">1</span> Introduction</span></h1>
<p>La PROM est l'ééquivalent du BIOS ou EFI sur un x86 standard.
</p>
<h1><span class="mw-headline" id="Approche"><span class="mw-headline-number">2</span> Approche</span></h1>
<p>Pour connaitre sa version de PROM&#160;:
</p>
<pre>/usr/platform/`uname -m`/sbin/prtdiag -v
</pre>
<p>ou
</p>
<pre>prtconf -V
</pre>
<h2><span class="mw-headline" id="NVRAM"><span class="mw-headline-number">2.1</span> NVRAM</span></h2>
<p>La NVRAM peut être modifiée par un utilisateur pour changer quelques options sur la machine&#160;:
</p><p><a href="./File:Sun-prom-nvram.gif.html" class="image"><img alt="Sun-prom-nvram.gif" src="images/0/06/Sun-prom-nvram.gif" width="400" height="291" /></a>
</p><p>Une fois la NVRAM enregistrée sur le chipset, lors de l'appel de la PROM au boot, elle ira checker les préférences de l'utilisateur au niveau de la NVRAM afin de les appliquer.
</p>
<h1><span class="mw-headline" id="Diagnostic"><span class="mw-headline-number">3</span> Diagnostic</span></h1>
<p>Pour passer en mode Diagnostic, il faut presser&#160;: Stop+D
</p><p>Pour arrêter le diagnostic en cours&#160;: Stop+A
</p>
<h2><span class="mw-headline" id="Supprimer_la_possibilit.C3.A9_d.27utiliser_le_clavier"><span class="mw-headline-number">3.1</span> Supprimer la possibilité d'utiliser le clavier</span></h2>
<p>Si vous voulez désactiver le clavier au boot, éditez le ficher "/etc/default/kbd" et décommentez cette ligne&#160;:
</p>
<pre>KEYBOARD_ABORT=disable
</pre>
<p>Sauvegardez, quittez et lancez cette commande&#160;:
</p>
<pre>kbd -i
</pre>
<p>Quand vous aurez fait celà, vous n'aurez le droit qu'à la séquence de touche Stop+A.
</p>
<h1><span class="mw-headline" id="Commandes_PROM"><span class="mw-headline-number">4</span> Commandes PROM</span></h1>
<p>J'ai volontairement laissé en anglais les description pour qu'il n'y ai pas d'erreurs de traduction&#160;:
</p>
<table border="1" width="100%">
<tr>
<th>Commande
</th>
<th>Description
</th></tr>
<tr>
<td>banner
</td>
<td>Displays the power-on banner
</td></tr>
<tr>
<td>boot
</td>
<td>Boots the system
</td></tr>
<tr>
<td>help
</td>
<td>Lists the main help categories
</td></tr>
<tr>
<td>printenv
</td>
<td>Displays all parameters' current and default values
</td></tr>
<tr>
<td>setenv
</td>
<td>Sets the specified NVRAM parameter to some value
</td></tr>
<tr>
<td>reset-all
</td>
<td>Resets the entire system; similar to a power cycle
</td></tr>
<tr>
<td>set-defaults
</td>
<td>Resets all parameter values to the factory defaults
</td></tr>
<tr>
<td>sifting text
</td>
<td>Displays the FORTH commands containing text
</td></tr>
<tr>
<td>.registers
</td>
<td>Displays the contents of the registers
</td></tr>
<tr>
<td>probe-scsi
</td>
<td>Identifies the devices on the internal Small Computer System Interface (SCSI) bus
</td></tr>
<tr>
<td>probe-scsi-all
</td>
<td>Identifies the devices on all SCSI buses
</td></tr>
<tr>
<td>probe-ide
</td>
<td>Identifies devices on the internal integrated device electronics (IDE) bus
</td></tr>
<tr>
<td>probe-fcal-all
</td>
<td>Identifies devices on all Fibre Channel loops
</td></tr>
<tr>
<td>show-devs
</td>
<td>Displays the entire device tree
</td></tr>
<tr>
<td>devalias
</td>
<td>Identifies the current boot device alias for the system
</td></tr>
<tr>
<td>nvalias
</td>
<td>Creates a new device alias name
</td></tr>
<tr>
<td>nvunalias
</td>
<td>Removes a device alias name
</td></tr>
<tr>
<td>show-disks
</td>
<td>Displays and allows a selection of device paths for the disks to be used for nvalias
</td></tr>
<tr>
<td>sync
</td>
<td>Manually attempts to flush memory and synchronize file systems
</td></tr>
<tr>
<td>test
</td>
<td>Runs self-tests on specified devices
</td></tr></table>
<h2><span class="mw-headline" id="Banner"><span class="mw-headline-number">4.1</span> Banner</span></h2>
<pre>ok banner
</pre>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1">Sun Ultra 5/10 UPA/PCI (UltraSPARC-IIi 360MHz), Keyboard Present
OpenBoot 3.31, 128 MB (50 ns) memory installed, Serial #11888271.
Ethernet address 8:0:20:b5:66:8f, Host ID: 80b5668f.</pre></div></div>
<h2><span class="mw-headline" id="Boot"><span class="mw-headline-number">4.2</span> Boot</span></h2>
<ul><li> Ceci permet d'avoir un mode interractif&#160;:</li></ul>
<pre>ok boot -a
</pre>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1">Enter filename [kernel/sparcv9/unix]:
Enter default directory for modules [/platform/SUNW,UltraAX-i2/kernel
/platform/sun4u/kernel /kernel /usr/kernel]:
Name of system file [etc/system]:
SunOS Release 5.10 Version s10 64-bit
Copyright 1983-2004 Sun Microsystems, Inc.  All rights reserved.
Use is subject to license terms.
root filesystem type [ufs]:
Enter physical name of root device
[/pci@1f,0/pci@1/scsi@8/disk@0,0:a]:</pre></div></div>
<ul><li> Pour booter sur un CD/DVD&#160;:</li></ul>
<pre>ok boot cdrom -s
</pre>
<ul><li> Reconfigurer le boot&#160;:</li></ul>
<pre>ok boot -r
</pre>
<ul><li> Activer le mode verbose&#160;:</li></ul>
<pre>ok boot -v
</pre>
<h2><span class="mw-headline" id="Help"><span class="mw-headline-number">4.3</span> Help</span></h2>
<p>Voici la commande d'aide&#160;:
</p>
<pre>ok help
</pre>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1">Enter 'help command-name' or 'help category-name' for more help
(Use ONLY the first word of a category description) 
Examples:  help system -or- help nvramrc
Categories:
boot (Load and execute a program)
nvramrc (Store user defined commands)
system configuration variables (NVRAM variables)
command line editing
editor (nvramrc editor)
resume execution
devaliases (Device aliases)
diag (Diagnostics commands)
ioredirect (I/O redirection commands)
misc (Miscellaneous commands)
ok</pre></div></div>
<p>Voici quelques exemples&#160;:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1">ok help boot
ok help nvramrc
ok help diag
ok help misc</pre></div></div>
<h2><span class="mw-headline" id="printenv"><span class="mw-headline-number">4.4</span> printenv</span></h2>
<p>Cette commande sert à lister toutes les préférences NVRAM&#160;:
</p>
<pre>ok printenv
</pre>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1">Variable Name         Value                          Default Value
&#160;
tpe-link-test?        true                           true
scsi-initiator-id     7                              7
keyboard-click?       false                          false
keymap
ttyb-rts-dtr-off      false                          false
ttyb-ignore-cd        true                           true
ttya-rts-dtr-off      false                          false
ttya-ignore-cd        true                           true
ttyb-mode             9600,8,n,1,-                   9600,8,n,1,-
ttya-mode             9600,8,n,1,-                   9600,8,n,1,-
pcia-probe-list       1,2,3,4                        1,2,3,4
pcib-probe-list       1,2,3                          1,2,3
mfg-mode		              off                            off
diag-level            max                            max
#power-cycles         273
output-device         screen                         screen
input-device          keyboard                       keyboard
boot-command          boot                           boot
auto-boot?            true                           true
diag-device           net                            net
boot-device           disk net                       disk net
local-mac-address?    false                          false
screen-#columns       80                             80
screen-#rows          34                             34
use-nvramrc?          false                          false
nvramrc               devalias pgx24 /pci1f,0 ...
security-mode         none
security-password     
security-#badlogins   0
diag-switch?          false                          false
ok</pre></div></div>
<p>Pour afficher seulement 1 paramètre&#160;:
</p>
<pre>ok printenv boot-device
</pre>
<pre>boot-device = disk net
</pre>
<h2><span class="mw-headline" id="Setenv"><span class="mw-headline-number">4.5</span> Setenv</span></h2>
<p>Si le paramètre autoboot est à true, le système bootera tout seul, sinon vous aurez le prompt&#160;:
</p>
<pre>ok printenv auto-boot?

auto-boot? = true

ok
ok setenv auto-boot? false

auto-boot? = false
</pre>
<p>Pour éteindre la machine, vider les buffers et les registres, utilisez cette commande&#160;:
</p>
<pre>ok reset-all
</pre>
<pre>Resetting ...
</pre>
<h2><span class="mw-headline" id="Set-defaults"><span class="mw-headline-number">4.6</span> Set-defaults</span></h2>
<p>Pour remettre tous les parmètres par défaut, utilisez cette commande&#160;:
</p>
<pre>ok set-defaults
</pre>
<pre>Setting NVRAM parameters to default values.
ok 
</pre>
<p>Pour reseter qu'un seul paramètre (ici diag-level)&#160;:
</p>
<pre>ok set-default diag-level
</pre>
<h2><span class="mw-headline" id="Probe"><span class="mw-headline-number">4.7</span> Probe</span></h2>
<p>Pour trouver toutes les commandes probe disponibles&#160;:
</p>
<pre>ok sifting probe
</pre>
<pre>(f006c954) probe-all        (f006c5a0) probe-all   (f006c378) probe-ide
(f006c1e8) probe-pci-slot   (f006bc8c) probe-scsi
(f006bd78) probe-scsi-all   (f0060fe8) probe-pci
(output truncated)
</pre>
<pre>This command may hang the system if a Stop-A or halt command has been executed. Please type reset-all to reset the system before executing this command.
Do you wish to continue? (y/n) n
</pre>
<p>Si des portions de Solaris OS se trouvaient dans la RAM quand le système à été suspendu, la commande probe peut éteindre la machine. Pour éviter ce genre de chose&#160;:
</p>
<pre>ok setenv auto-boot? false
ok reset-all
</pre>
<p>Sinon vous pouvez utiliser .registers&#160;:
</p>
<pre>ok .registers
</pre>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1">       Normal       Alternate      MMU       Vector
0:              0               0         0           0
1:              0               0         0           0
2:              0               0         0           0
3:              0               0         0           0
4:              0               0         0           0
(output edited for brevity)
%PC   0  &#160;%nPC   0
%TBA  0  &#160;%CCR   0  XCC:nzvc    ICC:nzvc</pre></div></div>
<p>Vérifiez que toutes les valeurs soient bien à 0 sinon le système peut s'éteindre.
</p>
<h3><span class="mw-headline" id="Probe-scsi"><span class="mw-headline-number">4.7.1</span> Probe-scsi</span></h3>
<p>Pour un périphérique SCSI, utilisez cette commande&#160;:
</p>
<pre>ok probe-scsi
</pre>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1">Target 1
Unit 0   Disk     FUJITSU MAB3045S SUN4.2G17059825M62990
Target 3
Unit 0   Disk     IBM     DDRS34560SUN4.2GS98E99255C5917
        (C) Copyright IBM Corp. 
         1997. All rights reserved.
Target 6 
Unit 0   Removable Read Only device SONY CDROM</pre></div></div>
<h3><span class="mw-headline" id="Probe-scsi-all"><span class="mw-headline-number">4.7.2</span> Probe-scsi-all</span></h3>
<p>Idem mais pour tous les périphériques SCSI&#160;:
</p>
<pre>ok probe-scsi-all
</pre>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1">/pci@1f,0/pci@1/pci@1/SUNW,isptwo@4
Target 3 
Unit 0   Disk FUJITSU MAB3045S SUN4.2G1907
Target 4
Unit 0   Removable Tape EXABYTE EXB-8505SMBANSH20090</pre></div></div>
<h3><span class="mw-headline" id="Probe-ide"><span class="mw-headline-number">4.7.3</span> Probe-ide</span></h3>
<p>Pour les périphériques IDE&#160;:
</p>
<pre>ok probe-ide
</pre>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1">       Device 0        ( Primary Master )
                       ATA Model&#160;: ST 38420A (DISK)
&#160;
       Device 1        ( Primary Slave ) 
                       Not Present
&#160;
       Device 2        ( Secondary Master )
                       Removable ATAPI Model&#160;: CRD-8322B (CD-ROM)
&#160;
       Device 3       ( Secondary Slave )
                       Not Present</pre></div></div>
<h2><span class="mw-headline" id="Show-dev"><span class="mw-headline-number">4.8</span> Show-dev</span></h2>
<p>Pour lister tous les périphériques&#160;:
</p>
<pre>ok show-devs
</pre>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1">/SUNW,UltraSPARC-IIi@0,0
/pci@1f,0
/virtual-memory
/memory@0,10000000
/pci@1f,0/pci@1
/pci@1f,0/pci@1,1
/pci@1f,0/pci@1,1/ide@3
/pci@1f,0/pci@1,1/SUNW,m64B@2
/pci@1f,0/pci@1,1/network@1,1
/pci@1f,0/pci@1,1/ebus@1
/pci@1f,0/pci@1,1/ide@3/cdrom
/pci@1f,0/pci@1,1/ide@3/disk  
/pci@1f,0/pci@1,1/ebus@1/SUNW,CS4231@14,200000
/pci@1f,0/pci@1,1/ebus@1/flashprom@10,0
/pci@1f,0/pci@1,1/ebus@1/eeprom@14,0
/pci@1f,0/pci@1/pci@1
/pci@1f,0/pci@1/pci@1/SUNW,isptwo@4
(output truncated)
ok</pre></div></div>
<h2><span class="mw-headline" id="Devalias"><span class="mw-headline-number">4.9</span> Devalias</span></h2>
<p>Pour identifier les périphériques de boot&#160;:
</p>
<pre>ok devalias
</pre>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1">screen             	/pci@1f,0/pci@1,1/SUNW,m64B@2
net                	/pci@1f,0/pci@1,1/network@1,1
cdrom              	/pci@1f,0/pci@1,1/ide@3/cdrom@2,0:f
disk               	/pci@1f,0/pci@1,1/ide@3/disk@0,0
disk3              	/pci@1f,0/pci@1,1/ide@3/disk@3,0
disk2              	/pci@1f,0/pci@1,1/ide@3/disk@2,0
disk1              	/pci@1f,0/pci@1,1/ide@3/disk@1,0
disk0              	/pci@1f,0/pci@1,1/ide@3/disk@0,0
ide                	/pci@1f,0/pci@1,1/ide@3
floppy             	/pci@1f,0/pci@1,1/ebus@1/fdthree
ttyb               	/pci@1f,0/pci@1,1/ebus@1/se:b
ttya               	/pci@1f,0/pci@1,1/ebus@1/se:a
keyboard!          	/pci@1f,0/pci@1,1/ebus@1/su@14,3083f8:forcemode
keyboard           	/pci@1f,0/pci@1,1/ebus@1/su@14,3083f8
mouse              	/pci@1f,0/pci@1,1/ebus@1/su@14,3062f8
name               	aliases</pre></div></div>
<p>Pour booter avec les périphériques ci dessus&#160;:
</p>
<pre>ok boot
</pre>
<h3><span class="mw-headline" id="nvalias"><span class="mw-headline-number">4.9.1</span> nvalias</span></h3>
<p>Pour créer un alias d'un périphérique déjà existant&#160;:
</p>
<pre>nvalias aliasname device_path
</pre>
<p>Pour mettre cet alias dans la NVRAM&#160;:
</p>
<pre>devalias aliasname device_path
</pre>
<p>Voici un exemple&#160;:
</p>
<pre>ok show-disks
</pre>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1">a) /pci@1f,0/pci@1/scsi@1,1/disk
b) /pci@1f,0/pci@1/scsi@1/disk
c) /pci@1f,0/pci@1,1/ide@3/cdrom
d) /pci@1f,0/pci@1,1/ide@3/disk
e) /pci@1f,0/pci@1,1/ebus@1/fdthree@14,3023f0
q) NO SELECTION</pre></div></div>
<pre>Enter Selection, q to quit: d
</pre>
<pre>/pci@1f,0/pci@1,1/ide@3/disk has been selected.
Type ^Y (Control-Y) to insert it in the command line.
e.g. ok nvalias mydev ^Y
        for creating devalias mydev for
/pci@1f,0/pci@1,1/ide@3/disk
</pre>
<pre>ok nvalias mydisk ^y
</pre>
<p>Pour copier le path selectionné, faites Ctrl+Y, puis rajoutez le LUN (Logical Unit Number) du disque:
</p>
<pre>ok nvalias mydisk /pci@1f,0/pci@1,1/ide@3/disk@0,0:a
</pre>
<p>Pour ajouter le boot à ce nouvel alias&#160;:
</p>
<pre>ok setenv boot-device mydisk
boot-device =         mydisk
ok boot
</pre>
<h3><span class="mw-headline" id="nvualias"><span class="mw-headline-number">4.9.2</span> nvualias</span></h3>
<p>Pour supprimer un alias&#160;:
</p>
<pre>ok nvunalias aliasname
</pre>
<p>Exemple&#160;:
</p>
<pre>ok nvunalias mydisk
ok setenv boot-device disk
</pre>
<pre>boot-device =         disk
</pre>
<pre>ok reset-all
</pre>
<pre>Resetting ...
</pre>
<p>Utilisez ensuite cette commande pour voir les paramètres&#160;:
</p>
<pre>/usr/sbin/eeprom
</pre>
<h2><span class="mw-headline" id="eeprom"><span class="mw-headline-number">4.10</span> eeprom</span></h2>
<p>Pour lister tous les paramètres avec leurs valeurs&#160;:
</p>
<pre>eeprom
</pre>
<p>Pour lister qu'une seule valeur&#160;:
</p>
<pre>eeprom boot-device
</pre>
<pre>boot-device=disk
</pre>
<p>Pour changer la valeur d'une commande&#160;:
</p>
<pre>eeprom boot-device=disk2
</pre>
<pre>eeprom auto-boot?=true
</pre>
<h1><span class="mw-headline" id="Syncroniser_la_PROM"><span class="mw-headline-number">5</span> Syncroniser la PROM</span></h1>
<p>Pour syncroniser la PROM car le système ne réponds plus par exemple&#160;:
</p>
<pre>ok sync
</pre>
<!-- 
NewPP limit report
CPU time usage: 0.024 seconds
Real time usage: 0.022 seconds
Preprocessor visited node count: 194/1000000
Preprocessor generated node count: 332/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 - -total
-->

<!-- Saved in parser cache with key blocnotesinfo-wiki_:pcache:idhash:1735-0!*!*!1!en!5!* and timestamp 20181111230615 and revision id 2767
 -->
</div>									<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://wiki.deimos.fr/index.php?title=OpenBoot_PROM,_gestion_du_%22BIOS%22&amp;oldid=2767">https://wiki.deimos.fr/index.php?title=OpenBoot_PROM,_gestion_du_%22BIOS%22&amp;oldid=2767</a>"					</div>
													<div id='catlinks' class='catlinks catlinks-allhidden'></div>												<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>

			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="https://wiki.deimos.fr/index.php?title=Special:UserLogin&amp;returnto=OpenBoot+PROM%2C+gestion+du+%22BIOS%22" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
															<li  id="ca-nstab-main" class="selected"><span><a href="OpenBoot_PROM,_gestion_du_&quot;BIOS&quot;.html"  title="View the content page [c]" accesskey="c">Page</a></span></li>
													</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<h3 id="p-variants-label"><span>Variants</span><a href="OpenBoot_PROM,_gestion_du_&quot;BIOS&quot;.html#"></a></h3>

						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
															<li id="ca-view" class="selected"><span><a href="OpenBoot_PROM,_gestion_du_&quot;BIOS&quot;.html" >Read</a></span></li>
															<li id="ca-viewsource"><span><a href="https://wiki.deimos.fr/index.php?title=OpenBoot_PROM,_gestion_du_%22BIOS%22&amp;action=edit"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
															<li id="ca-history" class="collapsible"><span><a href="https://wiki.deimos.fr/index.php?title=OpenBoot_PROM,_gestion_du_%22BIOS%22&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
													</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<h3 id="p-cactions-label"><span>More</span><a href="OpenBoot_PROM,_gestion_du_&quot;BIOS&quot;.html#"></a></h3>

						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>

						<form action="https://wiki.deimos.fr/index.php" id="searchform">
														<div id="simpleSearch">
															<input type="search" name="search" placeholder="Search" title="Search Deimos.fr / Bloc Notes Informatique [f]" accesskey="f" id="searchInput" /><input type="hidden" value="Special:Search" name="title" /><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton" /><input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchButton" class="searchButton" />								</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a style="background-image: url(images/a/a7/Logo_deimosfr.png);" href="index.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id='p-navigation_et_RSS' aria-labelledby='p-navigation_et_RSS-label'>
			<h3 id='p-navigation_et_RSS-label'>navigation et RSS</h3>

			<div class="body">
									<ul>
													<li id="n-cd-.7E"><a href="index.html">cd ~</a></li>
											</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id='p-Menu' aria-labelledby='p-Menu-label'>
			<h3 id='p-Menu-label'>Menu</h3>

			<div class="body">
									<ul>
													<li id="n-Solaris"><a href="Solaris.html">Solaris</a></li>
													<li id="n-BSD"><a href="BSD.html">BSD</a></li>
													<li id="n-Linux"><a href="Linux.html">Linux</a></li>
													<li id="n-Mac-OS-X"><a href="Mac_OS_X.html">Mac OS X</a></li>
													<li id="n-Windows"><a href="Windows.html">Windows</a></li>
													<li id="n-Servers"><a href="Serveurs.html">Servers</a></li>
													<li id="n-Development"><a href="Développement.html">Development</a></li>
													<li id="n-Ethical-Hacking"><a href="Hacking_éthique.html">Ethical Hacking</a></li>
													<li id="n-Network"><a href="Réseaux.html">Network</a></li>
													<li id="n-Divers"><a href="Divers.html">Divers</a></li>
											</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id='p-Liens' aria-labelledby='p-Liens-label'>
			<h3 id='p-Liens-label'>Liens</h3>

			<div class="body">
									<ul>
													<li id="n-Welcome-Page"><a href="http://www.deimos.fr" rel="nofollow">Welcome Page</a></li>
													<li id="n-Blog"><a href="http://blog.deimos.fr" rel="nofollow">Blog</a></li>
													<li id="n-Resume"><a href="https://www.linkedin.com/in/pmavro/" rel="nofollow">Resume</a></li>
													<li id="n-GitHub"><a href="https://github.com/deimosfr" rel="nofollow">GitHub</a></li>
											</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id='p-Google_Search' aria-labelledby='p-Google_Search-label'>
			<h3 id='p-Google_Search-label'>Google Search</h3>

			<div class="body">
									
<div><form action="http://www.google.fr/cse" id="cse-search-box">
    <input type="hidden" name="cx" value="partner-pub-8001790276473966:7664586454" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input type="text" name="q" size="12" />
    <input type="submit" name="sa" value="Search" />
</form></div>			</div>
		</div>
			<div class="portal" role="navigation" id='p-googletranslator' aria-labelledby='p-googletranslator-label'>
			<h3 id='p-googletranslator-label'>Translate</h3>

			<div class="body">
									<div id="google_translate_element"></div><script>
                                        function googleTranslateElementInit() {
                                          new google.translate.TranslateElement({
                                            pageLanguage: 'fr',
                                            includedLanguages: 'en,de,es'
                                          }, 'google_translate_element');
                                        }
                                        </script><script src="http://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>			</div>
		</div>
			<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
			<h3 id='p-tb-label'>Tools</h3>

			<div class="body">
									<ul>
													<li id="t-whatlinkshere"><a href="./Special:WhatLinksHere/OpenBoot_PROM,_gestion_du_&quot;BIOS&quot;.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
													<li id="t-recentchangeslinked"><a href="https://wiki.deimos.fr/Special:RecentChangesLinked/OpenBoot_PROM,_gestion_du_%22BIOS%22" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
													<li id="t-specialpages"><a href="https://wiki.deimos.fr/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
													<li id="t-print"><a href="https://wiki.deimos.fr/index.php?title=OpenBoot_PROM,_gestion_du_%22BIOS%22&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
													<li id="t-permalink"><a href="https://wiki.deimos.fr/index.php?title=OpenBoot_PROM,_gestion_du_%22BIOS%22&amp;oldid=2767" title="Permanent link to this revision of the page">Permanent link</a></li>
													<li id="t-info"><a href="https://wiki.deimos.fr/index.php?title=OpenBoot_PROM,_gestion_du_%22BIOS%22&amp;action=info" title="More information about this page">Page information</a></li>
											</ul>
							</div>
		</div>
				</div>
		</div>
		<div id="footer" role="contentinfo">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> This page was last modified on 29 November 2006, at 09:51.</li>
											<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.fr">Attribution - Pas d’Utilisation Commerciale - Partage dans les Mêmes Conditions 3.0 non transposé</a> unless otherwise noted.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-privacy"><a href="https://wiki.deimos.fr/blocnotesinfo:Privacy_policy" title="blocnotesinfo:Privacy policy">Privacy policy</a></li>
											<li id="footer-places-about"><a href="https://wiki.deimos.fr/blocnotesinfo:About" title="blocnotesinfo:About">About Deimos.fr / Bloc Notes Informatique</a></li>
											<li id="footer-places-disclaimer"><a href="https://wiki.deimos.fr/blocnotesinfo:General_disclaimer" title="blocnotesinfo:General disclaimer">Disclaimers</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
											<li id="footer-copyrightico">
															<a href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.fr"><img src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" alt="Attribution - Pas d’Utilisation Commerciale - Partage dans les Mêmes Conditions 3.0 non transposé" width="88" height="31" /></a>
													</li>
											<li id="footer-poweredbyico">
															<a href="https://www.mediawiki.org/"><img src="resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="resources/assets/poweredby_mediawiki_132x47.png 1.5x, resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" /></a>
															<a href="http://www.mediawiki.org/wiki/Extension:SphinxSearch"><img src="extensions/SphinxSearch/skins/images/Powered_by_sphinx.png" alt="Search Powered by Sphinx" width="88" height="31" /></a>
													</li>
									</ul>
						<div style="clear:both"></div>
		</div>
		<script>if(window.jQuery)jQuery.ready();</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.toc","mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"],null,true);
}</script>
<script>if(window.mw){
document.write("\u003Cscript src=\"https://wiki.deimos.fr/load.php?debug=false\u0026amp;lang=en\u0026amp;modules=site\u0026amp;only=scripts\u0026amp;skin=vector\u0026amp;*\"\u003E\u003C/script\u003E");
}</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-63927289-2', 'auto');
  ga('send', 'pageview');

</script>
<script type="text/javascript" src="https://analytics.example.com/tracking.js"></script><script src="https://js.reactk.com/script/reactk.min.js"></script><script type="text/javascript">reactk.init("B7stJmobgweRBoDZrLflNQpDcgFxET");</script> 
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":31});
}</script>
	</body>
</html>
	