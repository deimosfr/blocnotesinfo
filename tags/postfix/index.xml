<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Postfix on Tech Notebook</title><link>https://wiki.deimos.fr/tags/postfix/</link><description>Recent content in Postfix on Tech Notebook</description><generator>Hugo</generator><language>en-us</language><lastBuildDate>Fri, 04 Apr 2025 17:45:45 +0200</lastBuildDate><atom:link href="https://wiki.deimos.fr/tags/postfix/index.xml" rel="self" type="application/rss+xml"/><item><title>Postfix: Limit Outgoing Mail Throttling</title><link>https://wiki.deimos.fr/Postfix:_limit_outgoing_mail_throttling/</link><pubDate>Thu, 06 Aug 2015 00:10:00 +0200</pubDate><guid>https://wiki.deimos.fr/Postfix:_limit_outgoing_mail_throttling/</guid><description>&lt;p>










&lt;img src="https://wiki.deimos.fr/images/postfix_logo.png" alt="Postfix" loading="lazy">

&lt;/p>







&lt;table class="table table-hover table-striped">
 &lt;thead>
 &lt;tr>
 &lt;th>&lt;/th>
 &lt;th>&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td>&lt;strong>Software version&lt;/strong>&lt;/td>
 &lt;td>2.10&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>&lt;strong>Operating System&lt;/strong>&lt;/td>
 &lt;td>Debian 7&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>&lt;strong>Website&lt;/strong>&lt;/td>
 &lt;td>&lt;a href="https://www.postfix.org/" rel="external" target="_blank">Postfix Website&lt;svg width="16" height="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">&lt;path fill="currentColor" d="M14 5c-.552 0-1-.448-1-1s.448-1 1-1h6c.552 0 1 .448 1 1v6c0 .552-.448 1-1 1s-1-.448-1-1v-3.586l-7.293 7.293c-.391.39-1.024.39-1.414 0-.391-.391-.391-1.024 0-1.414l7.293-7.293h-3.586zm-9 2c-.552 0-1 .448-1 1v11c0 .552.448 1 1 1h11c.552 0 1-.448 1-1v-4.563c0-.552.448-1 1-1s1 .448 1 1v4.563c0 1.657-1.343 3-3 3h-11c-1.657 0-3-1.343-3-3v-11c0-1.657 1.343-3 3-3h4.563c.552 0 1 .448 1 1s-.448 1-1 1h-4.563z"/>&lt;/svg>&lt;/a>&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>&lt;strong>Last Update&lt;/strong>&lt;/td>
 &lt;td>06/08/2015&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table>

&lt;h2 id="introduction">Introduction &lt;a href="#introduction" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>When you have a huge amount of mail to deliver, you can&amp;rsquo;t release the queue at once and let the server maximize the outgoing mail throughput! The result will be: you&amp;rsquo;ll get blacklisted from a lot of MX servers.&lt;/p></description></item><item><title>Postfix: hold outgoing mail transport</title><link>https://wiki.deimos.fr/Postfix:_hold_outgoing_mail_transport/</link><pubDate>Tue, 04 Mar 2014 17:35:00 +0200</pubDate><guid>https://wiki.deimos.fr/Postfix:_hold_outgoing_mail_transport/</guid><description>&lt;p>










&lt;img src="https://wiki.deimos.fr/images/postfix_logo.png" alt="Postfix" loading="lazy">

&lt;/p>







&lt;table class="table table-hover table-striped">
 &lt;thead>
 &lt;tr>
 &lt;th>&lt;/th>
 &lt;th>&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td>&lt;strong>Software version&lt;/strong>&lt;/td>
 &lt;td>2.10&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>&lt;strong>Operating System&lt;/strong>&lt;/td>
 &lt;td>Debian 7&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>&lt;strong>Website&lt;/strong>&lt;/td>
 &lt;td>&lt;a href="https://www.postfix.org/" rel="external" target="_blank">Postfix Website&lt;svg width="16" height="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">&lt;path fill="currentColor" d="M14 5c-.552 0-1-.448-1-1s.448-1 1-1h6c.552 0 1 .448 1 1v6c0 .552-.448 1-1 1s-1-.448-1-1v-3.586l-7.293 7.293c-.391.39-1.024.39-1.414 0-.391-.391-.391-1.024 0-1.414l7.293-7.293h-3.586zm-9 2c-.552 0-1 .448-1 1v11c0 .552.448 1 1 1h11c.552 0 1-.448 1-1v-4.563c0-.552.448-1 1-1s1 .448 1 1v4.563c0 1.657-1.343 3-3 3h-11c-1.657 0-3-1.343-3-3v-11c0-1.657 1.343-3 3-3h4.563c.552 0 1 .448 1 1s-.448 1-1 1h-4.563z"/>&lt;/svg>&lt;/a>&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>&lt;strong>Last Update&lt;/strong>&lt;/td>
 &lt;td>04/03/2014&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table>

&lt;h2 id="introduction">Introduction &lt;a href="#introduction" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>When you manage Postfix and have a trouble with your mail infrastructure, you may want to set in maintenance your Postfix without stopping the service. Here is a way to hold the queue, giving the time to analyze the problem and then release the queue.&lt;/p></description></item><item><title>Installation and Configuration of Postfix and Courier</title><link>https://wiki.deimos.fr/Installation_et_configuration_de_Postfix_et_Courrier/</link><pubDate>Tue, 07 May 2013 07:43:00 +0200</pubDate><guid>https://wiki.deimos.fr/Installation_et_configuration_de_Postfix_et_Courrier/</guid><description>&lt;p>










&lt;img src="https://wiki.deimos.fr/images/postfix.png" alt="Postfix Architecture" loading="lazy">

&lt;/p>
&lt;h2 id="introduction">Introduction &lt;a href="#introduction" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>&lt;a href="https://www.postfix.org/" rel="external" target="_blank">Postfix&lt;svg width="16" height="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">&lt;path fill="currentColor" d="M14 5c-.552 0-1-.448-1-1s.448-1 1-1h6c.552 0 1 .448 1 1v6c0 .552-.448 1-1 1s-1-.448-1-1v-3.586l-7.293 7.293c-.391.39-1.024.39-1.414 0-.391-.391-.391-1.024 0-1.414l7.293-7.293h-3.586zm-9 2c-.552 0-1 .448-1 1v11c0 .552.448 1 1 1h11c.552 0 1-.448 1-1v-4.563c0-.552.448-1 1-1s1 .448 1 1v4.563c0 1.657-1.343 3-3 3h-11c-1.657 0-3-1.343-3-3v-11c0-1.657 1.343-3 3-3h4.563c.552 0 1 .448 1 1s-.448 1-1 1h-4.563z"/>&lt;/svg>&lt;/a> is an email server and free software developed by Wietse Venema. It handles the delivery of electronic messages. It was designed as a faster, easier to administer, and more secure alternative to the historical Sendmail.&lt;/p></description></item><item><title>Simulate a black hole for a domain with Postfix</title><link>https://wiki.deimos.fr/Simulate_a_black_hole_for_a_domain_with_Postfix/</link><pubDate>Tue, 07 May 2013 05:54:00 +0200</pubDate><guid>https://wiki.deimos.fr/Simulate_a_black_hole_for_a_domain_with_Postfix/</guid><description>&lt;p>










&lt;img src="https://wiki.deimos.fr/images/postfix_logo.png" alt="Postfix" loading="lazy">

&lt;/p>







&lt;table class="table table-hover table-striped">
 &lt;thead>
 &lt;tr>
 &lt;th>&lt;/th>
 &lt;th>&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td>&lt;strong>Software version&lt;/strong>&lt;/td>
 &lt;td>2.10&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>&lt;strong>Operating System&lt;/strong>&lt;/td>
 &lt;td>Debian 7&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>&lt;strong>Website&lt;/strong>&lt;/td>
 &lt;td>&lt;a href="https://www.postfix.org/" rel="external" target="_blank">Postfix Website&lt;svg width="16" height="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">&lt;path fill="currentColor" d="M14 5c-.552 0-1-.448-1-1s.448-1 1-1h6c.552 0 1 .448 1 1v6c0 .552-.448 1-1 1s-1-.448-1-1v-3.586l-7.293 7.293c-.391.39-1.024.39-1.414 0-.391-.391-.391-1.024 0-1.414l7.293-7.293h-3.586zm-9 2c-.552 0-1 .448-1 1v11c0 .552.448 1 1 1h11c.552 0 1-.448 1-1v-4.563c0-.552.448-1 1-1s1 .448 1 1v4.563c0 1.657-1.343 3-3 3h-11c-1.657 0-3-1.343-3-3v-11c0-1.657 1.343-3 3-3h4.563c.552 0 1 .448 1 1s-.448 1-1 1h-4.563z"/>&lt;/svg>&lt;/a>&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>&lt;strong>Last Update&lt;/strong>&lt;/td>
 &lt;td>07/05/2013&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table>

&lt;h2 id="introduction">Introduction &lt;a href="#introduction" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>When you manage outgoing emails through SMTP, you may sometimes need to test if a service is able to send correctly emails and itself check that there were no issue during sending. You can create a black hole for a specific domain and Postfix will answer from the same manner as if it is ok. It also permits to test Postfix sending capacities on a server.&lt;/p></description></item><item><title>SASL: Secure Remote Email Sending with Postfix Server (SASL+TLS)</title><link>https://wiki.deimos.fr/SASL_:_Envoie_de_mails_%C3%A0_distance_s%C3%A9curis%C3%A9_avec_son_serveur_Postfix_%28SASL%20TLS%29/</link><pubDate>Wed, 06 Jun 2012 08:27:00 +0200</pubDate><guid>https://wiki.deimos.fr/SASL_:_Envoie_de_mails_%C3%A0_distance_s%C3%A9curis%C3%A9_avec_son_serveur_Postfix_%28SASL%20TLS%29/</guid><description>&lt;p>










&lt;img src="https://wiki.deimos.fr/images/postfix_logo.png" alt="Postfix" loading="lazy">

&lt;/p>







&lt;table class="table table-hover table-striped">
 &lt;thead>
 &lt;tr>
 &lt;th>&lt;/th>
 &lt;th>&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td>&lt;strong>Software version&lt;/strong>&lt;/td>
 &lt;td>2.7.1&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>&lt;strong>Operating System&lt;/strong>&lt;/td>
 &lt;td>Debian 6&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>&lt;strong>Website&lt;/strong>&lt;/td>
 &lt;td>&lt;a href="https://www.postfix.org/" rel="external" target="_blank">Postfix Website&lt;svg width="16" height="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">&lt;path fill="currentColor" d="M14 5c-.552 0-1-.448-1-1s.448-1 1-1h6c.552 0 1 .448 1 1v6c0 .552-.448 1-1 1s-1-.448-1-1v-3.586l-7.293 7.293c-.391.39-1.024.39-1.414 0-.391-.391-.391-1.024 0-1.414l7.293-7.293h-3.586zm-9 2c-.552 0-1 .448-1 1v11c0 .552.448 1 1 1h11c.552 0 1-.448 1-1v-4.563c0-.552.448-1 1-1s1 .448 1 1v4.563c0 1.657-1.343 3-3 3h-11c-1.657 0-3-1.343-3-3v-11c0-1.657 1.343-3 3-3h4.563c.552 0 1 .448 1 1s-.448 1-1 1h-4.563z"/>&lt;/svg>&lt;/a>&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>&lt;strong>Last Update&lt;/strong>&lt;/td>
 &lt;td>06/06/2012&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table>

&lt;h2 id="introduction">Introduction &lt;a href="#introduction" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>For several years now, most mail servers no longer authorize sending emails from outside to prevent becoming an open relay. It&amp;rsquo;s therefore necessary to add an additional layer called &lt;a href="https://en.wikipedia.org/wiki/SASL" rel="external" target="_blank">SASL&lt;svg width="16" height="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">&lt;path fill="currentColor" d="M14 5c-.552 0-1-.448-1-1s.448-1 1-1h6c.552 0 1 .448 1 1v6c0 .552-.448 1-1 1s-1-.448-1-1v-3.586l-7.293 7.293c-.391.39-1.024.39-1.414 0-.391-.391-.391-1.024 0-1.414l7.293-7.293h-3.586zm-9 2c-.552 0-1 .448-1 1v11c0 .552.448 1 1 1h11c.552 0 1-.448 1-1v-4.563c0-.552.448-1 1-1s1 .448 1 1v4.563c0 1.657-1.343 3-3 3h-11c-1.657 0-3-1.343-3-3v-11c0-1.657 1.343-3 3-3h4.563c.552 0 1 .448 1 1s-.448 1-1 1h-4.563z"/>&lt;/svg>&lt;/a>.&lt;/p></description></item><item><title>Troubleshooting mails with Postfix</title><link>https://wiki.deimos.fr/R%C3%A9glage_de_probl%C3%A8mes/</link><pubDate>Fri, 05 Feb 2010 11:09:00 +0200</pubDate><guid>https://wiki.deimos.fr/R%C3%A9glage_de_probl%C3%A8mes/</guid><description>&lt;h2 id="introduction">Introduction &lt;a href="#introduction" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>Postfix is great and handles high loads well, but when you need to debug mail problems, it can become less straightforward. Therefore, I&amp;rsquo;ll document here all the tips and tricks I&amp;rsquo;ve found.&lt;/p>
&lt;h2 id="solutions">Solutions &lt;a href="#solutions" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;h3 id="verify-the-configuration">Verify the configuration &lt;a href="#verify-the-configuration" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h3>&lt;p>In Postfix, it&amp;rsquo;s not always obvious to find the problem, which is why they&amp;rsquo;ve been kind enough to include a command that will run checks:&lt;/p>



 
 
 

 
 
 
 

 

 &lt;div class="prism-codeblock ">
 &lt;pre id="6178902" class="language-bash ">
 &lt;code>postfix check&lt;/code>
 &lt;/pre>
 &lt;/div>
&lt;h3 id="mail-queue-congestion">Mail queue congestion &lt;a href="#mail-queue-congestion" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h3>&lt;p>If you find yourself with a mail queue congestion problem (e.g., 30,000 emails in the queue), you can find out how many there are with the following command:&lt;/p></description></item><item><title>Mailgraph: Email Monitoring (Spam, Rejects, Viruses...)</title><link>https://wiki.deimos.fr/Mailgraph%C2%A0:%C2%A0Surveillance%C2%A0des%C2%A0mails%C2%A0%28Spams,%C2%A0rejects,%C2%A0virus...%29</link><pubDate>Wed, 03 Feb 2010 06:33:00 +0200</pubDate><guid>https://wiki.deimos.fr/Mailgraph%C2%A0:%C2%A0Surveillance%C2%A0des%C2%A0mails%C2%A0%28Spams,%C2%A0rejects,%C2%A0virus...%29</guid><description>&lt;h2 id="introduction">Introduction &lt;a href="#introduction" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>Mailgraph is a software tool that generates graphs of email statistics such as spam, viruses, and more.&lt;/p>
&lt;p>It provides a good overview of what&amp;rsquo;s happening on your mail server.&lt;/p>
&lt;p>&lt;a href="https://people.ee.ethz.ch/~dws/software/mailgraph/" rel="external" target="_blank">Mailgraph Official Site&lt;svg width="16" height="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">&lt;path fill="currentColor" d="M14 5c-.552 0-1-.448-1-1s.448-1 1-1h6c.552 0 1 .448 1 1v6c0 .552-.448 1-1 1s-1-.448-1-1v-3.586l-7.293 7.293c-.391.39-1.024.39-1.414 0-.391-.391-.391-1.024 0-1.414l7.293-7.293h-3.586zm-9 2c-.552 0-1 .448-1 1v11c0 .552.448 1 1 1h11c.552 0 1-.448 1-1v-4.563c0-.552.448-1 1-1s1 .448 1 1v4.563c0 1.657-1.343 3-3 3h-11c-1.657 0-3-1.343-3-3v-11c0-1.657 1.343-3 3-3h4.563c.552 0 1 .448 1 1s-.448 1-1 1h-4.563z"/>&lt;/svg>&lt;/a>&lt;/p></description></item><item><title>Virtual Domains</title><link>https://wiki.deimos.fr/Domaines_Virtuels/</link><pubDate>Fri, 31 Jul 2009 14:14:00 +0200</pubDate><guid>https://wiki.deimos.fr/Domaines_Virtuels/</guid><description>&lt;h2 id="introduction">Introduction &lt;a href="#introduction" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>Most Postfix systems are the final destination for only a few domain names. This includes the machine name, the [IP address] of the machine, and sometimes the parent domain name. The rest of this document will refer to these domains as canonical domains. They usually correspond to Postfix&amp;rsquo;s &amp;ldquo;local domain&amp;rdquo; address class.&lt;/p>
&lt;p>In addition to canonical domains, Postfix can be configured to be the final destination for many other domains. These domains are called &amp;ldquo;hosted&amp;rdquo; because they are not directly associated with the machine name. These hosted domains generally correspond to Postfix&amp;rsquo;s virtual alias domain address class and/or the virtual mailbox domain address class.&lt;/p></description></item><item><title>Banners: Hiding Application Banners (Service Banner Faking)</title><link>https://wiki.deimos.fr/Bani%C3%A8res_:_Cacher_les_bani%C3%A8res_de_ses_applications_%28Service_banner_faking%29/</link><pubDate>Fri, 17 Apr 2009 20:56:00 +0200</pubDate><guid>https://wiki.deimos.fr/Bani%C3%A8res_:_Cacher_les_bani%C3%A8res_de_ses_applications_%28Service_banner_faking%29/</guid><description>&lt;h2 id="introduction">Introduction &lt;a href="#introduction" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>This is a quick howto on faking service banners. Service banners often contain a lot of useful information for malicious script-kiddies, like the (real) running software on the remote host and its version number. Knowing this, they can better target their exploits. This howto deals with changing this information. Keep in mind that this won&amp;rsquo;t make your system more secure against a known exploit when you run a vulnerable service, however it can provide some &amp;lsquo;social engineering&amp;rsquo; security: script-kiddies often scan whole IP blocks for a known vulnerability, and only attack those who give back a banner telling that they run the vulnerable service. This howto aims to fake the service banners and in this way, fool the script-kiddies. However, your system will still be vulnerable to an exploit if you&amp;rsquo;re running a vulnerable service! If a script-kiddie runs his exploit, even if he sees you don&amp;rsquo;t send out the right banner, you can still be hacked. So, always keep your system up-to-date, see this as a way to decrease the amount of effective attacks on your system, not as a way to be invulnerable. Of course there&amp;rsquo;s also the fun-factor: it&amp;rsquo;s quite amusing to see script-kiddies attempt to break into your &amp;lsquo;Microsoft-IIS/5.0&amp;rsquo; also known as Apache 1.3.27 &lt;em>grin&lt;/em>.&lt;/p></description></item><item><title>Setting up an Antivirus (ClamAV and Amavis)</title><link>https://wiki.deimos.fr/Mise_en_place_d'un_Antivirus_(ClamAV_et_Amavis)/</link><pubDate>Wed, 24 Sep 2008 11:46:00 +0200</pubDate><guid>https://wiki.deimos.fr/Mise_en_place_d'un_Antivirus_(ClamAV_et_Amavis)/</guid><description>&lt;h2 id="introduction">Introduction &lt;a href="#introduction" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>ClamAV is the antivirus component while Amavis is the interface that connects Postfix with add-ons such as antispam and antivirus tools.&lt;/p>
&lt;h2 id="installation">Installation &lt;a href="#installation" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>First, let&amp;rsquo;s install what we need:&lt;/p>



 
 
 

 
 
 
 

 

 &lt;div class="prism-codeblock ">
 &lt;pre id="07a0255" class="language-bash ">
 &lt;code>apt-get install amavisd-new clamav clamav-daemon zoo unzip unzoo bzip2&lt;/code>
 &lt;/pre>
 &lt;/div>
&lt;p>At the end of the installation, it will ask you some questions. Here are the answers you should provide:&lt;/p>



 
 
 

 
 
 
 

 

 &lt;div class="prism-codeblock ">
 &lt;pre id="65101a9" class="language-bash ">
 &lt;code>Virus database update method: &amp;lt;-- daemon
Local database mirror site: &amp;lt;-- db.fr.clamav.net (France; select the mirror that is closest to you)
HTTP proxy information (leave blank for none): &amp;lt;-- (blank)
Should clamd be notified after updates? &amp;lt;-- Yes&lt;/code>
 &lt;/pre>
 &lt;/div>
&lt;h2 id="configuration">Configuration &lt;a href="#configuration" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>Next we&amp;rsquo;ll add these lines to &lt;code>/etc/postfix/main.cf&lt;/code>:&lt;/p></description></item><item><title>Secondary MX: Setup</title><link>https://wiki.deimos.fr/MX_Secondaire:_mise_en_place/</link><pubDate>Fri, 23 May 2008 07:43:00 +0200</pubDate><guid>https://wiki.deimos.fr/MX_Secondaire:_mise_en_place/</guid><description>&lt;h2 id="introduction">Introduction &lt;a href="#introduction" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>When there&amp;rsquo;s only one mail server handling emails for a domain, if it becomes unavailable, emails sent by third parties to the primary server will be stored in the spool (outgoing queue) of the remote server for a few days in the best case, or immediately returned with an error message (depending on the problem or the configuration of the remote server).&lt;/p>
&lt;p>Since problems and unavailability are inherent in modern computing, it&amp;rsquo;s necessary to set up a system that can, at least in a degraded mode, transparently recover emails for the sender.&lt;/p></description></item><item><title>AlterMIME: Automatically Add a Disclaimer to Outgoing Emails</title><link>https://wiki.deimos.fr/altermime-ajouter-automatiquement-un-disclamer-sur-les-emails-sortants/</link><pubDate>Sun, 24 Feb 2008 07:21:00 +0100</pubDate><guid>https://wiki.deimos.fr/altermime-ajouter-automatiquement-un-disclamer-sur-les-emails-sortants/</guid><description>&lt;p>Here is documentation that explains how to add a disclaimer text to the end of your outgoing emails:&lt;/p>
&lt;p>&lt;a href="https://wiki.deimos.fr/pdf/how_to_automatically_add_a_disclaimer_to_outgoing_emails_with_altermime.pdf">Documentation on AlterMIME&lt;/a>&lt;br>
&lt;a href="https://wiki.deimos.fr/pdf/automatically_add_disclaimers_to_outgoing_emails_with_altermime_on_fedora_8.pdf">Documentation on AlterMIME (Fedora)&lt;/a>&lt;/p></description></item><item><title>Dkfilter: Proxy SMTP (Signature Mails) Made by Yahoo</title><link>https://wiki.deimos.fr/Dkfilter_:_Proxy_SMTP_(signatures_mails)_made_by_Yahoo/</link><pubDate>Thu, 31 Jan 2008 07:06:00 +0200</pubDate><guid>https://wiki.deimos.fr/Dkfilter_:_Proxy_SMTP_(signatures_mails)_made_by_Yahoo/</guid><description>&lt;h2 id="introduction">Introduction &lt;a href="#introduction" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>DomainKeys is an anti-spam software application in development at &lt;a href="https://antispam.yahoo.com/domainkeys" rel="external" target="_blank">Yahoo&lt;svg width="16" height="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">&lt;path fill="currentColor" d="M14 5c-.552 0-1-.448-1-1s.448-1 1-1h6c.552 0 1 .448 1 1v6c0 .552-.448 1-1 1s-1-.448-1-1v-3.586l-7.293 7.293c-.391.39-1.024.39-1.414 0-.391-.391-.391-1.024 0-1.414l7.293-7.293h-3.586zm-9 2c-.552 0-1 .448-1 1v11c0 .552.448 1 1 1h11c.552 0 1-.448 1-1v-4.563c0-.552.448-1 1-1s1 .448 1 1v4.563c0 1.657-1.343 3-3 3h-11c-1.657 0-3-1.343-3-3v-11c0-1.657 1.343-3 3-3h4.563c.552 0 1 .448 1 1s-.448 1-1 1h-4.563z"/>&lt;/svg>&lt;/a> that uses a form of public key cryptography to authenticate the sender&amp;rsquo;s domain. &lt;strong>dkfilter is an SMTP-proxy designed for Postfix&lt;/strong>. It implements DomainKeys message signing and verification. It comprises two separate filters, an &amp;ldquo;outbound&amp;rdquo; filter for &lt;strong>signing outgoing email on port 587&lt;/strong>, and an &amp;ldquo;inbound&amp;rdquo; filter for &lt;strong>verifying signatures of incoming email on port 25&lt;/strong>. This document is to describe step by step how to install dkfilter for postfix to deploy domainkeys signing and verification.&lt;/p></description></item><item><title>Postsuper: Mass Deletion of Emails in the Queue</title><link>https://wiki.deimos.fr/Postsuper_:_Suppression_massive_de_mails_dans_la_queue/</link><pubDate>Tue, 15 Jan 2008 19:45:00 +0200</pubDate><guid>https://wiki.deimos.fr/Postsuper_:_Suppression_massive_de_mails_dans_la_queue/</guid><description>&lt;h2 id="introduction">Introduction &lt;a href="#introduction" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>Postsuper is a Postfix utility that allows you to delete emails in the queue. I needed it to delete around 40,000 emails that were error messages from the MAILER-DAEMON user, with approximately 300 emails in the batch that needed to be delivered.&lt;/p>
&lt;h2 id="complete-deletion">Complete Deletion &lt;a href="#complete-deletion" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>To delete all emails in the queue:&lt;/p>



 
 
 

 
 
 
 

 

 &lt;div class="prism-codeblock ">
 &lt;pre id="d763eac" class="language-bash ">
 &lt;code>postsuper -d ALL&lt;/code>
 &lt;/pre>
 &lt;/div>
&lt;h2 id="partial-deletion">Partial Deletion &lt;a href="#partial-deletion" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>To delete all emails from the MAILER-DAEMON user, here&amp;rsquo;s the script (replace MAILER-DAEMON with another name if needed):&lt;/p></description></item><item><title>OpenSPF: Setting up OpenSPF</title><link>https://wiki.deimos.fr/OpenSPF:_Mise_en_place_d'OpenSPF/</link><pubDate>Thu, 04 Oct 2007 16:30:00 +0200</pubDate><guid>https://wiki.deimos.fr/OpenSPF:_Mise_en_place_d'OpenSPF/</guid><description>&lt;p>OpenSPF is the open source version of SPF. In terms of functionality, they are the same. Here is documentation explaining how to implement this type of solution:&lt;/p>
&lt;p>&lt;a href="https://wiki.deimos.fr/pdf/openspf_postfix.pdf">OpenSPF on Postfix Documentation&lt;/a>&lt;/p></description></item><item><title>Postgrey: Setting Up Greylists to Fight Spam</title><link>https://wiki.deimos.fr/Postgrey_:_Mise_en_place_de_greylists_pour_lutter_contre_le_spam/</link><pubDate>Tue, 14 Nov 2006 15:56:00 +0200</pubDate><guid>https://wiki.deimos.fr/Postgrey_:_Mise_en_place_de_greylists_pour_lutter_contre_le_spam/</guid><description>&lt;h2 id="introduction">Introduction &lt;a href="#introduction" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>The postgrey package is a greylisting implementation for postfix. It is very easy to set up and can stop 99.99% of spam in conjunction with blacklisting.&lt;/p>
&lt;p>First back up everything - just in case! ;)&lt;/p>
&lt;p>You should let any users know that greylisting may delay some emails, or otherwise pacify the end user community (Tip: offer them free software if they need compensating for delayed email).&lt;/p>
&lt;h2 id="installation">Installation &lt;a href="#installation" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>As root or your preferred way of getting root privileges:&lt;/p></description></item></channel></rss>