<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Maintenance on Tech Notebook</title><link>https://wiki.deimos.fr/tags/maintenance/</link><description>Recent content in Maintenance on Tech Notebook</description><generator>Hugo</generator><language>en-us</language><lastBuildDate>Mon, 28 Apr 2025 18:51:06 +0200</lastBuildDate><atom:link href="https://wiki.deimos.fr/tags/maintenance/index.xml" rel="self" type="application/rss+xml"/><item><title>Purging MySQL Binary Logs</title><link>https://wiki.deimos.fr/Purger_les_mysql-bin_logs/</link><pubDate>Fri, 02 Dec 2011 08:06:00 +0200</pubDate><guid>https://wiki.deimos.fr/Purger_les_mysql-bin_logs/</guid><description>&lt;h2 id="introduction">Introduction &lt;a href="#introduction" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>Slow query logs and binary logs are essential for several purposes in MySQL. In this documentation, we&amp;rsquo;ll see how to manage them. This is particularly useful when you&amp;rsquo;re running low on disk space.&lt;/p>
&lt;h2 id="slow-query-logs">Slow Query Logs &lt;a href="#slow-query-logs" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;h3 id="introduction-1">Introduction &lt;a href="#introduction-1" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h3>&lt;p>Slow query logs are simply standard logs. They can be managed like standard server logs.&lt;/p>
&lt;h3 id="flush-logs">Flush Logs &lt;a href="#flush-logs" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h3>&lt;p>To flush logs, simply run this command:&lt;/p>



 
 
 

 
 
 
 

 

 &lt;div class="prism-codeblock ">
 &lt;pre id="668effd" class="language-bash ">
 &lt;code>echo &amp;#34;&amp;#34; &amp;gt; slow-query.log&lt;/code>
 &lt;/pre>
 &lt;/div>
&lt;h3 id="rotate-logs">Rotate Logs &lt;a href="#rotate-logs" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h3>


 
 
 

 
 
 
 

 

 &lt;div class="prism-codeblock ">
 &lt;pre id="5823ebd" class="language-bash ">
 &lt;code>mv slow-query.log slow-query.log.old
mysqladmin flush-logs&lt;/code>
 &lt;/pre>
 &lt;/div>
&lt;h2 id="binary-logs">Binary Logs &lt;a href="#binary-logs" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;h3 id="introduction-2">Introduction &lt;a href="#introduction-2" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h3>&lt;p>You might find a large number of bin files in the MySQL data directory called &amp;ldquo;server-bin.n&amp;rdquo; or mysql-bin.00000n, where n is an incrementing number. Usually &lt;code>/var/lib/mysql&lt;/code> stores the binary log files. The binary log contains all statements that update data or potentially could have updated it. For example, a DELETE or UPDATE which matched no rows. Statements are stored in the form of events that describe the modifications. The binary log also contains information about how long each statement that updated data took to execute.&lt;/p></description></item><item><title>Smartmontools: Hard Drive Monitoring</title><link>https://wiki.deimos.fr/Smartmontool_:_Surveillance_des_disques_dur/</link><pubDate>Fri, 14 Jan 2011 20:24:00 +0200</pubDate><guid>https://wiki.deimos.fr/Smartmontool_:_Surveillance_des_disques_dur/</guid><description>&lt;h2 id="introduction">Introduction &lt;a href="#introduction" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>Smartmontools is a tool for analyzing hard drives and their most critical physical characteristics. It consists of two parts: smartd daemon, which checks parameters every 30 minutes and writes the results to &lt;code>/var/log/syslog&lt;/code>, and the smartctl command which requires root privileges and is used to display all the information.&lt;/p>
&lt;h2 id="activation--installation-of-smartmontools">Activation / Installation of smartmontools &lt;a href="#activation--installation-of-smartmontools" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;h3 id="debian">Debian &lt;a href="#debian" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h3>&lt;p>Installation requires root privileges. The package name varies depending on your Debian version. The example below is for Sarge.&lt;/p></description></item><item><title>Finding Broken Symbolic Links</title><link>https://wiki.deimos.fr/Trouver_des_liens_symboliques_cass%C3%A9s/</link><pubDate>Sun, 20 Sep 2009 16:00:00 +0200</pubDate><guid>https://wiki.deimos.fr/Trouver_des_liens_symboliques_cass%C3%A9s/</guid><description>&lt;h2 id="introduction">Introduction &lt;a href="#introduction" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>After a few years on heavily used servers, especially those with many users, you may end up with broken symbolic links. Here&amp;rsquo;s a solution to find them all at once.&lt;/p>
&lt;h2 id="usage">Usage &lt;a href="#usage" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>To search for all broken links:&lt;/p>



 
 
 

 
 
 
 

 

 &lt;div class="prism-codeblock ">
 &lt;pre id="48e800a" class="language-bash ">
 &lt;code>find . -type l ! -exec test -e {} \; -print&lt;/code>
 &lt;/pre>
 &lt;/div>
&lt;p>And to delete them in the same operation:&lt;/p>



 
 
 

 
 
 
 

 

 &lt;div class="prism-codeblock ">
 &lt;pre id="5b64381" class="language-bash ">
 &lt;code>find . -type l ! -exec test -e {} \; -print0 | xargs -0 rm&lt;/code>
 &lt;/pre>
 &lt;/div></description></item><item><title>Calibrating Your Laptop Battery</title><link>https://wiki.deimos.fr/Calibrer_la_batterie_de_son_portable/</link><pubDate>Tue, 22 Apr 2008 06:13:00 +0200</pubDate><guid>https://wiki.deimos.fr/Calibrer_la_batterie_de_son_portable/</guid><description>&lt;h2 id="introduction">Introduction &lt;a href="#introduction" class="anchor" aria-hidden="true">&lt;i class="material-icons align-middle">link&lt;/i>&lt;/a>&lt;/h2>&lt;p>If there&amp;rsquo;s one area where you can read all sorts of contradictory information, it&amp;rsquo;s about the best way to keep your battery performing as well as possible. This is especially true for Intel CPU laptops where you might get unrealistic figures and sometimes problems.&lt;/p>
&lt;p>A technical note published by Apple on this subject provides the calibration procedure (&lt;a href="http://docs.info.apple.com/article.html?path=Mac/10.5/fr/9036.html)" rel="external" target="_blank">http://docs.info.apple.com/article.html?path=Mac/10.5/fr/9036.html)&lt;svg width="16" height="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">&lt;path fill="currentColor" d="M14 5c-.552 0-1-.448-1-1s.448-1 1-1h6c.552 0 1 .448 1 1v6c0 .552-.448 1-1 1s-1-.448-1-1v-3.586l-7.293 7.293c-.391.39-1.024.39-1.414 0-.391-.391-.391-1.024 0-1.414l7.293-7.293h-3.586zm-9 2c-.552 0-1 .448-1 1v11c0 .552.448 1 1 1h11c.552 0 1-.448 1-1v-4.563c0-.552.448-1 1-1s1 .448 1 1v4.563c0 1.657-1.343 3-3 3h-11c-1.657 0-3-1.343-3-3v-11c0-1.657 1.343-3 3-3h4.563c.552 0 1 .448 1 1s-.448 1-1 1h-4.563z"/>&lt;/svg>&lt;/a>. Here&amp;rsquo;s what it contains:&lt;/p></description></item><item><title>AutoFsck: Changing Filesystem Checks on Ubuntu</title><link>https://wiki.deimos.fr/AutoFsck_:_Changer_les_checks_filesystem_sur_Ubuntu/</link><pubDate>Sat, 25 Aug 2007 21:57:00 +0200</pubDate><guid>https://wiki.deimos.fr/AutoFsck_:_Changer_les_checks_filesystem_sur_Ubuntu/</guid><description>&lt;p>If you&amp;rsquo;ve used Ubuntu Linux for longer than a month, you&amp;rsquo;ve no doubt realized that every 30 times you boot up you are forced to run a filesystem check. This filesystem check is necessary in order to keep your filesystem healthy. Some people advise turning the check off completely, but that is generally not a recommended solution. Another solution is to increase the number of maximum mounts from 30 to some larger number like 100. That way it&amp;rsquo;s about 3 times less annoying. But this solution is also not recommended. Enter AutoFsck.&lt;/p></description></item></channel></rss>