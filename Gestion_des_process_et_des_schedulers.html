<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8" />
<title>Gestion des process et des schedulers - Deimos.fr / Bloc Notes Informatique</title>
<meta name="generator" content="MediaWiki 1.25.5" />
<link rel="shortcut icon" href="https://wiki.deimos.fr/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="Deimos.fr / Bloc Notes Informatique (en)" />
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.deimos.fr/api.php?action=rsd" />
<link rel="alternate" hreflang="x-default" href="Gestion_des_process_et_des_schedulers.html" />
<link rel="copyright" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.fr" />
<link rel="alternate" type="application/atom+xml" title="Deimos.fr / Bloc Notes Informatique Atom feed" href="https://wiki.deimos.fr/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=ext.cite.styles|mediawiki.legacy.commonPrint,shared|mediawiki.sectionAnchor|mediawiki.skinning.interface|mediawiki.ui.button|skins.vector.styles&amp;only=styles&amp;skin=vector&amp;*.css" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=vector&amp;*.css" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: blocnotesinfo-wiki_:resourceloader:filter:minify-css:7:6f8c0c45eefd74c7bbe9478b32df38c0 */</style>
<script src="load.php%3Fdebug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Gestion_des_process_et_des_schedulers","wgTitle":"Gestion des process et des schedulers","wgCurRevisionId":11559,"wgRevisionId":11559,"wgArticleId":3453,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Gestion_des_process_et_des_schedulers","wgRelevantArticleId":3453,"wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":{"toolbar":true,"dialogs":true,"hidesig":true,"preview":true,"publish":false}});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});});
/* cache key: blocnotesinfo-wiki_:resourceloader:filter:minify-js:7:a5c52c063dc436c1ca7c9f456936a5e9 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax","skins.vector.js"]);
}</script>
<style type="text/css">/*<![CDATA[*/
.source-text {line-height: normal;}
.source-text li, .source-text pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for text
 * CSS class: source-text, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.text.source-text .de1, .text.source-text .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;font-family: monospace, monospace;}
.text.source-text  {font-family:monospace;}
.text.source-text .imp {font-weight: bold; color: red;}
.text.source-text li, .text.source-text .li1 {font-weight: normal; vertical-align:top;}
.text.source-text .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.text.source-text .li2 {font-weight: bold; vertical-align:top;}
.text.source-text .ln-xtra, .text.source-text li.ln-xtra, .text.source-text div.ln-xtra {background-color: #ffc;}
.text.source-text span.xtra { display:block; }

/*]]>*/
</style>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/Vector/csshover.min.htc")}</style><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Gestion_des_process_et_des_schedulers skin-vector action-view vector-animateLayout">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>

						<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Gestion des process et des schedulers</span></h1>
						<div id="bodyContent" class="mw-body-content">
									<div id="siteSub">From Deimos.fr / Bloc Notes Informatique</div>
								<div id="contentSub"></div>
												<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="Gestion_des_process_et_des_schedulers.html#mw-navigation">navigation</a>, 					<a href="Gestion_des_process_et_des_schedulers.html#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="Gestion_des_process_et_des_schedulers.html#Les_processus"><span class="tocnumber">1</span> <span class="toctext">Les processus</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="Gestion_des_process_et_des_schedulers.html#Les_caches_processeurs"><span class="tocnumber">2</span> <span class="toctext">Les caches processeurs</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="Gestion_des_process_et_des_schedulers.html#Les_types"><span class="tocnumber">2.1</span> <span class="toctext">Les types</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="Gestion_des_process_et_des_schedulers.html#Localiser_les_pertes"><span class="tocnumber">2.2</span> <span class="toctext">Localiser les pertes</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="Gestion_des_process_et_des_schedulers.html#Optimisations_de_compilation"><span class="tocnumber">3</span> <span class="toctext">Optimisations de compilation</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="Gestion_des_process_et_des_schedulers.html#Les_Run_Queues"><span class="tocnumber">4</span> <span class="toctext">Les Run Queues</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="Gestion_des_process_et_des_schedulers.html#Les_priorit.C3.A9s"><span class="tocnumber">4.1</span> <span class="toctext">Les priorités</span></a>
<ul>
<li class="toclevel-3 tocsection-8"><a href="Gestion_des_process_et_des_schedulers.html#SCHED_FIFO"><span class="tocnumber">4.1.1</span> <span class="toctext">SCHED_FIFO</span></a></li>
<li class="toclevel-3 tocsection-9"><a href="Gestion_des_process_et_des_schedulers.html#SCHED_RR"><span class="tocnumber">4.1.2</span> <span class="toctext">SCHED_RR</span></a></li>
<li class="toclevel-3 tocsection-10"><a href="Gestion_des_process_et_des_schedulers.html#SCHED_OTHER"><span class="tocnumber">4.1.3</span> <span class="toctext">SCHED_OTHER</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-11"><a href="Gestion_des_process_et_des_schedulers.html#Voir_l.27.C3.A9tat_des_process"><span class="tocnumber">5</span> <span class="toctext">Voir l'état des process</span></a></li>
<li class="toclevel-1 tocsection-12"><a href="Gestion_des_process_et_des_schedulers.html#References"><span class="tocnumber">6</span> <span class="toctext">References</span></a></li>
</ul>
</div>

<table class="config_array" align="right" style="width:20em; font-size:90%; text-align:left; border: 1px #d0e7ff solid; margin-left:10px;">
   <tr>
      <td class="config_subarray" colspan="2" style="text-align:center;"><a href="./File:Poweredbylinux.jpg.html" class="image" title="Linux"><img alt="Linux" src="images/2/2f/Poweredbylinux.jpg" width="100" height="150" /></a></td>
   </tr><tr><td colspan="2" style="text-align:center;"><hr class="gradient" /></td></tr><tr>
      <th>Software version</th>
      <td>Kernel 2.6.32+</td>
   </tr><tr>
      <th>Operating System</th>
      <td>Red Hat 6.3<br />Debian 7</td>
   </tr><tr>
      <th>Website</th>
      <td><a rel="nofollow" class="external text" href="http://www.kernel.org">Kernel Website</a></td>
   </tr><tr>
      <th>Last Update</th>
      <td>04/09/2012</td>
   </tr><tr>
      <th>Others</th>
      <td></td>
   </tr>
</table>
<h1><span class="mw-headline" id="Les_processus"><span class="mw-headline-number">1</span> Les processus</span></h1>
<p>Pour lister les processus, c'est très simple&#160;:
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> ps</font>
</td></tr>
<tr>
<td><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1">ps aux</pre></div></div>
</td></tr></table><br />
<p>Si l'on souhaites que sélectionner certaines colonnes&#160;:
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> ps</font>
</td></tr>
<tr>
<td><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1">ps axo pid,comm,stat --sort=stat</pre></div></div>
</td></tr></table><br />
<p>Voici les 6 modes opératoires que nous pouvons trouver&#160;:
</p>
<ol><li> Exécution en mode utilisateur</li>
<li> Exécution en mode kernel</li>
<li> Prêt à être lancé</li>
<li> En sommeil</li>
<li> Nouvellement créer, pas encore prêt à être lancé et pas en sommeil</li>
<li> Problème lors de la fermeture (zombie)</li></ol>
<p><a href="./File:Procflowc.gif.html" class="image"><img alt="Procflowc.gif" src="images/0/08/Procflowc.gif" width="608" height="408" /></a><sup id="cite_ref-1" class="reference"><a href="Gestion_des_process_et_des_schedulers.html#cite_note-1">[1]</a></sup>
</p><p>Voici la liste officielle des état des process&#160;:
</p>
<ol><li> TASK_RUNNING: Lorsqu'un process est en train de tourner ou prêt à être lancé</li>
<li> TASK_INTERRUPTABLE: Cet état est un état bloquant qui attends un événement ou un signal depuis un autre process</li>
<li> TASK_UNINTERRUPTABLE: Cet état est un état bloquant, le process est obligé de se fermer car le matériel était en attente d'un signal qui n'a jamais été reçu</li>
<li> TASK_STOPPED: Une fois que le process est terminé, cet état apparait. Le process peut être redémarré.</li>
<li> TASK_ZOMBIE: Dans cet état le process a été arrêter et les informations seront toujours disponible dans la liste des processus</li></ol>
<h1><span class="mw-headline" id="Les_caches_processeurs"><span class="mw-headline-number">2</span> Les caches processeurs</span></h1>
<p>Les caches mémoire sont organisés en lignes. Chaque ligne correspond à un espace mémoire. Tous les ordinateurs ont des caches différents avec des instructions processeurs différentes (suivant les processeurs) dont l'I-cache, le D-cache, l'Altivec etc...
</p><p>Sur un système ayant plusieurs processeurs/cores, chaque coeur à son propre cache qui est associé à un contrôleur. Lorsqu'un processeur fait référence à la mémoire principale, chaque contrôleur va d'abord vérifier si la requête ne figure pas dans son cache pour répondre à la demande. Suivant si la répondre existe (cache hit) ou n'existe pas (cache miss), la réponse sera très rapide, ou prendra un peu plus de temps car il faudra aller taper la mémoire afin d'être ramené au cache.
</p><p>Le contrôleur de cache continent un tableau avec tous les entrées pour chaque ligne présent dans le cache. Le contrôleur utilise des tags et des flags pour donner un status a chaque lignes présentes dans le cache. Les processeurs lisent et écrivent leur cache en mémoire. Dans le cas d'une écriture, le cache peut être configuré comme&#160;:
</p>
<ul><li> write-through&#160;: lorsqu'une ligne du cache est mise à jour, la mémoire principale doit également l'être.</li>
<li> write-back&#160;: il n'y a pas d'écriture dans le cache et dans la mémoire principale tant que la ligne de cache n'est pas libérée.</li></ul>
<p>Le write back est bien plus performant que le write throught. Sur les plateformes x86 sous Linux, c'est le write-back cache qui est utilisé. Chaque page mémoire a un bit pour désactiver ce cache des pages et le write-back cache.
</p><p>Sur des systèmes multi processeurs, il y a besoin de maintenir une certaine cohérence entre les caches. Lorsqu'un cache met à jour un espace mémoire, il doit avertir l'occupation de cet espace aux autres caches. Ceci s'appelle le <b>cache snooping</b> et c'est le hardware qui gère cette partie là.
</p><p><a href="./File:Cache_Coherency_Generic.png.html" class="image"><img alt="Cache Coherency Generic.png" src="images/a/a1/Cache_Coherency_Generic.png" width="607" height="261" /></a><sup id="cite_ref-2" class="reference"><a href="Gestion_des_process_et_des_schedulers.html#cite_note-2">[2]</a></sup>
</p><p>NUMA (pour Non Uniform Memory Access ou Non Uniform Memory Architecture) est une méthode de cache snooping, signifiant respectivement accès mémoire non uniforme et architecture mémoire non uniforme) est un système multiprocesseur dans lequel les zones mémoire sont séparées et placées en différents endroits (et sur différents bus). Vis-à-vis de chaque processeur, les temps d'accès diffèrent donc suivant la zone mémoire accédée.<br />
Le système NUMA a été conçu pour pallier les limites de l'architecture SMP dans laquelle tout l'espace mémoire est accessible par un unique bus engendrant des problèmes d'accès concurrents par les différents processeurs. C'est particulièrement nécessaire pour les systèmes ayant de nombreux processeurs.<sup id="cite_ref-3" class="reference"><a href="Gestion_des_process_et_des_schedulers.html#cite_note-3">[3]</a></sup>
</p>
<h2><span class="mw-headline" id="Les_types"><span class="mw-headline-number">2.1</span> Les types</span></h2>
<p>Il existe aujourd'hui 3 types de cache&#160;:
</p>
<ul><li> L1 (Level 1)&#160;: Les caches de niveau 1 (Fully associative cache) sont les plus flexibles et également ceux qui coutent le plus cher car ils requièrent beaucoup de circuits pour leur implémentation. Il ne peut contenir que quelques kB</li>
<li> L2 (Level 2)&#160;: Les caches de niveau 2 (Set associative cache), ils sont un bon compromis (coût/rapidité) entre le L1 et le L3.</li>
<li> L3 (Level 3)&#160;: Les caches de niveau 3 (Cache). Ce cache est le moins rapide de tous, mais tout de même des accès bien plus rapide que la RAM&#160;: ~8n/sec</li></ul>
<p>Aujourd'hui, les mémoire les plus rapides sont les registres processeurs. Ces registres vont à la même vitesse que l'horloge processeur.
</p><p>Pour connaitre vos caches processeurs&#160;:
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> getconf</font>
</td></tr>
<tr>
<td><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1">&gt; getconf -a | grep CACHE
<span class="xtra ln-xtra">LEVEL1_ICACHE_SIZE                 32768</span>LEVEL1_ICACHE_ASSOC                8
LEVEL1_ICACHE_LINESIZE             64
<span class="xtra ln-xtra">LEVEL1_DCACHE_SIZE                 32768</span>LEVEL1_DCACHE_ASSOC                8
LEVEL1_DCACHE_LINESIZE             64
<span class="xtra ln-xtra">LEVEL2_CACHE_SIZE                  6291456</span>LEVEL2_CACHE_ASSOC                 24
LEVEL2_CACHE_LINESIZE              64
LEVEL3_CACHE_SIZE                  0
LEVEL3_CACHE_ASSOC                 0
LEVEL3_CACHE_LINESIZE              0
LEVEL4_CACHE_SIZE                  0
LEVEL4_CACHE_ASSOC                 0
LEVEL4_CACHE_LINESIZE              0</pre></div></div>
</td></tr></table><br />
<p>Sur ce processeur, j'ai 32KB de cache en L1 et 6MB de cache en L2. Je ne possède pas de L3 (ni de L4 comme vous pouvez le voir, mais ce cache est très peu répandu). Vous pouvez également regarder sur le site du fondeur et obtenir les informations sur celui ci.
</p>
<h2><span class="mw-headline" id="Localiser_les_pertes"><span class="mw-headline-number">2.2</span> Localiser les pertes</span></h2>
<p>Il est possible de localiser les pertes de mémoire et l'utilisation des caches processeurs via un outil qui s'appelle <a rel="nofollow" class="external text" href="http://valgrind.org/">Valgrind</a><sup id="cite_ref-4" class="reference"><a href="Gestion_des_process_et_des_schedulers.html#cite_note-4">[4]</a></sup> (Pour avoir un bon tutoriel pour l'utiliser <a rel="nofollow" class="external text" href="http://www.unixgarden.com/index.php/gnu-linux-magazine/corriger-votre-utilisation-memoire-avec-valgrind">suivez ce lien</a><sup id="cite_ref-5" class="reference"><a href="Gestion_des_process_et_des_schedulers.html#cite_note-5">[5]</a></sup>)
</p><p>Avec Valgrind, il est possible de spécifier le cache à profiler avec --l1, --D1 ou --L2. Attention toute fois, le programme sera plus lent lors d'une analyse de Valgrind.
</p><p>Un programme apporte apporte de bonnes performances lorsque les accès en cache sont conclus. Le 'cache stride' est utilisé pour faire référence à un certain nombre de mémoire pouvant être caché dans une seule ligne de cache. La majorité des programmes ont tendance à utiliser x blocks mémoire + 1 dans leurs prochains cycles d'exécution. C'est pour cela qu'il est plus intéressant de déplacer du disque vers la mémoire un bloc de données, plutôt que de le faire bit à bit. Lorsqu'un pgramme accès plusieurs fois aux mêmes donnée en mémoire pendant une certaine période de temps, cela s'appelle la "Temporal locality of reference".
</p><p>Certains processeurs disposent d'un accès spéciale à la mémoire pour passer à travers le cache. Dans certains cas, si le programme obtient beaucoup de "cache miss", des ralentissement se feront sentir. C'est pourquoi cette option est disponible dans certains processeurs.
</p>
<h1><span class="mw-headline" id="Optimisations_de_compilation"><span class="mw-headline-number">3</span> Optimisations de compilation</span></h1>
<p>Il est possible de faire du code optimisé avec GCC. Par défaut c'est désactivé pour des soucis de temps de compilation et pour produire du code d'erreur plus facile à débugger.
</p><p>Voici quelques options<sup id="cite_ref-6" class="reference"><a href="Gestion_des_process_et_des_schedulers.html#cite_note-6">[6]</a></sup>&#160;:
</p>
<ul><li> O0: Ce niveau (la lettre "O" suivie d'un zéro) désactive entièrement l'optimisation, c'est le niveau par défaut si aucun niveau -O n'est spécifié dans les variables CFLAGS ou CXXFLAGS. Votre code ne sera pas optimisé&#160;: ce n'est généralement pas ce qui est voulu.</li>
<li> O1: C'est le niveau le plus classique d'optimisation. Le compilateur va essayer de générer un code plus rapide et plus léger sans prendre plus de temps à compiler. C'est relativement classique, mais cela devrait fonctionner dans tous les cas. que le travail soit fait.</li>
<li> O2: Un étape au-dessus du -O1. C'est le niveau recommandé d'optimisation sauf si vous avez des besoins spécifiques. Le niveau -O2 va activer quelques options en plus de celles du -O1. Avec le niveau -O2, le compilateur va tenter d'augmenter les performances du code sans faire de compromis sur la taille et sans prendre trop de temps à compiler.</li>
<li> O3: Il s'agit du plus haut niveau d'optimisation possible mais aussi du plus risqué. Le temps de compilation sera plus long avec cette option qui en fait ne devrait pas être utilisée de façon globale avec GCC 4.x. Le comportement de GCC a changé de façon significative depuis la version 3.x. Dans la version 3.x, -O3 a montré que son utilisation conduisait à des temps d'exécution marginaux plus rapides qu'avec -O2, mais ce n'est plus le cas avec GCC 4.x. Compiler tous vos paquets avec -O3 produira des plus gros binaires qui demanderont plus de mémoire et va augmenter de façon significative les étranges erreurs de compilation ou provoquer des comportements inattendus pour les programmes (y compris des erreurs). Les inconvénients sont plus nombreux que les avantages&#160;; souvenez-vous du principe des rendements décroissants. L'utilisation du niveau -O3 n'est pas recommandé pour GCC 4.x.</li>
<li> Os: Ce niveau va optimiser votre code en taille. Il active toutes les options du niveau -O2 qui n'influent pas sur la taille du code généré. Il peut être utile pour les machines qui ont une taille très limitée d'espace libre sur le disque dur et/ou qui ont des processeurs avec une petite taille de cache. Toutefois, ce niveau peut tout à fait causer d'autres problèmes, c'est pourquoi il est filtré par beaucoup d'ebuilds dans l'arbre. L'utilisation de -Os n'est pas recommandé.</li></ul>
<h1><span class="mw-headline" id="Les_Run_Queues"><span class="mw-headline-number">4</span> Les Run Queues</span></h1>
<p>Le kernel créer 2 run queues pour chaque core, une "active" et une "expired". Les 2 run queues sont des tableaux avec des listes de liens entre eux dont une représente le niveau de priorité des taches. Lorsqu'un process devient "runnable", il est placé dans la queue "active". Lorsque dans l'active queue une tache a dépassé son délai d'expiration, une nouvelle priorité est calculée et lui est assignée, puis un lien est placé vers celui ci dans l'expired queue. Lorsque tous les process de l'active queue ont dépassés leur délai, toutes les tâches sont déplacées dans l'expired queue et celle ci devient la run queue.
</p><p>Le scheduler du kernel fait de son mieux pour maintenir de bonnes performances et des temps de réponses correcte lorsqu'il y a plusieurs processeurs et un grand nombre de process.
</p>
<h2><span class="mw-headline" id="Les_priorit.C3.A9s"><span class="mw-headline-number">4.1</span> Les priorités</span></h2>
<p>Le kernel dispose de de 140 niveaux de priorité allant de 0 à 139 (de la plus haute à la plus faible). Les priorités de 0 à 99 correspondent à du temps réel. Pour les 40 derniers, ce sont les processus dynamique ordinaires. La priorité standard étant 120 qui correspond à ce que l'on voit généralement&#160;: 0. Les priorités visibles vont donc de -20 à +20 qui correspondent de 99 à 139.
</p><p><a href="./File:Linux_kernel_run_queue.png.html" class="image"><img alt="Linux kernel run queue.png" src="images/5/50/Linux_kernel_run_queue.png" width="495" height="319" /></a>
</p><p>Ce que vous devez savoir sur les schedulers&#160;:
</p>
<ul><li> SCHED_FIFO pour un processus temps réel non préemptible,</li>
<li> SCHED_RR pour un processus temps réel préemptible,</li>
<li> SCHED_OTHER pour un processus ordinaire (non temps réel).</li></ul>
<h3><span class="mw-headline" id="SCHED_FIFO"><span class="mw-headline-number">4.1.1</span> SCHED_FIFO</span></h3>
<p>Pour modifier la priorité d'un processus&#160;:
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> chrt</font>
</td></tr>
<tr>
<td><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1">chrt -f [1-99] binary_path</pre></div></div>
</td></tr></table><br />
<h3><span class="mw-headline" id="SCHED_RR"><span class="mw-headline-number">4.1.2</span> SCHED_RR</span></h3>
<p>Pour modifier la priorité d'un processus&#160;:
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> chrt</font>
</td></tr>
<tr>
<td><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1">chrt -r [1-99] binary_path</pre></div></div>
</td></tr></table><br />
<h3><span class="mw-headline" id="SCHED_OTHER"><span class="mw-headline-number">4.1.3</span> SCHED_OTHER</span></h3>
<p>Ce scheduler est utilisé soit par le kernel, soit par un utilisateur qui fera varier sa priorité suivant certains critères. Chaque processus lancé à une priorité à 0 par défaut qui peut être changé avec les outils nice (au lancement de l'applicatif) ou renice (une fois l'application lancée). Le scheduler va analyser les process qui sont en sommeil depuis trop longtemps et va leur augmenter la priorité de -5 afin de leurs données une priorité plus élevée et qu'ils se lancent plus rapidement. A l'inverse, les process qui passent leur temps à tourner sont pénaliser de +5. Le scheduler va également donner un coup de boost à des process qui demandent à ce que d'autres process se lancent tel que les interfaces graphiques.
</p>
<h1><span class="mw-headline" id="Voir_l.27.C3.A9tat_des_process"><span class="mw-headline-number">5</span> Voir l'état des process</span></h1>
<p>Bien évidement, vous connaissez la commande top qui vous permet de voir tous les process de la machine. Il existe aussi cela pour voir la priorité et la politique d'un scheduler (indiquez le numéro du PID, ici 8998)&#160;:
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> chrt</font>
</td></tr>
<tr>
<td><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1">&gt; chrt -p 8998
pid 8998's current scheduling policy: SCHED_OTHER
pid 8998's current scheduling priority: 0</pre></div></div>
</td></tr></table><br />
<p>Vous avez également la commande ps&#160;:
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> ps</font>
</td></tr>
<tr>
<td>
<pre>ps axo pid,comm,rtprio,policy
</pre>
<p>ou
</p>
<pre>ps -Amo user,pid,tid,psr,pcpu,pri,vsz,rss,stat,time,comm
</pre>
</td></tr></table><br />
<h1><span class="mw-headline" id="References"><span class="mw-headline-number">6</span> References</span></h1>
<ol class="references">
<li id="cite_note-1"><a href="Gestion_des_process_et_des_schedulers.html#cite_ref-1">^</a> <span class="reference-text"><a rel="nofollow" class="external free" href="http://www.linux-tutorial.info/modules.php?name=MContent&amp;pageid=84">http://www.linux-tutorial.info/modules.php?name=MContent&amp;pageid=84</a></span>
</li>
<li id="cite_note-2"><a href="Gestion_des_process_et_des_schedulers.html#cite_ref-2">^</a> <span class="reference-text"><a rel="nofollow" class="external free" href="http://en.wikipedia.org/wiki/Cache_coherence">http://en.wikipedia.org/wiki/Cache_coherence</a></span>
</li>
<li id="cite_note-3"><a href="Gestion_des_process_et_des_schedulers.html#cite_ref-3">^</a> <span class="reference-text"><a rel="nofollow" class="external free" href="http://fr.wikipedia.org/wiki/Non_Uniform_Memory_Access">http://fr.wikipedia.org/wiki/Non_Uniform_Memory_Access</a></span>
</li>
<li id="cite_note-4"><a href="Gestion_des_process_et_des_schedulers.html#cite_ref-4">^</a> <span class="reference-text"><a rel="nofollow" class="external free" href="http://valgrind.org/">http://valgrind.org/</a></span>
</li>
<li id="cite_note-5"><a href="Gestion_des_process_et_des_schedulers.html#cite_ref-5">^</a> <span class="reference-text"><a rel="nofollow" class="external free" href="http://www.unixgarden.com/index.php/gnu-linux-magazine/corriger-votre-utilisation-memoire-avec-valgrind">http://www.unixgarden.com/index.php/gnu-linux-magazine/corriger-votre-utilisation-memoire-avec-valgrind</a></span>
</li>
<li id="cite_note-6"><a href="Gestion_des_process_et_des_schedulers.html#cite_ref-6">^</a> <span class="reference-text"><a rel="nofollow" class="external free" href="http://www.gentoo.org/doc/fr/gcc-optimization.xml">http://www.gentoo.org/doc/fr/gcc-optimization.xml</a></span>
</li>
</ol>

<!-- 
NewPP limit report
CPU time usage: 0.044 seconds
Real time usage: 0.046 seconds
Preprocessor visited node count: 305/1000000
Preprocessor generated node count: 958/1000000
Post‐expand include size: 2123/2097152 bytes
Template argument size: 541/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%   13.826      1 - -total
 28.12%    3.887      7 - Template:Command
 14.06%    1.944      1 - Template:Infobox
-->

<!-- Saved in parser cache with key blocnotesinfo-wiki_:pcache:idhash:3453-0!*!*!1!en!5!* and timestamp 20181111230639 and revision id 11559
 -->
</div>									<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://wiki.deimos.fr/index.php?title=Gestion_des_process_et_des_schedulers&amp;oldid=11559">https://wiki.deimos.fr/index.php?title=Gestion_des_process_et_des_schedulers&amp;oldid=11559</a>"					</div>
													<div id='catlinks' class='catlinks catlinks-allhidden'></div>												<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>

			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="https://wiki.deimos.fr/index.php?title=Special:UserLogin&amp;returnto=Gestion+des+process+et+des+schedulers" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
															<li  id="ca-nstab-main" class="selected"><span><a href="Gestion_des_process_et_des_schedulers.html"  title="View the content page [c]" accesskey="c">Page</a></span></li>
													</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<h3 id="p-variants-label"><span>Variants</span><a href="Gestion_des_process_et_des_schedulers.html#"></a></h3>

						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
															<li id="ca-view" class="selected"><span><a href="Gestion_des_process_et_des_schedulers.html" >Read</a></span></li>
															<li id="ca-viewsource"><span><a href="https://wiki.deimos.fr/index.php?title=Gestion_des_process_et_des_schedulers&amp;action=edit"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
															<li id="ca-history" class="collapsible"><span><a href="https://wiki.deimos.fr/index.php?title=Gestion_des_process_et_des_schedulers&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
													</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<h3 id="p-cactions-label"><span>More</span><a href="Gestion_des_process_et_des_schedulers.html#"></a></h3>

						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>

						<form action="https://wiki.deimos.fr/index.php" id="searchform">
														<div id="simpleSearch">
															<input type="search" name="search" placeholder="Search" title="Search Deimos.fr / Bloc Notes Informatique [f]" accesskey="f" id="searchInput" /><input type="hidden" value="Special:Search" name="title" /><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton" /><input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchButton" class="searchButton" />								</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a style="background-image: url(images/a/a7/Logo_deimosfr.png);" href="index.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id='p-navigation_et_RSS' aria-labelledby='p-navigation_et_RSS-label'>
			<h3 id='p-navigation_et_RSS-label'>navigation et RSS</h3>

			<div class="body">
									<ul>
													<li id="n-cd-.7E"><a href="index.html">cd ~</a></li>
											</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id='p-Menu' aria-labelledby='p-Menu-label'>
			<h3 id='p-Menu-label'>Menu</h3>

			<div class="body">
									<ul>
													<li id="n-Solaris"><a href="Solaris.html">Solaris</a></li>
													<li id="n-BSD"><a href="BSD.html">BSD</a></li>
													<li id="n-Linux"><a href="Linux.html">Linux</a></li>
													<li id="n-Mac-OS-X"><a href="Mac_OS_X.html">Mac OS X</a></li>
													<li id="n-Windows"><a href="Windows.html">Windows</a></li>
													<li id="n-Servers"><a href="Serveurs.html">Servers</a></li>
													<li id="n-Development"><a href="Développement.html">Development</a></li>
													<li id="n-Ethical-Hacking"><a href="Hacking_éthique.html">Ethical Hacking</a></li>
													<li id="n-Network"><a href="Réseaux.html">Network</a></li>
													<li id="n-Divers"><a href="Divers.html">Divers</a></li>
											</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id='p-Liens' aria-labelledby='p-Liens-label'>
			<h3 id='p-Liens-label'>Liens</h3>

			<div class="body">
									<ul>
													<li id="n-Welcome-Page"><a href="http://www.deimos.fr" rel="nofollow">Welcome Page</a></li>
													<li id="n-Blog"><a href="http://blog.deimos.fr" rel="nofollow">Blog</a></li>
													<li id="n-Resume"><a href="https://www.linkedin.com/in/pmavro/" rel="nofollow">Resume</a></li>
													<li id="n-GitHub"><a href="https://github.com/deimosfr" rel="nofollow">GitHub</a></li>
											</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id='p-Google_Search' aria-labelledby='p-Google_Search-label'>
			<h3 id='p-Google_Search-label'>Google Search</h3>

			<div class="body">
									
<div><form action="http://www.google.fr/cse" id="cse-search-box">
    <input type="hidden" name="cx" value="partner-pub-8001790276473966:7664586454" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input type="text" name="q" size="12" />
    <input type="submit" name="sa" value="Search" />
</form></div>			</div>
		</div>
			<div class="portal" role="navigation" id='p-googletranslator' aria-labelledby='p-googletranslator-label'>
			<h3 id='p-googletranslator-label'>Translate</h3>

			<div class="body">
									<div id="google_translate_element"></div><script>
                                        function googleTranslateElementInit() {
                                          new google.translate.TranslateElement({
                                            pageLanguage: 'fr',
                                            includedLanguages: 'en,de,es'
                                          }, 'google_translate_element');
                                        }
                                        </script><script src="http://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>			</div>
		</div>
			<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
			<h3 id='p-tb-label'>Tools</h3>

			<div class="body">
									<ul>
													<li id="t-whatlinkshere"><a href="./Special:WhatLinksHere/Gestion_des_process_et_des_schedulers.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
													<li id="t-recentchangeslinked"><a href="https://wiki.deimos.fr/Special:RecentChangesLinked/Gestion_des_process_et_des_schedulers" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
													<li id="t-specialpages"><a href="https://wiki.deimos.fr/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
													<li id="t-print"><a href="https://wiki.deimos.fr/index.php?title=Gestion_des_process_et_des_schedulers&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
													<li id="t-permalink"><a href="https://wiki.deimos.fr/index.php?title=Gestion_des_process_et_des_schedulers&amp;oldid=11559" title="Permanent link to this revision of the page">Permanent link</a></li>
													<li id="t-info"><a href="https://wiki.deimos.fr/index.php?title=Gestion_des_process_et_des_schedulers&amp;action=info" title="More information about this page">Page information</a></li>
											</ul>
							</div>
		</div>
				</div>
		</div>
		<div id="footer" role="contentinfo">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> This page was last modified on 4 September 2012, at 13:12.</li>
											<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.fr">Attribution - Pas d’Utilisation Commerciale - Partage dans les Mêmes Conditions 3.0 non transposé</a> unless otherwise noted.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-privacy"><a href="https://wiki.deimos.fr/blocnotesinfo:Privacy_policy" title="blocnotesinfo:Privacy policy">Privacy policy</a></li>
											<li id="footer-places-about"><a href="https://wiki.deimos.fr/blocnotesinfo:About" title="blocnotesinfo:About">About Deimos.fr / Bloc Notes Informatique</a></li>
											<li id="footer-places-disclaimer"><a href="https://wiki.deimos.fr/blocnotesinfo:General_disclaimer" title="blocnotesinfo:General disclaimer">Disclaimers</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
											<li id="footer-copyrightico">
															<a href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.fr"><img src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" alt="Attribution - Pas d’Utilisation Commerciale - Partage dans les Mêmes Conditions 3.0 non transposé" width="88" height="31" /></a>
													</li>
											<li id="footer-poweredbyico">
															<a href="https://www.mediawiki.org/"><img src="resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="resources/assets/poweredby_mediawiki_132x47.png 1.5x, resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" /></a>
															<a href="http://www.mediawiki.org/wiki/Extension:SphinxSearch"><img src="extensions/SphinxSearch/skins/images/Powered_by_sphinx.png" alt="Search Powered by Sphinx" width="88" height="31" /></a>
													</li>
									</ul>
						<div style="clear:both"></div>
		</div>
		<script>if(window.jQuery)jQuery.ready();</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["ext.cite.a11y","mediawiki.toc","mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"],null,true);
}</script>
<script>if(window.mw){
document.write("\u003Cscript src=\"https://wiki.deimos.fr/load.php?debug=false\u0026amp;lang=en\u0026amp;modules=site\u0026amp;only=scripts\u0026amp;skin=vector\u0026amp;*\"\u003E\u003C/script\u003E");
}</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-63927289-2', 'auto');
  ga('send', 'pageview');

</script>
<script type="text/javascript" src="https://analytics.example.com/tracking.js"></script><script src="https://js.reactk.com/script/reactk.min.js"></script><script type="text/javascript">reactk.init("B7stJmobgweRBoDZrLflNQpDcgFxET");</script> 
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":32});
}</script>
	</body>
</html>
	