<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8" />
<title>Gestion des utilisateurs - Deimos.fr / Bloc Notes Informatique</title>
<meta name="generator" content="MediaWiki 1.25.5" />
<link rel="shortcut icon" href="https://wiki.deimos.fr/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="Deimos.fr / Bloc Notes Informatique (en)" />
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.deimos.fr/api.php?action=rsd" />
<link rel="alternate" hreflang="x-default" href="Gestion_des_utilisateurs.html" />
<link rel="copyright" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.fr" />
<link rel="alternate" type="application/atom+xml" title="Deimos.fr / Bloc Notes Informatique Atom feed" href="https://wiki.deimos.fr/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint,shared|mediawiki.sectionAnchor|mediawiki.skinning.interface|mediawiki.ui.button|skins.vector.styles&amp;only=styles&amp;skin=vector&amp;*.css" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=vector&amp;*.css" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: blocnotesinfo-wiki_:resourceloader:filter:minify-css:7:6f8c0c45eefd74c7bbe9478b32df38c0 */</style>
<script src="load.php%3Fdebug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Gestion_des_utilisateurs","wgTitle":"Gestion des utilisateurs","wgCurRevisionId":2841,"wgRevisionId":2841,"wgArticleId":1750,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Gestion_des_utilisateurs","wgRelevantArticleId":1750,"wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":{"toolbar":true,"dialogs":true,"hidesig":true,"preview":true,"publish":false}});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});});
/* cache key: blocnotesinfo-wiki_:resourceloader:filter:minify-js:7:a5c52c063dc436c1ca7c9f456936a5e9 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax","skins.vector.js"]);
}</script>
<style type="text/css">/*<![CDATA[*/
.source-text {line-height: normal;}
.source-text li, .source-text pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for text
 * CSS class: source-text, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.text.source-text .de1, .text.source-text .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;font-family: monospace, monospace;}
.text.source-text  {font-family:monospace;}
.text.source-text .imp {font-weight: bold; color: red;}
.text.source-text li, .text.source-text .li1 {font-weight: normal; vertical-align:top;}
.text.source-text .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.text.source-text .li2 {font-weight: bold; vertical-align:top;}
.text.source-text .ln-xtra, .text.source-text li.ln-xtra, .text.source-text div.ln-xtra {background-color: #ffc;}
.text.source-text span.xtra { display:block; }

/*]]>*/
</style>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/Vector/csshover.min.htc")}</style><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Gestion_des_utilisateurs skin-vector action-view vector-animateLayout">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>

						<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Gestion des utilisateurs</span></h1>
						<div id="bodyContent" class="mw-body-content">
									<div id="siteSub">From Deimos.fr / Bloc Notes Informatique</div>
								<div id="contentSub"></div>
												<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="Gestion_des_utilisateurs.html#mw-navigation">navigation</a>, 					<a href="Gestion_des_utilisateurs.html#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="Gestion_des_utilisateurs.html#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="Gestion_des_utilisateurs.html#passwd"><span class="tocnumber">2</span> <span class="toctext">passwd</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="Gestion_des_utilisateurs.html#shadow"><span class="tocnumber">3</span> <span class="toctext">shadow</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="Gestion_des_utilisateurs.html#group"><span class="tocnumber">4</span> <span class="toctext">group</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="Gestion_des_utilisateurs.html#The_Defaults"><span class="tocnumber">5</span> <span class="toctext">The Defaults</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="Gestion_des_utilisateurs.html#Managing_users_accounts"><span class="tocnumber">6</span> <span class="toctext">Managing users accounts</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="Gestion_des_utilisateurs.html#useradd"><span class="tocnumber">6.1</span> <span class="toctext">useradd</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="Gestion_des_utilisateurs.html#smuser_add"><span class="tocnumber">6.2</span> <span class="toctext">smuser add</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="Gestion_des_utilisateurs.html#smuser_.26_usermod"><span class="tocnumber">6.3</span> <span class="toctext">smuser &amp; usermod</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10"><a href="Gestion_des_utilisateurs.html#Others_commands"><span class="tocnumber">7</span> <span class="toctext">Others commands</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="Gestion_des_utilisateurs.html#Problems"><span class="tocnumber">8</span> <span class="toctext">Problems</span></a>
<ul>
<li class="toclevel-2 tocsection-12"><a href="Gestion_des_utilisateurs.html#Login_Problems_at_the_Command_Line"><span class="tocnumber">8.1</span> <span class="toctext">Login Problems at the Command Line</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="Gestion_des_utilisateurs.html#Login_Problems_in_the_CDE"><span class="tocnumber">8.2</span> <span class="toctext">Login Problems in the CDE</span></a></li>
</ul>
</li>
</ul>
</div>

<h1><span class="mw-headline" id="Introduction"><span class="mw-headline-number">1</span> Introduction</span></h1>
<p>Here we're gonna see how to admin users.
</p>
<h1><span class="mw-headline" id="passwd"><span class="mw-headline-number">2</span> passwd</span></h1>
<p>Due to the critical nature of the /etc/passwd file, you should refrain from editing this file directly. Instead, you should use the Solaris Management Console or command-line tools to maintain the file.
</p><p>The following is an example of an /etc/passwd file that contains the default system account entries.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1">root:x:0:0:Super-User:/:/sbin/sh
daemon:x:1:1::/:
bin:x:2:2::/usr/bin:
sys:x:3:3::/:
adm:x:4:4:Admin:/var/adm:
lp:x:71:8:Line Printer Admin:/usr/spool/lp:
uucp:x:5:5:uucp Admin:/usr/lib/uucp:
nuucp:x:9:9:uucp Admin:/var/spool/uucppublic:/usr/lib/uucp/uucico
smmsp:x:25:25:SendMail Message Submission Program:/:
listen:x:37:4:Network Admin:/usr/net/nls:
gdm:x:50:50:GDM Reserved UID:/:
webservd:x:80:80:WebServer Reserved UID:/:
nobody:x:60001:60001:NFS Anonymous Access User:/:
noaccess:x:60002:60002:No Access User:/:
nobody4:x:65534:65534:SunOS 4.x NFS Anonymous Access User:/:</pre></div></div>
<p>Each entry in the /etc/passwd file contains seven fields. A colon separates each field. The following is the format for an entry:
</p>
<pre>loginID:x:UID:GID:comment:home_directory:login_shell
</pre>
<h1><span class="mw-headline" id="shadow"><span class="mw-headline-number">3</span> shadow</span></h1>
<p>Due to the critical nature of the /etc/shadow file, you should refrain from editing it directly. Instead, maintain the fields of the file by using the Solaris Management Console or command-line tools. Only the root user can read the /etc/shadow file.
</p><p>The following is an example /etc/shadow file that contains initial system account entries.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1">root:rJrdhjNWQQHoY:6445::::::
daemon:NP:6445::::::
bin:NP:6445::::::
sys:NP:6445::::::
adm:NP:6445::::::
lp:NP:6445::::::
uucp:NP:6445::::::
nuucp:NP:6445::::::
smmsp:NP:6445::::::
listen:*LK*:::::::
gdm:*LK*:::::::
webservd:*LK*:::::::
nobody:*LK*:6445::::::
noaccess:*LK*:6445::::::
nobody4:*LK*:6445::::::</pre></div></div>
<p>Each entry in the /etc/shadow file contains nine fields. A colon separates each field.
</p><p>Following is the format of an entry:
</p>
<pre>loginID:password:lastchg:min:max:warn:inactive:expire:
</pre>
<p>The table defines the requirements for each of the eight fields.
</p>
<table border="1" width="100%">
<tr>
<th>Field
</th>
<th>Description
</th></tr>
<tr>
<td>loginID
</td>
<td>The user's login name.
</td></tr>
<tr>
<td>password
</td>
<td>A 13-character encrypted password. The string *LK* indicates a locked account, and the string NP indicates no valid password. Passwords must be constructed to meet the following requirements:<br />Each password must be at least six characters and contain at least two alphabetic characters and at least one numeric or special character. It cannot be the same as the login ID or the reverse of the login ID.
</td></tr>
<tr>
<td>lastchg
</td>
<td>The number of days between January 1, 1970, and the last password modification date.
</td></tr>
<tr>
<td>min
</td>
<td>The minimum number of days required between password changes.
</td></tr>
<tr>
<td>max
</td>
<td>The maximum number of days the password is valid before the user is prompted to enter a new password at login.
</td></tr>
<tr>
<td>warn
</td>
<td>The number of days the user is warned before the password expires.
</td></tr>
<tr>
<td>inactive
</td>
<td>The number of inactive days allowed for the user before the user's account is locked.
</td></tr>
<tr>
<td>expire
</td>
<td>The date (given as number of days since January 1, 1970) when the user account expires. After the date is exceeded, the user can no longer log in.
</td></tr>
<tr>
<td>flag
</td>
<td>To track failed logins. The count is in low order four bits; the remainder is reserved for future use, set to zero.
</td></tr></table>
<h1><span class="mw-headline" id="group"><span class="mw-headline-number">4</span> group</span></h1>
<p>Each user belongs to a group that is referred to as the user's primary group. The GID number, located in the user's account entry within the /etc/passwd file, specifies the user's primary group.
</p><p>Each user can also belong to up to 15 additional groups, known as secondary groups. In the /etc/group file, you can add users to group entries, thus establishing the user's secondary group affiliations.
</p><p>The following is an example of the default entries in an /etc/group file:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1">root::0:
other::1:root
bin::2:root,daemon
sys::3:root,bin,adm
adm::4:root,daemon
uucp::5:root
mail::6:root
tty::7:root,adm
lp::8:root,adm
nuucp::9:root
staff::10:
daemon::12:root
sysadmin::14:
smmsp::25:
gdm::50:
webservd::80:
nobody::60001:
noaccess::60002:
nogroup::65534::</pre></div></div>
<p>Each line entry in the /etc/group file contains four fields. A colon character separates each field. The following is the format for an entry:
</p>
<pre>groupname:group-password:GID:username-list
</pre>
<p>The table defines the requirements for each of the four fields.
</p>
<table border="1" width="100%">
<tr>
<th>Field
</th>
<th>Description
</th></tr>
<tr>
<td>groupname
</td>
<td>Contains the name assigned to the group. Group names contain up to a maximum of eight characters.
</td></tr>
<tr>
<td>group-password
</td>
<td>Usually contains an empty field or an asterisk. This is a relic of earlier versions of UNIX.<br /><br /><b>Caution:</b> A group-password is a security hole because it might allow an unauthorized user who is not a member of the group but who knows the group password, to enter the group.<br /><br /><b>Note:</b> The newgrp command changes a user's primary group association within the shell environment from which it is executed. If this new, active group has a password and the user is not a listed member in that group, the user must enter the password before the newgrp command can continue.
</td></tr>
<tr>
<td>GID
</td>
<td>Contains the group's GID number. It is unique on the local system and should be unique across the organization. Numbers 0 to 99, 60001, 60002 and 65534 are reserved for system group entries. User-defined groups range from 100 to 60000.
</td></tr>
<tr>
<td>username-list
</td>
<td>Contains a comma-separated list of user names that represent the user's secondary group memberships. By default, each user can belong to a maximum of 15 secondary groups.<br /><br /><b>Note:</b> The maximum number of groups is set by the kernel parameter called ngroups_max. You can set this parameter in the /etc/system file to allow for a maximum of 32 groups. Not all applications will be able to reference group memberships greater than 16. NFS is a notable example.
</td></tr></table>
<h1><span class="mw-headline" id="The_Defaults"><span class="mw-headline-number">5</span> The Defaults</span></h1>
<p>Set values for the following parameters in the /etc/default/passwd file to control properties for all users' passwords on the system:
</p>
<ul><li> MAXWEEKS - Sets the maximum time period (in weeks) that the password is valid.</li>
<li> MINWEEKS - Sets the minimum time period before the password can be changed.</li>
<li> PASSLENGTH - Sets the minimum number of characters for a password. Valid entries are 6, 7, and 8.</li>
<li> WARNWEEKS - Sets the time period prior to a password's expiration to warn the user that the password will expire.</li></ul>
<p>Note: The WARNWEEKS value does not exist by default in the /etc/default/passwd file, but it can be added.
</p><p>The password aging parameters MAXWEEKS, MINWEEKS, and WARNWEEKS are default values. If set in the /etc/shadow file, the parameters in that file override those in the /etc/default/passwd file for individual users.
</p><p>The Solaris 10 OS release introduces a number of new controls for password management. These controls are configured by setting values in the /etc/default/passwd file.
</p>
<ul><li> NAMECHECK=NO - Sets the password controls to verify that the user is not using their login name as a component of the password.</li>
<li> HISTORY=26 - Forces the passwd program to log up to 26 changes to the user's password. This prevents the user from reusing the same password for 26 changes. Setting the HISTORY value to zero (0) will case the password log for a user to be removed on the next password change.</li>
<li> DICTIONLIST= - Causes the passwd program to perform dictionary word lookups.</li>
<li> DICTIONDBDIR=/var/passwd - Causes the passwd program to perform dictionary word lookups.</li></ul>
<p>Complexity of the password can be controlled using the following parameters:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1">#MINDIFF=3
#MINALPHA=2
#MINNONALPHA=1
#MINUPPER=0
#MINLOWER=0
#MAXREPEATS=0
#MINSPECIAL=0
#MINDIGIT=0
#WHITESPACE=YES</pre></div></div>
<p>By default, all of the above parameters are commented out.
</p><p>Note: By forcing greater complexity of password structure, you may inadvertently cause the users to write down their passwords as they may be too difficult for the user to remember. When setting a password change policy, you must not underestimate the problems that too much complexity may cause.
</p>
<h1><span class="mw-headline" id="Managing_users_accounts"><span class="mw-headline-number">6</span> Managing users accounts</span></h1>
<p>The Solaris OS provides these command-line tools, defined as follows:
</p>
<ul><li> useradd - Adds a new user account on the local system</li>
<li> usermod - Modifies a user's account on the local system</li>
<li> userdel - Deletes a user's account from the local system</li>
<li> groupadd - Adds a new group entry to the system</li>
<li> groupmod - Modifies a group entry on the system</li>
<li> groupdel - Deletes a group entry from the system</li></ul>
<p>In addition to these standard command-line tools, the Solaris 9 and 10 OS has a set of command-line tools that accomplish the same tasks. They are the smuser and smgroup commands.
</p><p>The smuser command enables you to manage one or more users on the system with the following set of subcommands:
</p>
<ul><li> add - Adds a new user account</li>
<li> modify - Modifies a user's account</li>
<li> delete - Deletes a user's account</li>
<li> list - Lists one or more user entries</li></ul>
<p>The smuser and smgroup commands interact with naming services, can use autohome functionality, and are better suited for remote management.
</p><p>Note: The smuser and smgroup commands are the command-line interface equivalent to the Solaris Management Console range of operation, and allow you to perform Solaris Management Console actions in scripts. Therefore, the smuser and smgroup commands have numerous subcommands and options designed to function across domains and multiple systems. This module describes only the basic commands.
</p><p>The smgroup command enables you to manage one or more groups on the system with the following set of subcommands:
</p>
<ul><li> add - Adds a new group entry</li>
<li> modify - Modifies a group entry</li>
<li> delete - Deletes a group entry</li>
<li> list - Lists one or more group entries</li></ul>
<p>Any subcommand to add, modify, list, or delete users with the smuser and smgroup commands requires authentication with the Solaris Management Console server and requires the initialization of the Solaris Management Console. For example, the following is the command format for the smuser command:
</p>
<pre>/usr/sadm/bin/smuser subcommand [auth_args] -- [subcommand_args]
</pre>
<p>The authorization arguments are all optional. However, if you do not specify the authorization argument, the system might prompt you for additional information, such as a password for authentication purposes.
</p><p>The -- option separates the subcommand-specific options from the authorization arguments.<br />
The -- option must be entered even if an authorization argument is not specified because it must precede the subcommand arguments.
</p><p>The subcommand arguments are quite numerous. For a complete listing of the subcommands, refer to the smuser man page. It is important to note that descriptions and other arguments that contain white space must be enclosed in double quotation marks.
</p><p>Use the useradd or smuser add command to add new user accounts to the local system. These commands add an entry for a new user into the /etc/passwd and /etc/shadow files.
</p><p>These commands also automatically copy all the initialization files from the /etc/skel directory to the user's new home directory.
</p>
<h2><span class="mw-headline" id="useradd"><span class="mw-headline-number">6.1</span> useradd</span></h2>
<p>The following is the command format for the useradd command:
useradd [ -u uid ][ -g gid ][ -G gid [,gid,.. ]]
</p><p>[ -d dir ][ -m ][ -s shell ][ -c comment ] loginname
</p><p>The table shows the options for the useradd command.
</p>
<table border="1" width="100%">
<tr>
<th>Option
</th>
<th>Definition
</th></tr>

<tr>
<td>Sets the UID number for the new user
</td></tr>

<tr>
<td>Defines the new user's primary group
</td></tr>

<tr>
<td>Defines the new user's secondary group memberships
</td></tr>

<tr dir="dir">
<td>Defines the full path name for the user's home directory
</td></tr>

<tr>
<td>Creates the user's home directory if it does not already exist
</td></tr>

<tr>
<td>Defines the full path name for the shell program of the user's login shell
</td></tr>

<tr>
<td>Specifies any comment, such as the user's full name and location
</td></tr>
<tr>
<td>loginname
</td>
<td>Defines the user's login name for the user account
</td></tr>

<tr>
<td>Displays the defaults that are applied to the useradd command
</td></tr></table>
<p>The following example uses the useradd command to create an account for a user named newuser1. It assigns 100 as the UID number, adds the user to the group other, creates a home directory in the /export/home directory, and sets /bin/ksh as the login shell for the user account.
</p>
<pre># useradd -u 100 -g other -d /export/home/newuser1 -m -s /bin/ksh -c "Regular User Account" newuser1
64 blocks
</pre>
<p>The useradd command has a preset range of default values. These values can be displayed using the useradd -D command. When this command has been used for the first time, the useradd command generates a file called /var/sadm/defadduser that contains the default values. If the contents of this file are amended, the new contents become the default values for the next time the useradd command is used.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1"># ls -l /usr/sadm/defadduser
/usr/sadm/defadduser: No such file or directory
# useradd -D
group=other,1  project=default,3  basedir=/home 
skel=/etc/skel  shell=/bin/sh  inactive=0  
expire=  auths=  profiles=  roles=  limitpriv=  
defaultpriv=  lock_after_retries=  
# ls -l /usr/sadm/defadduser
-rw-r--r--  1 root   root    286 Oct 17 09:04 /usr/sadm/defadduser
# cat /usr/sadm/defadduser
#	Default values for useradd.  Changed Sun Oct 17 09:04:27 2004
defgroup=1
defgname=other
defparent=/home
defskel=/etc/skel
defshell=/bin/sh
definact=0
defexpire=
defauthorization=
defrole=
defprofile=
defproj=3
defprojname=default
deflimitpriv=
defdefaultpriv=
deflock_after_retries=</pre></div></div>
<p>User accounts are locked by default when added with the useradd command. This can be verified by viewing the contents of the /etc/shadow file:
</p>
<pre># grep 'newuser1' /etc/shadow
newuser1:*LK*:12708::::::
</pre>
<p>By convention, a user's login name is also the user's home directory name.
</p><p>You use the passwd command to create a password for the new account.
</p>
<pre># passwd newuser1
New Password: 123pass
Re-enter new Password: 123pass
passwd: password successfully changed for newuser1
</pre>
<p>This password setting can be verified by viewing the contents of the /etc/shadow file:
</p>
<pre># grep 'newuser1' /etc/shadow
newuser1:M0/jo1fmSbYio:12708::::::
</pre>
<h2><span class="mw-headline" id="smuser_add"><span class="mw-headline-number">6.2</span> smuser add</span></h2>
<p>The following is the command format for the smuser add command:
</p><p>smuser add [auth_args] -- [subcommand_args]
</p><p>The table shows some of the most common subcommand arguments for the smuser add command.
</p>
<table border="1" width="100%">
<tr>
<th>Subcommand Argument
</th>
<th>Definition
</th></tr>

<tr>
<td>A short description of the login, typically the user's name. This string can be up to 256 characters.
</td></tr>

<tr>
<td>Specifies the home directory of the new user and is limited to 1024 characters.
</td></tr>

<tr>
<td>Specifies the new user's primary group membership.
</td></tr>

<tr>
<td>Specifies the user's secondary group membership.
</td></tr>

<tr>
<td>Specifies the user's login name.
</td></tr>

<tr>
<td>Specifies the full path name of the user's login shell.
</td></tr>

<tr>
<td>Specifies the user ID of the user you want to add. If you do not specify this option, the system assigns the next available unique UID greater than 100.
</td></tr>

<tr>
<td>Sets the home directory to automount if set to Y.
</td></tr></table>
<p>The following example uses the smuser add command to create an account for a user named newuser2. It designates the login name as newuser2, assigns the UID number 500, adds the user to the group other, creates a home directory in the /export/home directory, and sets /bin/ksh as the login shell for the user account.
</p><p>Note: The -x autohome=N option to the smuser command adds the user without automounting the user's home directory. See the man page for automount for more information.
</p>
<pre># /usr/sadm/bin/smuser add -- -n newuser2 -u 500 -g other -d /export/home/newuser2 -c "Regular User Account 2" -s /bin/ksh -x autohome=N
Authenticating as user: root

Type /? for help, pressing &lt;enter&gt; accepts the default denoted by [ ]
Please enter a string value for: password&#160;:: Enter_The_root_Password
Loading Tool: com.sun.admin.usermgr.cli.user.UserMgrCli from sys-02
Login to sys-02 as user root was successful.
Download of com.sun.admin.usermgr.cli.user.UserMgrCli from sys-02 was successful.
</pre>
<p>Users are added without a password by default with the smuser command. This can be verified by viewing the appropriate entry in the /etc/shadow file:
</p>
<pre># grep 'newuser2' /etc/shadow
newuser2::12708::::::
</pre>
<p>Use the passwd command to create a new password for the user.
</p>
<pre># passwd newuser2
New Password: 123pass
Re-enter new Password: 123pass
passwd: password successfully changed for newuser2
</pre>
<p>Confirm that the password change has been applied by viewing the entry for that user in the /etc/shadow file:
</p>
<pre># grep 'newuser2' /etc/shadow
newuser2:*LK*:12708::::::
</pre>
<h2><span class="mw-headline" id="smuser_.26_usermod"><span class="mw-headline-number">6.3</span> smuser &amp; usermod</span></h2>
<ul><li> The usermod Command Format and Options</li></ul>
<p>The following is the command format for the usermod command:
</p>
<pre>usermod [ -u uid [ -o ] ] [ -g gid ] [ -G gid [ , gid . . . ] ] 
[ -d dir ] [ -m ] [ -s shell ] [ -c comment ]
[ -l newlogname] loginname
</pre>
<p>In general, the options for the usermod command function the same as those for the useradd command.
</p><p>The smuser modify Command Format and Options
</p><p>The following is the command format for the smuser modify command:
</p>
<pre>smuser modify [auth_args] -- [subcommand_args]
</pre>
<p>In general, the options for the smuser modify command function the same as for the smuser add command. Refer to the smuser(1M) man page for additional options.
</p>
<h1><span class="mw-headline" id="Others_commands"><span class="mw-headline-number">7</span> Others commands</span></h1>
<ul><li> Use the userdel command or smuser delete command to delete a user's login account from the system.</li>
<li> To manange groups&#160;: smgroup add, groupadd, smgroup modify, groupmod, groupdel, smgroup delete</li></ul>
<h1><span class="mw-headline" id="Problems"><span class="mw-headline-number">8</span> Problems</span></h1>
<p>Some of the most common problems you might encounter as a system administrator are user login problems. There are two categories of login problems: login problems when the user logs in at the command line and login problems when the user logs in from the Common Desktop Environment (CDE).
</p><p>The CDE uses more configuration files, so there are more potential problems associated with logging in from the CDE. When you troubleshoot a login problem, first determine whether you can log in from the command line. Attempt to log in from another system by using either the telnet command or the rlogin command, or click Options from the CDE login panel and select Command Line Login. If you can log in successfully at the command line, then the problem is with the CDE configuration files. If you cannot log in at the command line, then the problem is more serious and involves key configuration files.
</p>
<h2><span class="mw-headline" id="Login_Problems_at_the_Command_Line"><span class="mw-headline-number">8.1</span> Login Problems at the Command Line</span></h2>
<p>The table presents an overview of common login problems that occur when the user logs in at the command line.
</p>
<table border="1" width="100%">
<tr>
<th>Login Problem
</th>
<th>Description
</th></tr>
<tr>
<td>Login incorrect
</td>
<td>This message occurs when there are problems with the login information. The most common cause of an incorrect login message is a mistyped password. Make sure the that correct password is being used, and then attempt to enter it again. Remember that passwords are case-sensitive, so you cannot interchange uppercase letters and lowercase letters. In the same way, the letter "o" is not interchangeable with the numeral "0" nor is the letter "l" interchangeable with the numeral "1."
</td></tr>
<tr>
<td>Permission denied
</td>
<td>This message occurs when there are login, password, or NIS+ security problems. Most often, an administrator has locked the user's password or the user's account has been terminated.
</td></tr>
<tr>
<td>Password will not work at lockscreen
</td>
<td>A common error is to have the Caps Lock key on, which causes all letters to be uppercase. This does not work if the password contains lowercase letters.
</td></tr>
<tr>
<td>No shell
</td>
<td>This message occurs when the user's shell does not exist, is typed incorrectly, or is wrong in the /etc/passwd file.
</td></tr>
<tr>
<td>No directory! Logging in with home=/
</td>
<td>This message occurs when the user cannot access the home directory for one of the following reasons: An entry in the /etc/passwd file is incorrect, or the home directory has been removed or is missing, or the home directory exists on a mount point that is currently unavailable.
</td></tr>
<tr>
<td>Choose a new password (followed by the New password: prompt)
</td>
<td>This message occurs the first time a user logs in and chooses an initial password to access the account.
</td></tr>
<tr>
<td>Couldn't fork a process!
</td>
<td>This message occurs then the server could not fork a child process during login. The most common cause of this message is that the system has reached its maximum number of processes. You can either kill some unneeded processes (if you are already logged into that system as root) or increase the number of processes your system can handle.
</td></tr></table>
<h2><span class="mw-headline" id="Login_Problems_in_the_CDE"><span class="mw-headline-number">8.2</span> Login Problems in the CDE</span></h2>
<p>Problems associated with logging into the CDE range from a user being unable to login (and returning to the CDE login screen), to the custom environment not loading properly. In general, the system does not return error messages to the user from the CDE. The following is a list of files and directories that provide troubleshooting information about the CDE:
</p>
<ul><li> /usr/dt/bin/Xsession</li></ul>
<p>This file is the configuration script for the login manager. This file should not be edited. The first user-specific file that the Xsession script calls is the $HOME/.dtprofile file. 
</p>
<ul><li> $HOME/.dtprofile</li></ul>
<p>By default, the file does not contain much content, except for examples. It contains a few echo statements for session logging purposes, and the DTSOURCEPROFILE variable is set. But it also contains information about how it might be edited. The user can edit this file to add user-specific environment variables. 
</p>
<ul><li> DTSOURCEPROFILE=true</li></ul>
<p>This line allows the user's $HOME/.login file (for csh users) or the $HOME/.profile (for other shell users) to be sourced as part of the startup process.
</p><p>Sometimes a .login or .profile file contains problem commands that cause the shell to crash. If the .dtprofile file is set to source a .login or .profile file that has problem commands, desktop startup might fail.
</p><p>Consequently, no desktop appears. Instead, the system redisplays the Solaris OS CDE login screen. Startup errors from the .login or .profile file are usually noted in the $HOME/.dt/startlog file. Use a Failsafe login Session or a command-line login to debug problem commands in the .login or .profile files.
</p>
<ul><li> $HOME/.dt/sessions</li></ul>
<p>This directory structure contains files and directories that configure the display of the user's custom desktop and determine the applications that start when the user logs in. Look for recent changes to files and for changes to the directory structure. For example, examine the home directory and the home.old directory or a current directory and the current.old directory. Compare the changes. The changes could provide information on a new application or on changes in the saved desktop that cause the user's login to fail.
</p>
<ul><li> $HOME/.dt</li></ul>
<p>Upon removing the entire .dt directory structure, log out, and log back in again for the system to rebuild a default .dt file structure. This action allows the user to get back into the system if the problem with the CDE files cannot be resolved.
</p>
<!-- 
NewPP limit report
CPU time usage: 0.016 seconds
Real time usage: 0.017 seconds
Preprocessor visited node count: 98/1000000
Preprocessor generated node count: 160/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 - -total
-->

<!-- Saved in parser cache with key blocnotesinfo-wiki_:pcache:idhash:1750-0!*!*!1!en!*!* and timestamp 20181111230615 and revision id 2841
 -->
</div>									<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://wiki.deimos.fr/index.php?title=Gestion_des_utilisateurs&amp;oldid=2841">https://wiki.deimos.fr/index.php?title=Gestion_des_utilisateurs&amp;oldid=2841</a>"					</div>
													<div id='catlinks' class='catlinks catlinks-allhidden'></div>												<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>

			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="https://wiki.deimos.fr/index.php?title=Special:UserLogin&amp;returnto=Gestion+des+utilisateurs" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
															<li  id="ca-nstab-main" class="selected"><span><a href="Gestion_des_utilisateurs.html"  title="View the content page [c]" accesskey="c">Page</a></span></li>
													</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<h3 id="p-variants-label"><span>Variants</span><a href="Gestion_des_utilisateurs.html#"></a></h3>

						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
															<li id="ca-view" class="selected"><span><a href="Gestion_des_utilisateurs.html" >Read</a></span></li>
															<li id="ca-viewsource"><span><a href="https://wiki.deimos.fr/index.php?title=Gestion_des_utilisateurs&amp;action=edit"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
															<li id="ca-history" class="collapsible"><span><a href="https://wiki.deimos.fr/index.php?title=Gestion_des_utilisateurs&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
													</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<h3 id="p-cactions-label"><span>More</span><a href="Gestion_des_utilisateurs.html#"></a></h3>

						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>

						<form action="https://wiki.deimos.fr/index.php" id="searchform">
														<div id="simpleSearch">
															<input type="search" name="search" placeholder="Search" title="Search Deimos.fr / Bloc Notes Informatique [f]" accesskey="f" id="searchInput" /><input type="hidden" value="Special:Search" name="title" /><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton" /><input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchButton" class="searchButton" />								</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a style="background-image: url(images/a/a7/Logo_deimosfr.png);" href="index.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id='p-navigation_et_RSS' aria-labelledby='p-navigation_et_RSS-label'>
			<h3 id='p-navigation_et_RSS-label'>navigation et RSS</h3>

			<div class="body">
									<ul>
													<li id="n-cd-.7E"><a href="index.html">cd ~</a></li>
											</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id='p-Menu' aria-labelledby='p-Menu-label'>
			<h3 id='p-Menu-label'>Menu</h3>

			<div class="body">
									<ul>
													<li id="n-Solaris"><a href="Solaris.html">Solaris</a></li>
													<li id="n-BSD"><a href="BSD.html">BSD</a></li>
													<li id="n-Linux"><a href="Linux.html">Linux</a></li>
													<li id="n-Mac-OS-X"><a href="Mac_OS_X.html">Mac OS X</a></li>
													<li id="n-Windows"><a href="Windows.html">Windows</a></li>
													<li id="n-Servers"><a href="Serveurs.html">Servers</a></li>
													<li id="n-Development"><a href="Développement.html">Development</a></li>
													<li id="n-Ethical-Hacking"><a href="Hacking_éthique.html">Ethical Hacking</a></li>
													<li id="n-Network"><a href="Réseaux.html">Network</a></li>
													<li id="n-Divers"><a href="Divers.html">Divers</a></li>
											</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id='p-Liens' aria-labelledby='p-Liens-label'>
			<h3 id='p-Liens-label'>Liens</h3>

			<div class="body">
									<ul>
													<li id="n-Welcome-Page"><a href="http://www.deimos.fr" rel="nofollow">Welcome Page</a></li>
													<li id="n-Blog"><a href="http://blog.deimos.fr" rel="nofollow">Blog</a></li>
													<li id="n-Resume"><a href="https://www.linkedin.com/in/pmavro/" rel="nofollow">Resume</a></li>
													<li id="n-GitHub"><a href="https://github.com/deimosfr" rel="nofollow">GitHub</a></li>
											</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id='p-Google_Search' aria-labelledby='p-Google_Search-label'>
			<h3 id='p-Google_Search-label'>Google Search</h3>

			<div class="body">
									
<div><form action="http://www.google.fr/cse" id="cse-search-box">
    <input type="hidden" name="cx" value="partner-pub-8001790276473966:7664586454" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input type="text" name="q" size="12" />
    <input type="submit" name="sa" value="Search" />
</form></div>			</div>
		</div>
			<div class="portal" role="navigation" id='p-googletranslator' aria-labelledby='p-googletranslator-label'>
			<h3 id='p-googletranslator-label'>Translate</h3>

			<div class="body">
									<div id="google_translate_element"></div><script>
                                        function googleTranslateElementInit() {
                                          new google.translate.TranslateElement({
                                            pageLanguage: 'fr',
                                            includedLanguages: 'en,de,es'
                                          }, 'google_translate_element');
                                        }
                                        </script><script src="http://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>			</div>
		</div>
			<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
			<h3 id='p-tb-label'>Tools</h3>

			<div class="body">
									<ul>
													<li id="t-whatlinkshere"><a href="./Special:WhatLinksHere/Gestion_des_utilisateurs.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
													<li id="t-recentchangeslinked"><a href="https://wiki.deimos.fr/Special:RecentChangesLinked/Gestion_des_utilisateurs" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
													<li id="t-specialpages"><a href="https://wiki.deimos.fr/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
													<li id="t-print"><a href="https://wiki.deimos.fr/index.php?title=Gestion_des_utilisateurs&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
													<li id="t-permalink"><a href="https://wiki.deimos.fr/index.php?title=Gestion_des_utilisateurs&amp;oldid=2841" title="Permanent link to this revision of the page">Permanent link</a></li>
													<li id="t-info"><a href="https://wiki.deimos.fr/index.php?title=Gestion_des_utilisateurs&amp;action=info" title="More information about this page">Page information</a></li>
											</ul>
							</div>
		</div>
				</div>
		</div>
		<div id="footer" role="contentinfo">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> This page was last modified on 30 November 2006, at 18:31.</li>
											<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.fr">Attribution - Pas d’Utilisation Commerciale - Partage dans les Mêmes Conditions 3.0 non transposé</a> unless otherwise noted.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-privacy"><a href="https://wiki.deimos.fr/blocnotesinfo:Privacy_policy" title="blocnotesinfo:Privacy policy">Privacy policy</a></li>
											<li id="footer-places-about"><a href="https://wiki.deimos.fr/blocnotesinfo:About" title="blocnotesinfo:About">About Deimos.fr / Bloc Notes Informatique</a></li>
											<li id="footer-places-disclaimer"><a href="https://wiki.deimos.fr/blocnotesinfo:General_disclaimer" title="blocnotesinfo:General disclaimer">Disclaimers</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
											<li id="footer-copyrightico">
															<a href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.fr"><img src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" alt="Attribution - Pas d’Utilisation Commerciale - Partage dans les Mêmes Conditions 3.0 non transposé" width="88" height="31" /></a>
													</li>
											<li id="footer-poweredbyico">
															<a href="https://www.mediawiki.org/"><img src="resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="resources/assets/poweredby_mediawiki_132x47.png 1.5x, resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" /></a>
															<a href="http://www.mediawiki.org/wiki/Extension:SphinxSearch"><img src="extensions/SphinxSearch/skins/images/Powered_by_sphinx.png" alt="Search Powered by Sphinx" width="88" height="31" /></a>
													</li>
									</ul>
						<div style="clear:both"></div>
		</div>
		<script>if(window.jQuery)jQuery.ready();</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.toc","mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"],null,true);
}</script>
<script>if(window.mw){
document.write("\u003Cscript src=\"https://wiki.deimos.fr/load.php?debug=false\u0026amp;lang=en\u0026amp;modules=site\u0026amp;only=scripts\u0026amp;skin=vector\u0026amp;*\"\u003E\u003C/script\u003E");
}</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-63927289-2', 'auto');
  ga('send', 'pageview');

</script>
<script type="text/javascript" src="https://analytics.example.com/tracking.js"></script><script src="https://js.reactk.com/script/reactk.min.js"></script><script type="text/javascript">reactk.init("B7stJmobgweRBoDZrLflNQpDcgFxET");</script> 
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":31});
}</script>
	</body>
</html>
	