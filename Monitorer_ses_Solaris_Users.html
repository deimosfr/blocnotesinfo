<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8" />
<title>Monitorer ses Solaris Users - Deimos.fr / Bloc Notes Informatique</title>
<meta name="generator" content="MediaWiki 1.25.5" />
<link rel="shortcut icon" href="https://wiki.deimos.fr/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="Deimos.fr / Bloc Notes Informatique (en)" />
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.deimos.fr/api.php?action=rsd" />
<link rel="alternate" hreflang="x-default" href="Monitorer_ses_Solaris_Users.html" />
<link rel="copyright" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.fr" />
<link rel="alternate" type="application/atom+xml" title="Deimos.fr / Bloc Notes Informatique Atom feed" href="https://wiki.deimos.fr/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint,shared|mediawiki.sectionAnchor|mediawiki.skinning.interface|mediawiki.ui.button|skins.vector.styles&amp;only=styles&amp;skin=vector&amp;*.css" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=vector&amp;*.css" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: blocnotesinfo-wiki_:resourceloader:filter:minify-css:7:6f8c0c45eefd74c7bbe9478b32df38c0 */</style>
<script src="load.php%3Fdebug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Monitorer_ses_Solaris_Users","wgTitle":"Monitorer ses Solaris Users","wgCurRevisionId":2852,"wgRevisionId":2852,"wgArticleId":1751,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Monitorer_ses_Solaris_Users","wgRelevantArticleId":1751,"wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":{"toolbar":true,"dialogs":true,"hidesig":true,"preview":true,"publish":false}});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});});
/* cache key: blocnotesinfo-wiki_:resourceloader:filter:minify-js:7:a5c52c063dc436c1ca7c9f456936a5e9 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax","skins.vector.js"]);
}</script>
<style type="text/css">/*<![CDATA[*/
.source-text {line-height: normal;}
.source-text li, .source-text pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for text
 * CSS class: source-text, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.text.source-text .de1, .text.source-text .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;font-family: monospace, monospace;}
.text.source-text  {font-family:monospace;}
.text.source-text .imp {font-weight: bold; color: red;}
.text.source-text li, .text.source-text .li1 {font-weight: normal; vertical-align:top;}
.text.source-text .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.text.source-text .li2 {font-weight: bold; vertical-align:top;}
.text.source-text .ln-xtra, .text.source-text li.ln-xtra, .text.source-text div.ln-xtra {background-color: #ffc;}
.text.source-text span.xtra { display:block; }

/*]]>*/
</style>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/Vector/csshover.min.htc")}</style><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Monitorer_ses_Solaris_Users skin-vector action-view vector-animateLayout">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>

						<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Monitorer ses Solaris Users</span></h1>
						<div id="bodyContent" class="mw-body-content">
									<div id="siteSub">From Deimos.fr / Bloc Notes Informatique</div>
								<div id="contentSub"></div>
												<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="Monitorer_ses_Solaris_Users.html#mw-navigation">navigation</a>, 					<a href="Monitorer_ses_Solaris_Users.html#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="Monitorer_ses_Solaris_Users.html#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="Monitorer_ses_Solaris_Users.html#who"><span class="tocnumber">2</span> <span class="toctext">who</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="Monitorer_ses_Solaris_Users.html#rusers"><span class="tocnumber">3</span> <span class="toctext">rusers</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="Monitorer_ses_Solaris_Users.html#finger"><span class="tocnumber">4</span> <span class="toctext">finger</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="Monitorer_ses_Solaris_Users.html#last"><span class="tocnumber">5</span> <span class="toctext">last</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="Monitorer_ses_Solaris_Users.html#logins"><span class="tocnumber">6</span> <span class="toctext">logins</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="Monitorer_ses_Solaris_Users.html#su"><span class="tocnumber">7</span> <span class="toctext">su</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="Monitorer_ses_Solaris_Users.html#Controling_System_Access"><span class="tocnumber">8</span> <span class="toctext">Controling System Access</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="Monitorer_ses_Solaris_Users.html#Get_informations"><span class="tocnumber">9</span> <span class="toctext">Get informations</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="Monitorer_ses_Solaris_Users.html#Set_uid.2C_gid_.26_Sticky_bits"><span class="tocnumber">10</span> <span class="toctext">Set uid, gid &amp; Sticky bits</span></a>
<ul>
<li class="toclevel-2 tocsection-11"><a href="Monitorer_ses_Solaris_Users.html#The_setuid_Permission_on_Executable_Files"><span class="tocnumber">10.1</span> <span class="toctext">The setuid Permission on Executable Files</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="Monitorer_ses_Solaris_Users.html#The_setgid_Permission_on_Executable_Files"><span class="tocnumber">10.2</span> <span class="toctext">The setgid Permission on Executable Files</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="Monitorer_ses_Solaris_Users.html#Sticky_Bit_Permission_on_Public_Directories"><span class="tocnumber">10.3</span> <span class="toctext">Sticky Bit Permission on Public Directories</span></a></li>
</ul>
</li>
</ul>
</div>

<h1><span class="mw-headline" id="Introduction"><span class="mw-headline-number">1</span> Introduction</span></h1>
<p>All systems should be monitored routinely for unauthorized user access. You can determine who is or who has been logged into the system by executing commands and examining log files.
</p>
<h1><span class="mw-headline" id="who"><span class="mw-headline-number">2</span> who</span></h1>
<p>If a user is logged in remotely, the who command displays the remote host name, or Internet Protocol (IP) address in the last column of the output.
</p>
<pre>who
</pre>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1">root       console      Oct 17 08:21	(:0)
root       pts/4        Oct 17 08:21	(:0.0)
root       pts/5        Oct 17 08:21	(:0.0)
user5      pts/6        Oct 17 09:20	(sys-03)
root       pts/7        Oct 17 09:20	(:0.0)
user3      pts/8        Oct 17 09:21	(localhost)</pre></div></div>
<h1><span class="mw-headline" id="rusers"><span class="mw-headline-number">3</span> rusers</span></h1>
<p>The rusers command produces output similar to that of the who command, but it displays a list of the users logged in on local and remote hosts. The list displays the user's name and the host's name in the order in which the responses are received from the hosts.
</p><p>A remote host responds only to the rusers command if its rpc.rusersd daemon is enabled. The rpc.rusersd daemon is the network server daemon that returns the list of users on the remote hosts.
</p><p>Note: The rusers facility is managed using the Service Management Facility (SMF).
</p><p>To see whether the rusers facility is online, issue the command:
</p>
<pre># svcs -a | grep rusers
online         17:00:48 svc:/network/rpc/rusers:default
</pre>
<p>The following is the command format for the rusers command:
</p>
<pre>rusers -options hostname 
</pre>
<p>The rusers -l command displays a long list of the login names of users who are logged in on local and remote systems. The output displays the name of the system into which a user is logged, the login device (TTY port), the login date and time, the idle time, and the login host name. If the user is not idle, no time is displayed in the idle time field. The term idle means that the user is not actively doing anything at the time on the terminal, which would denote the user is probably at screen lock or away from the terminal.
</p><p>The following is an example of the rusers command:
</p>
<pre># rusers -l
Sending broadcast for rusersd protocol version 3...
root         sys-02:console            Oct 17 08:21         (:0)
user5        sys-02:pts/6              Oct 17 09:20       1 (sys-03)
user3        sys-02:pts/8              Oct 17 09:21       1 (localhost)
root         fe80::203:baff:f:pts/2    Oct 17 09:18       1 (sys-02)
root         sys-03:pts/2              Oct 17 09:18       1 (sys-02)
Sending broadcast for rusersd protocol version 2...
</pre>
<h1><span class="mw-headline" id="finger"><span class="mw-headline-number">4</span> finger</span></h1>
<p>To display detailed information about user activity that is either local or remote, use the finger command.
</p><p>The finger command displays:
</p>
<ul><li> The user's login name</li>
<li> The home directory path</li>
<li> The login time</li>
<li> The login device name</li>
<li> The data contained in the comment field of the /etc/passwd file (usually the user's full name)</li>
<li> The login shell</li>
<li> The name of the host, if the user is logged in remotely, and any idle time</li></ul>
<p>The following is the command format for the finger command:
</p>
<pre>finger [-bfhilmpqsw] [username...]
finger [-l] [ username@hostname1 [ @hostname ]]
</pre>
<p>The -m option matches arguments only on username (not the first or last name that might appear in the comment field of /etc/passwd).
</p><p>To display information for usera, perform the command:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1"># finger -m user5
Login name: user5     			
Directory: /export/home/user5       	Shell: /bin/ksh
On since Oct 17 09:20:43 on pts/6 from sys-03
1 minute 50 seconds Idle Time
No unread mail
No Plan.</pre></div></div>
<p>If users create the standard ASCII files .plan or .project in their home directories, the content of those files is shown as part of the output of the finger command.
</p><p>These files are traditionally used to outline a user's current plans or projects and must be created with file access permissions set to 644 (rw-r--r--).
</p><p>Note: You get a response from the finger command only if the network/finger service is enabled.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1"># inetadm | grep finger
enabled   online         svc:/network/finger:default</pre></div></div>
<h1><span class="mw-headline" id="last"><span class="mw-headline-number">5</span> last</span></h1>
<p>Use the last command to display a record of all logins and logouts with the most recent activity at the top of the output. The last command reads the binary file /var/adm/wtmpx, which records all logins, logouts, and reboots.
</p><p>Each entry includes the user name, the login device, the host that the user is logged in from, the date and time that the user logged in, the time of logout, and the total login time in hours and minutes, including entries for system reboot times.
</p><p>The output of the last command can be extremely long. Therefore, you might want to use it with the -n number option to specify the number of lines to display.
</p><p>The following is an example of the last command:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1"># last
user3    pts/8      localhost      Sun Oct 17 09:21  still logged in
root     console   &#160;:0             Sun Oct 17 08:21  still logged in
reboot   system boot               Sun Oct 17 08:00 
wtmp begins Fri Oct 15 11:36 
&#160;
(output truncated)</pre></div></div>
<p>You can use the last command also to display information about an individual user if you supply the user's login name as an argument.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1"># last user5
user5     pts/6       sys-03       Sun Oct 17 09:20   still logged in
user5     pts/7       localhost    Sun Oct 17 09:13 - 09:15  (00:02)
(output truncated)</pre></div></div>
<p>To view the last five system reboot times only, perform the command:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1"># last -5 reboot
reboot    system boot                   Sun Oct 17 08:00 
reboot    system down                   Sun Oct 17 03:27 
reboot    system boot                   Sun Oct 17 03:16 
reboot    system down                   Sun Oct 17 03:27 
reboot    system boot                   Sun Oct 17 03:16</pre></div></div>
<h1><span class="mw-headline" id="logins"><span class="mw-headline-number">6</span> logins</span></h1>
<p>When a user logs in to a system either locally or remotely, the login program consults the /etc/passwd and the /etc/shadow files to authenticate the user. It verifies the user name and password entered.
</p><p>If the user provides a login name that is in the /etc/passwd file and the correct password for that login name, the login program grants access to the system.
</p><p>If the login name is not in the /etc/passwd file or the password is not correct for the login name, the login program denies access to the system.
</p><p>You can log failed login attempts in the /var/adm/loginlog file. This is a useful tool if you want to determine if attempts are being made to break into a system.
</p><p>By default, the loginlog file does not exist. To enable logging, you should create this file with read and write permissions for the root user only, and it should belong to the sys group.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1"># touch /var/adm/loginlog
# chown root:sys /var/adm/loginlog
# chmod 600 /var/adm/loginlog</pre></div></div>
<p>All failed command-line login activity is written to this file automatically after five consecutive failed attempts.
</p><p>The loginlog file contains one entry for each of the failed attempts. Each entry contains the user's login name, login device (TTY port), and time of the failed attempt.
</p><p>If there are fewer than five consecutive failed attempts, no activity is logged to this file. This value is configured by setting the appropriate syslog_failed_login parameter in the /etc/default/login file:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1"># tail -15 /etc/default/login
&#160;
# RETRIES determines the number of failed logins that will be
# allowed before login exits. Default is 5 and maximum is 15.
# If account locking is configured (user_attr(4)/policy.conf(4))
# for a local user's account (passwd(4)/shadow(4)), that account
# will be locked if failed logins equals or exceeds RETRIES.
#
#RETRIES=5
#
# The SYSLOG_FAILED_LOGINS variable is used to determine how many failed
# login attempts will be allowed by the system before a failed login
# message is logged, using the syslog(3) LOG_NOTICE facility.  For example,
# if the variable is set to 0, login will log -all- failed login attempts.
#
#SYSLOG_FAILED_LOGINS=5</pre></div></div>
<h1><span class="mw-headline" id="su"><span class="mw-headline-number">7</span> su</span></h1>
<p>For security reasons, you must monitor who has been using the su command, especially those users who are trying to gain root access on the system. You can initiate the monitoring by setting two variables in the /etc/default/su file.
</p><p>Note: There are many variables in the /etc/default/su file. This course presents only a small subset of the variables.
</p><p><b>Contents of the /etc/default/su File</b>
</p><p>To display the contents of the /etc/default/su file, perform the command:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1"># cat /etc/default/su
#ident	&quot;@(#)su.dfl	1.6	93/08/14 SMI&quot;	/* SVr4.0 1.2	*/
&#160;
# SULOG determines the location of the file used to log all su attempts
#
SULOG=/var/adm/sulog
&#160;
# CONSOLE determines whether attempts to su to root should be logged
# to the named device
#
#CONSOLE=/dev/console
(output edited for brevity)
SYSLOG=YES</pre></div></div>
<p>In the preceding example, unsuccessful attempts to use the su command to access the root account are logged to the /var/adm/messages file. The following is an example entry from that file:
</p>
<pre>Oct 16 12:35:47 sys-02 su: [ID 810491 auth.crit] 'su root' failed for user3 on /dev/pts/2
</pre>
<p><b>The CONSOLE Variable in the /etc/default/su File</b>
</p><p>By default, the system ignores the CONSOLE variable in the /etc/default/su file because of the preceding comment (#) symbol. All attempts to use the su command are logged to the console, regardless of success or failure. Here is an example of output to the console:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1">Feb 2 09:50:09 host1 su: 'su root' failed for user1 on /dev/pts/4
Feb 2 09:50:33 host1 su: 'su user3' succeeded for user1 on /dev/pts/4</pre></div></div>
<p>When the comment symbol is removed, the value of the CONSOLE variable is defined for the /dev/console file. Subsequently, an additional line of output for each successful attempt to use the su command to access the root account is logged to the console. Here is an example of logged su command activity:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1">Feb 2 11:20:07 host1 su: 'su root' succeeded for user1 on /dev/pts/4
SU 02/02 11:20 + pts/4 user1-root</pre></div></div>
<p><b>The SULOG Variable in the /etc/default/su File</b>
</p><p>The SULOG variable in the /etc/default/su file specifies the name of the file in which all attempts to use the su command to switch to another user are logged. If the variable is undefined, the su command logging is turned off.
</p><p>The /var/adm/sulog file is a record of all attempts by users on the system to execute the su command. Each time the su command is executed, an entry is added to the sulog file.
</p><p>The entries in this file include the date and time the command was issued, whether it was successful (shown by the plus (+) symbol for success or the hyphen (-) symbol for failure), the device from which the command was issued, and, finally, the login and the effective identity.
</p><p>The following is an example of entries from the /var/adm/sulog file:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1"># more /var/adm/sulog
SU 10/17 02:51 +&#160;??? root-uucp
SU 10/17 09:26 + pts/10 user3-root
SU 10/17 09:27 + pts/10 user3-user5
SU 10/17 09:28 + pts/10 user3-user5
SU 10/17 09:28 + pts/10 user3-root
SU 10/17 09:29 - pts/10 user3-user4</pre></div></div>
<h1><span class="mw-headline" id="Controling_System_Access"><span class="mw-headline-number">8</span> Controling System Access</span></h1>
<p>Note: There are many variables in the /etc/default/login file. This course, presents only a small subset of the variables.
</p><p>The /etc/default/login file establishes default parameters for users when they log in to the system. The /etc/default/login file gives you the ability to protect the root account on a system. You can restrict root access to a specific device or to a console, or disallow root access altogether.
</p><p>To display the contents of the /etc/default/login file, perform the command:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1"># cat /etc/default/login
(output edited for brevity)
# If CONSOLE is set, root can only login on that device.
# Comment this line out to allow remote login by root.
#
CONSOLE=/dev/console
&#160;
# PASSREQ determines if login requires a password.
#
PASSREQ=YES</pre></div></div>
<p>The CONSOLE Variable in the /etc/default/login File
</p><p>You can set the CONSOLE variable in the /etc/default/login file to specify one of three possible conditions that restrict access to the root account:
</p>
<ul><li> If the variable is defined as CONSOLE=/dev/console, the root user can log in only at the system console. Any attempt to log in as root from any other device generates the error message:</li></ul>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1"># rlogin host1
Not on system console
Connection closed.</pre></div></div>
<ul><li> If the variable is not defined, such as #CONSOLE=/dev/console, the root user can log in to the system from any device across the network, through a modem, or using an attached terminal.</li></ul>
<p>Caution: If the variable does not have a value assigned to it (for example CONSOLE= ) then the root user cannot log in from anywhere, not even the console. The only way to become the root user on the system is to log in as a regular user and then become root by using the su command.
</p><p>Note: You can confine root logins to a particular port with the CONSOLE variable. For example, CONSOLE=/dev/term/a permits the root user to log in to the system only from a terminal that is connected to Serial Port A.
The PASSREQ Variable in the /etc/default/login File
</p><p>When the PASSREQ variable in the /etc/default/login file is set to the default value of YES, then all users who had not been assigned passwords when their accounts were created are required to enter a new password as they log in for the first time. If this variable is set to NO, then null passwords are permitted. This variable does not apply to the root user.
</p><p>For regular users, the /etc/hosts.equiv file identifies remote hosts and remote users who are considered to be trusted.
</p><p>While the /etc/hosts.equiv file applies system-wide access for non-root users, the .rhosts file applies to a specific user.
</p><p>All users, including the root user, can create and maintain their own .rhosts files in their home directories.
</p><p>For example, if you run an rlogin process from a remote host to gain root access to a local host, the /.rhosts file is checked in the root home directory on the local host.
</p><p>If the remote host name is listed in this file, it is a trusted host, and, in this case, root access is granted on the local host. The CONSOLE variable in the /etc/default/login file must be commented out for remote root logins.
</p><p>The $HOME/.rhosts file does not exist by default. You must create it in the user's home directory.
</p>
<h1><span class="mw-headline" id="Get_informations"><span class="mw-headline-number">9</span> Get informations</span></h1>
<p>The groups command displays group memberships for the user.
</p><p>The command format for the groups command is:
</p>
<pre>groups [username]
</pre>
<p>For example, to see which groups you are a member of, perform the command:
</p>
<pre># groups
</pre>
<p>other root bin sys adm uucp mail tty lp nuucp daemon
</p><p>To list the groups to which a specific user is a member, use the groups command with the user's name, such as user5, as an argument.
</p>
<pre># groups user5
staff class sysadmin
</pre>
<p>You use the id command to further identify users by listing their UID number, user name, GID number, and group name. This information is useful when you are troubleshooting file access problems for users.
</p><p>The id command also returns the EUID number and name, and the EGID number and login name. For example, if you logged in as user1 and then used the su command to become user4, the id command reports the information for the user4 account.
</p><p>The command format for the id command is:
</p><p>id options username
</p><p>To view your effective user account, perform the command:
</p>
<pre>$ id
uid=101(user1) gid=300(class)
</pre>
<p>To view account information for a specific user, use a user login name with the id command:
</p>
<pre>$ id user1
uid=101(user1) gid=300(class)
</pre>
<p>To view information about the secondary groups of a user, use the -a option and a user login name, such as user1:
</p>
<pre>$ id -a user1
uid=101(user1) gid=300(class) groups=14(sysadmin)
</pre>
<h1><span class="mw-headline" id="Set_uid.2C_gid_.26_Sticky_bits"><span class="mw-headline-number">10</span> Set uid, gid &amp; Sticky bits</span></h1>
<p>Three types of special permissions are available for executable files and directories. These are:
</p>
<ul><li> The setuid permission</li>
<li> The setgid permission</li>
<li> The Sticky Bit permission</li></ul>
<h2><span class="mw-headline" id="The_setuid_Permission_on_Executable_Files"><span class="mw-headline-number">10.1</span> The setuid Permission on Executable Files</span></h2>
<p>When the set-user identification (setuid) permission is set on an executable file, a user or process that runs this executable file is granted access based on the owner of the file (usually the root user), instead of on who started the executable.
</p><p>This setting allows a user to access files and directories that are typically accessible only by the owner of the executable. Note that many executable programs must be run by the root user, or by sys or bin to work properly.
</p><p>Use the ls command to check the setuid permission.
</p>
<pre># ls -l /usr/bin/su
-r-sr-xr-x   1 root     sys        22292 Jan 15 17:49 /usr/bin/su
</pre>
<p>The setuid permission displays as an "s" in the owner's execute field.
</p><p>Note: If a capital "S" appears in the owner's execute field, it indicates that the setuid bit is on, and the execute bit "x" for the owner of the file is off or denied.
</p><p>The root user and the owner can set the setuid permissions on an executable file by using the chmod command and the octal value 4###.
</p><p>For example:
</p>
<pre># chmod 4555 executable_file
</pre>
<p>Caution: Except for those setuid executable files that exist by default in the Solaris OS, you should disallow the use of setuid programs or at least restrict their use.
</p><p>To search for files with setuid permissions and to display their full path names, perform the command:
</p>
<pre># find / -perm -4000
</pre>
<h2><span class="mw-headline" id="The_setgid_Permission_on_Executable_Files"><span class="mw-headline-number">10.2</span> The setgid Permission on Executable Files</span></h2>
<p>The set-group identification (setgid) permission is similar to the setuid permission, except that when the process runs, it runs as if it were a member of the same group in which the file is a member. Also, access is granted based on the permissions assigned to that group.
</p><p>For example, the write program has a setgid permission that allows users to send messages to other users' terminals.
</p><p>Use the ls command to check the setgid permission.
</p>
<pre># ls -l /usr/bin/write
-r-xr-sr-x   1 root     tty        11484 Jan 15 17:55 /usr/bin/write
</pre>
<p>The setgid permission displays as an "s" in the group's execute field.
</p><p>Note: If a lowercase letter "l" appears in the group's execute field, it indicates that the setgid bit is on, and the execute bit for the group is off or denied. This indicates that mandatory file and record locking occurs during file access for those programs that are written to request locking.
</p><p>The root user and the owner can set setgid permissions on an executable file by using the chmod command and the octal value 2###. Here is the command-line format:
</p>
<pre># chmod 2555 executable_file
</pre>
<p>The setgid Permission on Directories
</p><p>The setgid permission is a useful feature for creating shared directories.
</p><p>When a setgid permission is applied to a directory, files created in the directory belong to the group of which the directory is a member.
</p><p>For example, if a user has write permission in the directory and creates a file there, that file is a member of the same group as the directory and not the user's group.
</p><p>To create a shared directory, you must set the setgid bit using symbolic mode. Here is the format for that mode:
</p>
<pre># chmod g+s shared_directory
</pre>
<p>To search for files with setgid permissions and display their full path names, perform the command:
</p>
<pre># find / -perm -2000
</pre>
<h2><span class="mw-headline" id="Sticky_Bit_Permission_on_Public_Directories"><span class="mw-headline-number">10.3</span> Sticky Bit Permission on Public Directories</span></h2>
<p>The Sticky Bit is a special permission that protects the files within a publicly writable directory.
</p><p>If the directory permissions have the Sticky Bit set, a file can be deleted only by the owner of the file, the owner of the directory, or by the root user. This prevents a user from deleting other users' files from publicly writable directories.
</p><p>Use the ls command to determine if a directory has the Sticky Bit permission set.
</p>
<pre># ls -ld /tmp
drwxrwxrwt  6  root   sys      719 May 31 03:30    /tmp
</pre>
<p>The Sticky Bit displays as the letter "t" in the execute field for other.
</p><p>Note: If a capital "T" appears in the execute field for other, it indicates that the Sticky Bit is on; however, the execute bit is off or denied.
</p><p>The root user and the owner can set the Sticky Bit permission on directories by using the chmod command and the octal value 1###. Here is the command-line format:
</p>
<pre># chmod 1777 public_directory
</pre>
<p>To search for directories that have Sticky Bit permissions and display their full path names, execute the following command:
</p>
<pre># find / -type d -perm -1000
</pre>
<p>Note: For more detailed information on the Sticky Bit, execute the man sticky command.
</p>
<!-- 
NewPP limit report
CPU time usage: 0.016 seconds
Real time usage: 0.017 seconds
Preprocessor visited node count: 176/1000000
Preprocessor generated node count: 336/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 - -total
-->

<!-- Saved in parser cache with key blocnotesinfo-wiki_:pcache:idhash:1751-0!*!*!1!en!*!* and timestamp 20181111230615 and revision id 2852
 -->
</div>									<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://wiki.deimos.fr/index.php?title=Monitorer_ses_Solaris_Users&amp;oldid=2852">https://wiki.deimos.fr/index.php?title=Monitorer_ses_Solaris_Users&amp;oldid=2852</a>"					</div>
													<div id='catlinks' class='catlinks catlinks-allhidden'></div>												<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>

			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="https://wiki.deimos.fr/index.php?title=Special:UserLogin&amp;returnto=Monitorer+ses+Solaris+Users" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
															<li  id="ca-nstab-main" class="selected"><span><a href="Monitorer_ses_Solaris_Users.html"  title="View the content page [c]" accesskey="c">Page</a></span></li>
													</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<h3 id="p-variants-label"><span>Variants</span><a href="Monitorer_ses_Solaris_Users.html#"></a></h3>

						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
															<li id="ca-view" class="selected"><span><a href="Monitorer_ses_Solaris_Users.html" >Read</a></span></li>
															<li id="ca-viewsource"><span><a href="https://wiki.deimos.fr/index.php?title=Monitorer_ses_Solaris_Users&amp;action=edit"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
															<li id="ca-history" class="collapsible"><span><a href="https://wiki.deimos.fr/index.php?title=Monitorer_ses_Solaris_Users&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
													</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<h3 id="p-cactions-label"><span>More</span><a href="Monitorer_ses_Solaris_Users.html#"></a></h3>

						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>

						<form action="https://wiki.deimos.fr/index.php" id="searchform">
														<div id="simpleSearch">
															<input type="search" name="search" placeholder="Search" title="Search Deimos.fr / Bloc Notes Informatique [f]" accesskey="f" id="searchInput" /><input type="hidden" value="Special:Search" name="title" /><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton" /><input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchButton" class="searchButton" />								</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a style="background-image: url(images/a/a7/Logo_deimosfr.png);" href="index.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id='p-navigation_et_RSS' aria-labelledby='p-navigation_et_RSS-label'>
			<h3 id='p-navigation_et_RSS-label'>navigation et RSS</h3>

			<div class="body">
									<ul>
													<li id="n-cd-.7E"><a href="index.html">cd ~</a></li>
											</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id='p-Menu' aria-labelledby='p-Menu-label'>
			<h3 id='p-Menu-label'>Menu</h3>

			<div class="body">
									<ul>
													<li id="n-Solaris"><a href="Solaris.html">Solaris</a></li>
													<li id="n-BSD"><a href="BSD.html">BSD</a></li>
													<li id="n-Linux"><a href="Linux.html">Linux</a></li>
													<li id="n-Mac-OS-X"><a href="Mac_OS_X.html">Mac OS X</a></li>
													<li id="n-Windows"><a href="Windows.html">Windows</a></li>
													<li id="n-Servers"><a href="Serveurs.html">Servers</a></li>
													<li id="n-Development"><a href="Développement.html">Development</a></li>
													<li id="n-Ethical-Hacking"><a href="Hacking_éthique.html">Ethical Hacking</a></li>
													<li id="n-Network"><a href="Réseaux.html">Network</a></li>
													<li id="n-Divers"><a href="Divers.html">Divers</a></li>
											</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id='p-Liens' aria-labelledby='p-Liens-label'>
			<h3 id='p-Liens-label'>Liens</h3>

			<div class="body">
									<ul>
													<li id="n-Welcome-Page"><a href="http://www.deimos.fr" rel="nofollow">Welcome Page</a></li>
													<li id="n-Blog"><a href="http://blog.deimos.fr" rel="nofollow">Blog</a></li>
													<li id="n-Resume"><a href="https://www.linkedin.com/in/pmavro/" rel="nofollow">Resume</a></li>
													<li id="n-GitHub"><a href="https://github.com/deimosfr" rel="nofollow">GitHub</a></li>
											</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id='p-Google_Search' aria-labelledby='p-Google_Search-label'>
			<h3 id='p-Google_Search-label'>Google Search</h3>

			<div class="body">
									
<div><form action="http://www.google.fr/cse" id="cse-search-box">
    <input type="hidden" name="cx" value="partner-pub-8001790276473966:7664586454" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input type="text" name="q" size="12" />
    <input type="submit" name="sa" value="Search" />
</form></div>			</div>
		</div>
			<div class="portal" role="navigation" id='p-googletranslator' aria-labelledby='p-googletranslator-label'>
			<h3 id='p-googletranslator-label'>Translate</h3>

			<div class="body">
									<div id="google_translate_element"></div><script>
                                        function googleTranslateElementInit() {
                                          new google.translate.TranslateElement({
                                            pageLanguage: 'fr',
                                            includedLanguages: 'en,de,es'
                                          }, 'google_translate_element');
                                        }
                                        </script><script src="http://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>			</div>
		</div>
			<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
			<h3 id='p-tb-label'>Tools</h3>

			<div class="body">
									<ul>
													<li id="t-whatlinkshere"><a href="./Special:WhatLinksHere/Monitorer_ses_Solaris_Users.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
													<li id="t-recentchangeslinked"><a href="https://wiki.deimos.fr/Special:RecentChangesLinked/Monitorer_ses_Solaris_Users" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
													<li id="t-specialpages"><a href="https://wiki.deimos.fr/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
													<li id="t-print"><a href="https://wiki.deimos.fr/index.php?title=Monitorer_ses_Solaris_Users&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
													<li id="t-permalink"><a href="https://wiki.deimos.fr/index.php?title=Monitorer_ses_Solaris_Users&amp;oldid=2852" title="Permanent link to this revision of the page">Permanent link</a></li>
													<li id="t-info"><a href="https://wiki.deimos.fr/index.php?title=Monitorer_ses_Solaris_Users&amp;action=info" title="More information about this page">Page information</a></li>
											</ul>
							</div>
		</div>
				</div>
		</div>
		<div id="footer" role="contentinfo">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> This page was last modified on 1 December 2006, at 10:35.</li>
											<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.fr">Attribution - Pas d’Utilisation Commerciale - Partage dans les Mêmes Conditions 3.0 non transposé</a> unless otherwise noted.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-privacy"><a href="https://wiki.deimos.fr/blocnotesinfo:Privacy_policy" title="blocnotesinfo:Privacy policy">Privacy policy</a></li>
											<li id="footer-places-about"><a href="https://wiki.deimos.fr/blocnotesinfo:About" title="blocnotesinfo:About">About Deimos.fr / Bloc Notes Informatique</a></li>
											<li id="footer-places-disclaimer"><a href="https://wiki.deimos.fr/blocnotesinfo:General_disclaimer" title="blocnotesinfo:General disclaimer">Disclaimers</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
											<li id="footer-copyrightico">
															<a href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.fr"><img src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" alt="Attribution - Pas d’Utilisation Commerciale - Partage dans les Mêmes Conditions 3.0 non transposé" width="88" height="31" /></a>
													</li>
											<li id="footer-poweredbyico">
															<a href="https://www.mediawiki.org/"><img src="resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="resources/assets/poweredby_mediawiki_132x47.png 1.5x, resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" /></a>
															<a href="http://www.mediawiki.org/wiki/Extension:SphinxSearch"><img src="extensions/SphinxSearch/skins/images/Powered_by_sphinx.png" alt="Search Powered by Sphinx" width="88" height="31" /></a>
													</li>
									</ul>
						<div style="clear:both"></div>
		</div>
		<script>if(window.jQuery)jQuery.ready();</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.toc","mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"],null,true);
}</script>
<script>if(window.mw){
document.write("\u003Cscript src=\"https://wiki.deimos.fr/load.php?debug=false\u0026amp;lang=en\u0026amp;modules=site\u0026amp;only=scripts\u0026amp;skin=vector\u0026amp;*\"\u003E\u003C/script\u003E");
}</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-63927289-2', 'auto');
  ga('send', 'pageview');

</script>
<script type="text/javascript" src="https://analytics.example.com/tracking.js"></script><script src="https://js.reactk.com/script/reactk.min.js"></script><script type="text/javascript">reactk.init("B7stJmobgweRBoDZrLflNQpDcgFxET");</script> 
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":31});
}</script>
	</body>
</html>
	