<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8" />
<title>Quelques exemples d’utilisation de CMake - Deimos.fr / Bloc Notes Informatique</title>
<meta name="generator" content="MediaWiki 1.25.5" />
<link rel="shortcut icon" href="https://wiki.deimos.fr/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="Deimos.fr / Bloc Notes Informatique (en)" />
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.deimos.fr/api.php?action=rsd" />
<link rel="alternate" hreflang="x-default" href="Quelques_exemples_d’utilisation_de_CMake.html" />
<link rel="copyright" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.fr" />
<link rel="alternate" type="application/atom+xml" title="Deimos.fr / Bloc Notes Informatique Atom feed" href="https://wiki.deimos.fr/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint,shared|mediawiki.sectionAnchor|mediawiki.skinning.interface|mediawiki.ui.button|skins.vector.styles&amp;only=styles&amp;skin=vector&amp;*.css" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=vector&amp;*.css" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: blocnotesinfo-wiki_:resourceloader:filter:minify-css:7:6f8c0c45eefd74c7bbe9478b32df38c0 */</style>
<script src="load.php%3Fdebug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Quelques_exemples_d’utilisation_de_CMake","wgTitle":"Quelques exemples d’utilisation de CMake","wgCurRevisionId":8390,"wgRevisionId":8390,"wgArticleId":3059,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Quelques_exemples_d’utilisation_de_CMake","wgRelevantArticleId":3059,"wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":{"toolbar":true,"dialogs":true,"hidesig":true,"preview":true,"publish":false}});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});});
/* cache key: blocnotesinfo-wiki_:resourceloader:filter:minify-js:7:a5c52c063dc436c1ca7c9f456936a5e9 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax","skins.vector.js"]);
}</script>
<style type="text/css">/*<![CDATA[*/
.source-text {line-height: normal;}
.source-text li, .source-text pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for text
 * CSS class: source-text, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.text.source-text .de1, .text.source-text .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;font-family: monospace, monospace;}
.text.source-text  {font-family:monospace;}
.text.source-text .imp {font-weight: bold; color: red;}
.text.source-text li, .text.source-text .li1 {font-weight: normal; vertical-align:top;}
.text.source-text .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.text.source-text .li2 {font-weight: bold; vertical-align:top;}
.text.source-text .ln-xtra, .text.source-text li.ln-xtra, .text.source-text div.ln-xtra {background-color: #ffc;}
.text.source-text span.xtra { display:block; }

/*]]>*/
</style>
<style type="text/css">/*<![CDATA[*/
.source-c {line-height: normal;}
.source-c li, .source-c pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for c
 * CSS class: source-c, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.c.source-c .de1, .c.source-c .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;font-family: monospace, monospace;}
.c.source-c  {font-family:monospace;}
.c.source-c .imp {font-weight: bold; color: red;}
.c.source-c li, .c.source-c .li1 {font-weight: normal; vertical-align:top;}
.c.source-c .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.c.source-c .li2 {font-weight: bold; vertical-align:top;}
.c.source-c .kw1 {color: #b1b100;}
.c.source-c .kw2 {color: #000000; font-weight: bold;}
.c.source-c .kw3 {color: #000066;}
.c.source-c .kw4 {color: #993333;}
.c.source-c .co1 {color: #666666; font-style: italic;}
.c.source-c .co2 {color: #339933;}
.c.source-c .coMULTI {color: #808080; font-style: italic;}
.c.source-c .es0 {color: #000099; font-weight: bold;}
.c.source-c .es1 {color: #000099; font-weight: bold;}
.c.source-c .es2 {color: #660099; font-weight: bold;}
.c.source-c .es3 {color: #660099; font-weight: bold;}
.c.source-c .es4 {color: #660099; font-weight: bold;}
.c.source-c .es5 {color: #006699; font-weight: bold;}
.c.source-c .br0 {color: #009900;}
.c.source-c .sy0 {color: #339933;}
.c.source-c .st0 {color: #ff0000;}
.c.source-c .nu0 {color: #0000dd;}
.c.source-c .nu6 {color: #208080;}
.c.source-c .nu8 {color: #208080;}
.c.source-c .nu12 {color: #208080;}
.c.source-c .nu16 {color:#800080;}
.c.source-c .nu17 {color:#800080;}
.c.source-c .nu18 {color:#800080;}
.c.source-c .nu19 {color:#800080;}
.c.source-c .me1 {color: #202020;}
.c.source-c .me2 {color: #202020;}
.c.source-c .ln-xtra, .c.source-c li.ln-xtra, .c.source-c div.ln-xtra {background-color: #ffc;}
.c.source-c span.xtra { display:block; }

/*]]>*/
</style>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/Vector/csshover.min.htc")}</style><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Quelques_exemples_d’utilisation_de_CMake skin-vector action-view vector-animateLayout">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>

						<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Quelques exemples d’utilisation de CMake</span></h1>
						<div id="bodyContent" class="mw-body-content">
									<div id="siteSub">From Deimos.fr / Bloc Notes Informatique</div>
								<div id="contentSub"></div>
												<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="Quelques_exemples_d’utilisation_de_CMake.html#mw-navigation">navigation</a>, 					<a href="Quelques_exemples_d’utilisation_de_CMake.html#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="Quelques_exemples_d’utilisation_de_CMake.html#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="Quelques_exemples_d’utilisation_de_CMake.html#Pr.C3.A9ambule"><span class="tocnumber">2</span> <span class="toctext">Préambule</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="Quelques_exemples_d’utilisation_de_CMake.html#G.C3.A9rer_un_fichier_de_configuration"><span class="tocnumber">3</span> <span class="toctext">Gérer un fichier de configuration</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="Quelques_exemples_d’utilisation_de_CMake.html#Gestion_centralis.C3.A9e_d.E2.80.99un_num.C3.A9ro_de_version"><span class="tocnumber">4</span> <span class="toctext">Gestion centralisée d’un numéro de version</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="Quelques_exemples_d’utilisation_de_CMake.html#Internationalisation"><span class="tocnumber">5</span> <span class="toctext">Internationalisation</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="Quelques_exemples_d’utilisation_de_CMake.html#G.C3.A9n.C3.A9rer_des_paquets"><span class="tocnumber">6</span> <span class="toctext">Générer des paquets</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="Quelques_exemples_d’utilisation_de_CMake.html#Ressources"><span class="tocnumber">7</span> <span class="toctext">Ressources</span></a></li>
</ul>
</div>

<h1><span class="mw-headline" id="Introduction"><span class="mw-headline-number">1</span> Introduction</span></h1>
<p><a rel="nofollow" class="external text" href="http://fr.wikipedia.org/wiki/Cmake">CMake</a> est un «&#160;moteur de production&#160;» multiplate-forme. Il est comparable au programme Make dans le sens où le processus de construction logicielle est entièrement contrôlé par des fichiers de configuration, appelés CMakeLists.txt dans le cas de CMake. Mais CMake ne produit pas directement le logiciel final, il s'occupe de la génération de fichiers de construction standards&#160;: makefiles sous Unix, et fichiers de projet Visual Studio sous Windows. Cela permet aux développeurs d'utiliser leur environnement de développement préféré comme à leur habitude. C'est cette utilisation des outils habituels de développement qui distingue CMake des autres systèmes de production comme SCons ou les Autotools.
</p><p>Le nom "CMake" est l'abréviation de "cross platform make". Malgré l'utilisation de "make" dans son nom, CMake est une application séparée et de plus haut niveau que l'outil make.
</p>
<h1><span class="mw-headline" id="Pr.C3.A9ambule"><span class="mw-headline-number">2</span> Préambule</span></h1>
<p>En guise de résumé de l’article précédent, je vous propose de bâtir un petit projet de base qui servira de support à la suite de l’article. J’utilise ici la version 2.4 de CMake.
</p><p>Considérons un projet ultra classique et pas original du tout que nous appellerons Hello. Tiens?! Ça sent le "?Hello World?!?". J’aurais pu faire un "?Goodbye Everybody?!?", mais j’ai eu peur que vous ne partiez avant la fin?;-). Redevenons sérieux?: tous les fichiers concernant ce projet seront stockés dans le répertoire hello. Ce répertoire contient les fichiers AUTHORS, COPYING, INSTALL, README, ChangeLog et le sous-répertoire src qui, lui, contient les fichiers source.
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> </font>
</td></tr>
<tr>
<td><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1">~ $ ls -R hello
hello:
AUTHORS     CMakeLists.txt   src   ChangeLog   README
COPYING     INSTALL
hello/src:
CMakeLists.txt main.cpp</pre></div></div>
</td></tr></table><br />
<p>Nous débutons avec un code simplissime ne servant que de support?:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="c source-c"><pre class="de1"><span class="co1">// main.cpp</span>
&#160;
<span class="co2">#include &lt;iostream&gt;</span>
<span class="co2">#include &lt;cstdlib&gt;</span>
&#160;
using namespace std<span class="sy0">;</span>
&#160;
<span class="kw4">int</span> main <span class="br0">&#40;</span><span class="kw4">void</span><span class="br0">&#41;</span>
<span class="br0">&#123;</span>
    cout <span class="sy0">&lt;&lt;</span> <span class="st0">&quot;Hello World&#160;!&quot;</span> <span class="sy0">&lt;&lt;</span> endl<span class="sy0">;</span>
&#160;
    <span class="kw3">exit</span> <span class="br0">&#40;</span>EXIT_SUCCESS<span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span></pre></div></div>
<p>L’intégration de CMake est réalisée par l’ajout des 2?fichiers CMakeLists.txt?: un dans le répertoire principal et un dans le répertoire src.
</p><p>Le fichier hello/CMakeLists.txt est le premier à être lu par CMake lors de son exécution. C’est dans ce fichier que nous faisons les tests nécessaires pour s’assurer de la disponibilité des dépendances du projet. Nous y placerons également le code lisant et utilisant les options de compilation et la génération d’un paquet pour notre projet.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="c source-c"><pre class="de1"><span class="co2"># top-level CMakeLists.txt</span>
&#160;
cmake_minimum_required <span class="br0">&#40;</span>VERSION 2.4.0 FATAL_ERROR<span class="br0">&#41;</span>
&#160;
project <span class="br0">&#40;</span>Hello<span class="br0">&#41;</span>
&#160;
include <span class="br0">&#40;</span>CheckIncludeFileCXX<span class="br0">&#41;</span>
&#160;
set <span class="br0">&#40;</span>Hello_RQ_HEADERS iostream cstdlib<span class="br0">&#41;</span>
foreach <span class="br0">&#40;</span>RQ_HDR $<span class="br0">&#123;</span>Hello_RQ_HEADERS<span class="br0">&#125;</span><span class="br0">&#41;</span>
    check_include_file_cxx <span class="br0">&#40;</span>$<span class="br0">&#123;</span>RQ_HDR<span class="br0">&#125;</span> RQ_HDR_RET<span class="br0">&#41;</span>
    <span class="kw1">if</span> <span class="br0">&#40;</span>NOT RQ_HDR_RET<span class="br0">&#41;</span>
        message <span class="br0">&#40;</span>FATAL_ERROR <span class="st0">&quot;missing ${RQ_HDR}&#160;!&quot;</span><span class="br0">&#41;</span>
    endif <span class="br0">&#40;</span>NOT RQ_HDR_RET<span class="br0">&#41;</span>
endforeach <span class="br0">&#40;</span>RQ_HDR $<span class="br0">&#123;</span>Hello_RQ_HEADERS<span class="br0">&#125;</span><span class="br0">&#41;</span>
&#160;
add_subdirectory <span class="br0">&#40;</span>src<span class="br0">&#41;</span></pre></div></div>
<p>Pour le moment, nous avons juste une boucle qui teste la présence sur le système des fichiers d’en-tête indispensables à la compilation du projet. S’ils ne sont pas présents, nous interrompons le processus. Ensuite, nous appelons le fichier CMakeLists.txt du sous-répertoire src.
</p><p>Le fichier hello/src/CMakeLists.txt contient la définition des cibles de compilation du projet et leur configuration.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="c source-c"><pre class="de1"><span class="co2"># src CMakeLists.txt</span>
&#160;
include_directories <span class="br0">&#40;</span>$<span class="br0">&#123;</span>Hello_SOURCE_DIR<span class="br0">&#125;</span><span class="sy0">/</span>src<span class="br0">&#41;</span>
&#160;
add_executable <span class="br0">&#40;</span>hello main.<span class="me1">cpp</span><span class="br0">&#41;</span>
&#160;
install <span class="br0">&#40;</span>TARGETS hello DESTINATION bin<span class="br0">&#41;</span></pre></div></div>
<p>Créons un répertoire de construction pour notre projet et un répertoire pour son installation (ceci nous permettra de vérifier les fichiers installés)?:
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> mkdir</font>
</td></tr>
<tr>
<td>
<pre>mkdir hello_build
mkdir hello_install
</pre>
</td></tr></table><br />
<p>Construisons et installons notre projet?:
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> </font>
</td></tr>
<tr>
<td>
<pre>cd hello_build
cmake -DCMAKE_INSTALL_PREFIX=../hello_install ../hello
make
make install
ls -R ../hello_install
../hello_install:
bin
../hello_install/bin:
hello
Hello World&#160;!
</pre>
</td></tr></table><br />
<p>Le projet est compilé et installé dans le répertoire voulu, l’arborescence nécessaire est créée. Vous pouvez l’exécuter.
</p><p>Au cours de l’article, nous allons amender les divers fichiers du projet et en ajouter d’autres. Les numéros de ligne précisés dans les extraits de code de la suite indiquent à chaque fois où insérer le nouveau code dans le fichier concerné. Vous trouverez le paquet Hello-0.0.0.tar.bz2 contenant l’intégralité de cet exemple dans son état final sur le site <a rel="nofollow" class="external free" href="http://www.arvernux.fr">http://www.arvernux.fr</a> dans la section Téléchargements.
</p>
<h1><span class="mw-headline" id="G.C3.A9rer_un_fichier_de_configuration"><span class="mw-headline-number">3</span> Gérer un fichier de configuration</span></h1>
<p>Pour gérer la configuration du projet, par exemple pour rajouter des capacités optionnelles, nous allons passer par un fichier d’en-tête config.h généré par CMake à partir d’un fichier d’entrée config.h.cmake. Il faut donc l’inclure dans les sources du projet?:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="c source-c"><pre class="de1"><span class="co1">// main.cpp</span>
<span class="co2">#include “config.h”</span>
...</pre></div></div>
<p>Et rajouter l’emplacement du config.h dans les directives de compilation. Ce fichier sera enregistré dans le répertoire de compilation du projet.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="c source-c"><pre class="de1">src CMakeLists.<span class="me1">txt</span>
&#160;
include_directories <span class="br0">&#40;</span>$<span class="br0">&#123;</span>Hello_SOURCE_DIR<span class="br0">&#125;</span><span class="sy0">/</span>src $<span class="br0">&#123;</span>Hello_BINARY_DIR<span class="br0">&#125;</span><span class="sy0">/</span>src<span class="br0">&#41;</span>
&#160;
add_executable <span class="br0">&#40;</span>hello main.<span class="me1">cpp</span><span class="br0">&#41;</span>
&#160;
install <span class="br0">&#40;</span>TARGETS hello DESTINATION bin<span class="br0">&#41;</span></pre></div></div>
<p>Cette technique peut servir à traiter deux types d’options?: celles du genre enable/disable et celles du genre with_truc=bla. Nous verrons le premier genre dans la partie concernant l’internationalisation. Ici, nous nous concentrons sur le deuxième genre... Nous allons nous en servir pour répéter le message qui est affiché.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="c source-c"><pre class="de1"><span class="co1">// main.cpp</span>
...
<span class="kw4">const</span> <span class="kw4">int</span> hcount <span class="sy0">=</span> HELLO_COUNT<span class="sy0">;</span>
&#160;
<span class="kw4">int</span> main <span class="br0">&#40;</span><span class="kw4">void</span><span class="br0">&#41;</span>
<span class="br0">&#123;</span>
    <span class="kw1">for</span> <span class="br0">&#40;</span><span class="kw4">int</span> i<span class="sy0">=</span>hcount<span class="sy0">;</span> i<span class="sy0">&gt;</span><span class="nu0">0</span><span class="sy0">;</span> i<span class="sy0">--</span><span class="br0">&#41;</span>
        cout <span class="sy0">&lt;&lt;</span> “Hello World <span class="sy0">!</span>” <span class="sy0">&lt;&lt;</span> endl<span class="sy0">;</span>
...</pre></div></div>
<p>La valeur de la définition HELLO_COUNT sera importée depuis config.h. Créons le fichier modèle du config.h, c’est-à-dire le fichier config.h.cmake dans le sous-répertoire src.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="c source-c"><pre class="de1"><span class="co1">// config.h.cmake</span>
&#160;
<span class="co2">#ifndef _CONFIG_H</span>
<span class="co2">#define _CONFIG_H</span>
&#160;
<span class="co2">#define HELLO_COUNT @WITH_HELLO_COUNT@</span>
&#160;
<span class="co2">#endif /* _CONFIG_H */</span></pre></div></div>
<p>Lors de la génération du config.h, CMake remplacera la chaîne @WITH_HELLO_COUNT@ par sa valeur qui, elle, est configurée par le fichier CMakeLists.txt du dossier racine du projet?:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="c source-c"><pre class="de1"><span class="co2"># top-level CMakeLists.txt</span>
&#160;
<span class="kw1">if</span> <span class="br0">&#40;</span>NOT WITH_HELLO_COUNT<span class="br0">&#41;</span>
    set <span class="br0">&#40;</span>WITH_HELLO_COUNT <span class="nu0">1</span> CACHE STRING <span class="st0">&quot;Repeating count&quot;</span><span class="br0">&#41;</span>
endif <span class="br0">&#40;</span>NOT WITH_HELLO_COUNT<span class="br0">&#41;</span>
&#160;
...
&#160;
<span class="me1">configure_file</span> <span class="br0">&#40;</span>$<span class="br0">&#123;</span>Hello_SOURCE_DIR<span class="br0">&#125;</span><span class="sy0">/</span>src<span class="sy0">/</span>config.<span class="me1">h</span>.<span class="me1">cmake</span> $<span class="br0">&#123;</span>Hello_BINARY_DIR<span class="br0">&#125;</span><span class="sy0">/</span>src<span class="sy0">/</span>config.<span class="me1">h</span><span class="br0">&#41;</span>
&#160;
...</pre></div></div>
<p>Le test de la ligne 7 à 9 sert à assurer une valeur initiale si l’utilisateur ne la définit pas. De plus, nous utilisons cette définition de la ligne 8 pour fournir une description de l’option à l’utilisateur. Les options sont consultables ainsi?:
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> </font>
</td></tr>
<tr>
<td><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1">$ cmake -LH ../hello
...
// Repeating count
WITH_HELLO_COUNT:STRING=1
...</pre></div></div>
</td></tr></table><br />
<p>Revenons sur les paramètres de la définition de variable de la ligne 8. D’abord, le nom de la variable, puis sa valeur (celle que nous souhaitons qu’elle ait par défaut). Le paramètre CACHE est obligatoire, sinon l’option n’apparaît pas. STRING correspond au type de l’option, cela sert à choisir le bon "?widget?" d’édition pour ccmake (la version ncurses et interactive de CMake). Enfin, la chaîne de documentation.
</p><p>Et comment l’utilisateur peut-il la définir?? En ajoutant cette option -DWITH_HELLO_COUNT=2 à l’appel de CMake (ou en utilisant ccmake).
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> </font>
</td></tr>
<tr>
<td><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1"> cmake -DCMAKE_INSTALL_PREFIX=../hello_install -DWITH_HELLO_COUNT=2 ../hello
 make
 make install
 ../hello_install/bin/hello
 Hello World&#160;!
 Hello World&#160;!</pre></div></div>
</td></tr></table><br />
<h1><span class="mw-headline" id="Gestion_centralis.C3.A9e_d.E2.80.99un_num.C3.A9ro_de_version"><span class="mw-headline-number">4</span> Gestion centralisée d’un numéro de version</span></h1>
<p>Nous pouvons très bien utiliser la technique précédente pour gérer un numéro de version de manière centralisée. Créons un fichier version.cmake dans le répertoire hello avec le contenu suivant?:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="c source-c"><pre class="de1"><span class="co2"># Hello version number</span>
&#160;
set <span class="br0">&#40;</span>Hello_MAJOR <span class="nu0">0</span><span class="br0">&#41;</span>
set <span class="br0">&#40;</span>Hello_MINOR <span class="nu0">0</span><span class="br0">&#41;</span>
set <span class="br0">&#40;</span>Hello_PATCH <span class="nu0">0</span><span class="br0">&#41;</span>
set <span class="br0">&#40;</span>Hello_VERSION $<span class="br0">&#123;</span>Hello_MAJOR<span class="br0">&#125;</span>.$<span class="br0">&#123;</span>Hello_MINOR<span class="br0">&#125;</span>.$<span class="br0">&#123;</span>Hello_PATCH<span class="br0">&#125;</span><span class="br0">&#41;</span>
&#160;
<span class="co2"># Hello release date</span>
&#160;
set <span class="br0">&#40;</span>Hello_RELEASE <span class="st0">&quot;2008-12-03&quot;</span><span class="br0">&#41;</span></pre></div></div>
<p>Voilà?! Donc# nous ne modifierons le numéro de version que dans ce fichier et nous allons utiliser CMake pour diffuser ce numéro partout où nous le voudrons?; exemple?:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="c source-c"><pre class="de1">top<span class="sy0">-</span>level CmakeLists.<span class="me1">txt</span>
...
&#160;
<span class="me1">include</span> <span class="br0">&#40;</span>version.<span class="me1">cmake</span><span class="br0">&#41;</span>
message <span class="br0">&#40;</span>STATUS <span class="st0">&quot;*** Building Hello ${Hello_VERSION} ***&quot;</span><span class="br0">&#41;</span></pre></div></div>
<p>Ça, c’est pour la cosmétique... Si, si, il en faut?! Mais on peut aussi s’en servir dans le programme en lui-même?:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="c source-c"><pre class="de1"><span class="co1">// config.h.cmake</span>
...
<span class="co2">#define HELLO_MAJOR @Hello_MAJOR@</span>
<span class="co2">#define HELLO_MINOR @Hello_MINOR@</span>
<span class="co2">#define HELLO_PATCH @Hello_PATCH@</span>
<span class="co2">#define HELLO_RELEASE @Hello_RELEASE@</span>
...</pre></div></div>
<p>Ainsi, après configuration, nous aurons dans notre fichier config.h les numéros de version définis et nous pourrons les utiliser dans le code source.
</p><p>Cette gestion du numéro de version nous servira également plus tard dans la section concernant les paquets et nous pouvons également l’utiliser dans la génération de documentation.
</p>
<h1><span class="mw-headline" id="Internationalisation"><span class="mw-headline-number">5</span> Internationalisation</span></h1>
<p>Vous souhaitez internationaliser votre code. Préparez votre fichier main.cpp?:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="c source-c"><pre class="de1"><span class="co1">//main.cpp</span>
...
<span class="co2">#ifdef HELLO_NLS_ENABLED</span>
<span class="co2">#include &lt;locale&gt;</span>
<span class="co2">#include &lt;libintl.h&gt;</span>
<span class="co2">#define _(String) dgettext (HELLO_NLS_PACKAGE, String)</span>
<span class="co2">#else /* HELLO_NLS_ENABLED */</span>
<span class="co2">#define _(String) String</span>
<span class="co2">#endif /* HELLO_NLS_ENABLED */</span>
...
<span class="br0">&#123;</span>
<span class="co2">#ifdef HELLO_NLS_ENABLED</span>
    locale<span class="sy0">::</span><span class="me2">global</span> <span class="br0">&#40;</span>locale <span class="br0">&#40;</span>“”<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    bindtextdomain <span class="br0">&#40;</span>HELLO_NLS_PACKAGE<span class="sy0">,</span> HELLO_NLS_LOCALEDIR<span class="br0">&#41;</span><span class="sy0">;</span>
<span class="co2">#endif /* HELLO_NLS_ENABLED */</span>
...
       <span class="me1">cout</span> <span class="sy0">&lt;&lt;</span> _<span class="br0">&#40;</span>“Hello World <span class="sy0">!</span>”<span class="br0">&#41;</span> <span class="sy0">&lt;&lt;</span> endl<span class="sy0">;</span>
...</pre></div></div>
<p>Les définitions HELLO_NLS_ENBALED, HELLO_NLS_LOCALEDIR et HELLO_NLS_PACKAGE dépendent du contenu du fichier config.h et leur valeur sera configurée par CMake. N’oubliez pas de marquer la chaîne à traduire en ligne 17.
</p><p>Adaptez votre config.h.cmake en lui rajoutant les lignes suivantes?:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="c source-c"><pre class="de1">...
<span class="co2">#cmakedefine HELLO_NLS_ENABLED</span>
<span class="co2">#cmakedefine HELLO_NLS_PACKAGE &quot;@HELLO_NLS_PACKAGE@&quot;</span>
<span class="co2">#cmakedefine HELLO_NLS_LOCALEDIR &quot;@HELLO_NLS_LOCALEDIR@&quot;</span>
...</pre></div></div>
<p>L’implémentation étant prête dans votre programme, il faut générer le fichier po/hello.pot grâce à xgettext.
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> </font>
</td></tr>
<tr>
<td>
<pre>mkdir po
xgettext -k_ -o po/hello.pot -D src --package-name=hello main.cpp
</pre>
</td></tr></table><br />
<p>Je vous renvoie aux pages de manuels et différents how-to pour l’implémentation de l’internationalisation et l’utilisation des outils la réalisant?: ce n’est pas l’objet de notre étude.
</p><p>Nous créons la traduction pour le français (par exemple)?: po/fr.po.
</p><p>Comment configurer CMake pour compiler les fichiers MO et les installer??
</p><p>Dans le fichier hello/CMakeLists.txt, nous commençons par rendre l’activation optionnelle?:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="c source-c"><pre class="de1">...
<span class="me1">option</span> <span class="br0">&#40;</span>ENABLE_NLS <span class="st0">&quot;Native Language Support&quot;</span> ON<span class="br0">&#41;</span>
...</pre></div></div>
<p>L’option est activée par défaut, mais l’utilisateur peut la désactiver en passant -DENABLE_NLS=OFF à CMake lors de son appel. La chaîne qui décrit l’option sera affichée si l’utilisateur exécute CMake avec les options -LH?:
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> </font>
</td></tr>
<tr>
<td><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1">cmake -LH ../hello
...
// Native Language Support
ENABLE_NLS:BOOL=ON
...</pre></div></div>
</td></tr></table><br />
<p>Ensuite, dans un premier temps, nous réalisons la détection des fichiers et des utilitaires nécessaires?:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="c source-c"><pre class="de1">...
<span class="kw1">if</span> <span class="br0">&#40;</span>ENABLE_NLS<span class="br0">&#41;</span>
    set <span class="br0">&#40;</span>HELLO_NLS_ENABLED TRUE<span class="br0">&#41;</span>
    set <span class="br0">&#40;</span>Hello_I18N_HEADERS locale.<span class="me1">h</span> libintl.<span class="me1">h</span><span class="br0">&#41;</span>
    foreach <span class="br0">&#40;</span>HDR $<span class="br0">&#123;</span>Hello_I18N_HEADERS<span class="br0">&#125;</span><span class="br0">&#41;</span>
        check_include_file_cxx <span class="br0">&#40;</span>$<span class="br0">&#123;</span>HDR<span class="br0">&#125;</span> HDR_RET<span class="br0">&#41;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>NOT HDR_RET<span class="br0">&#41;</span>
            message <span class="br0">&#40;</span>STATUS <span class="st0">&quot;missing ${HDR}&#160;! Internationalization aborted.&quot;</span><span class="br0">&#41;</span>
            set <span class="br0">&#40;</span>HELLO_NLS_ENABLED FALSE<span class="br0">&#41;</span>
        endif <span class="br0">&#40;</span>NOT HDR_RET<span class="br0">&#41;</span>
    endforeach <span class="br0">&#40;</span>HDR $<span class="br0">&#123;</span>Hello_I18N_HEADERS<span class="br0">&#125;</span><span class="br0">&#41;</span>
&#160;
    <span class="kw1">if</span> <span class="br0">&#40;</span>HELLO_NLS_ENABLED<span class="br0">&#41;</span>
        find_program <span class="br0">&#40;</span>MSGFMT_EXECUTABLE msgfmt<span class="br0">&#41;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>NOT MSGFMT_EXECUTABLE<span class="br0">&#41;</span>
            message <span class="br0">&#40;</span>STATUS <span class="st0">&quot;msgfmt not found! Internationalization aborted.&quot;</span><span class="br0">&#41;</span>
            set <span class="br0">&#40;</span>HELLO_NLS_ENABLED FALSE<span class="br0">&#41;</span>
        endif <span class="br0">&#40;</span>NOT MSGFMT_EXECUTABLE<span class="br0">&#41;</span>
    endif <span class="br0">&#40;</span>HELLO_NLS_ENABLED<span class="br0">&#41;</span>
<span class="kw1">else</span> <span class="br0">&#40;</span>ENABLE_NLS<span class="br0">&#41;</span>
    set <span class="br0">&#40;</span>HELLO_NLS_ENABLED FALSE<span class="br0">&#41;</span>
endif <span class="br0">&#40;</span>ENABLE_NLS<span class="br0">&#41;</span></pre></div></div>
<p>Si l’option est activée, nous vérifions que les headers locale.h et libintl.h sont bien présents sur le système. S’ils ne sont pas là, nous affichons un message d’avertissement et nous désactivons le support de l’internationalisation. Là, j’ai fait le choix de construire le projet quand même... Si vous estimez qu’il faut arrêter la construction et exiger les headers, il suffit de changer la directive STATUS de la ligne 33 en FATAL_ERROR. La section suivante recherche l’utilitaire msgfmt qui sert à compiler les fichiers PO en MO. Je fais la même remarque que précédemment concernant la possibilité d’arrêter le processus plutôt que de désactiver l’option en cas d’absence de cet utilitaire.
</p><p>Note: Dans la version 2.5 de CMak apparaîtra une commande break permettant de sortir d’une boucle foreach. Ceci permettra de simplifier grandement l’implémentation de la boucle précédente.
</p><p>Dans un deuxième temps, nous configurons les variables nécessaires?:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="c source-c"><pre class="de1"><span class="kw1">if</span> <span class="br0">&#40;</span>HELLO_NLS_ENABLED<span class="br0">&#41;</span>
    set <span class="br0">&#40;</span>HELLO_NLS_PACKAGE hello<span class="br0">&#41;</span>
    set <span class="br0">&#40;</span>HELLO_NLS_LOCALEDIR $<span class="br0">&#123;</span>CMAKE_INSTALL_PREFIX<span class="br0">&#125;</span><span class="sy0">/</span>share<span class="sy0">/</span>locale<span class="br0">&#41;</span>
    add_subdirectory <span class="br0">&#40;</span>po<span class="br0">&#41;</span>
    message <span class="br0">&#40;</span>STATUS <span class="st0">&quot;Native language support enabled.&quot;</span><span class="br0">&#41;</span>
<span class="kw1">else</span> <span class="br0">&#40;</span>HELLO_NLS_ENABLED<span class="br0">&#41;</span>
    message <span class="br0">&#40;</span>STATUS <span class="st0">&quot;Native language support disabled.&quot;</span><span class="br0">&#41;</span>
endif <span class="br0">&#40;</span>HELLO_NLS_ENABLED<span class="br0">&#41;</span>
...</pre></div></div>
<p>À la ligne 51, nous incluons le fichier CMakeLists.txt du sous-répertoire po. C’est dans ce dernier que nous allons rajouter la cible permettant de lancer la compilation des messages traduits?:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="c source-c"><pre class="de1"><span class="co2"># po CmakeLists.txt</span>
&#160;
add_custom_target <span class="br0">&#40;</span>i18n ALL COMMENT “Building i18n messages.”<span class="br0">&#41;</span>
file <span class="br0">&#40;</span>GLOB Hello_PO_FILES $<span class="br0">&#123;</span>Hello_SOURCE_DIR<span class="br0">&#125;</span><span class="sy0">/</span>po<span class="coMULTI">/*.po)
foreach (Hello_PO_INPUT ${Hello_PO_FILES})
    get_filename_component (Hello_PO_INPUT_BASE ${Hello_PO_INPUT} NAME_WE)
    set (Hello_MO_OUTPUT ${Hello_BINARY_DIR}/po/${Hello_PO_INPUT_BASE}.mo)
    add_custom_command (TARGET i18n COMMAND ${MSGFMT_EXECUTABLE} -o ${Hello_MO_OUTPUT} ${Hello_PO_INPUT})
&#160;
    install (FILES ${Hello_MO_OUTPUT} DESTINATION share/locale/${Hello_PO_INPUT_BASE}/LC_MESSAGES RENAME ${HELLO_NLS_PACKAGE}.mo)
endforeach (Hello_PO_INPUT ${Hello_PO_FILES})</span></pre></div></div>
<p>Détaillons un peu le code?:
</p><p>D’abord, nous créons une nouvelle cible i18n liée à la cible all. Ensuite, nous récupérons la listes de tous les .po à compiler dans la variable Hello_PO_FILES. S’ensuit une boucle qui est répétée pour chacun de ces fichiers (Hello_PO_INPUT). Dans cette boucle, nous commençons par extraire le nom du fichier sans l’extension (Hello_PO_INPUT_BASE), c’est-à-dire la langue pour laquelle ledit fichier fournit la traduction. Puis, nous générons le nom et le chemin complet du fichier .mo où sera compilée la traduction (Hello_MO_OUTPUT). Ensuite, nous ajoutons à la cible i18n la commande permettant cette compilation (appel à msgfmt). Enfin, nous ajoutons la commande qui installera le fichier obtenu dans la bonne arborescence et avec le bon nom lors du make install.
</p><p>Voyons si nous avons bien travaillé?:
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> </font>
</td></tr>
<tr>
<td><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1">cmake -DCMAKE_INSTALL_PREFIX=../hello_install ../hello
...
-- Native language support enabled.
...
make
...
make install
...
-- Installing /home/patrice/hello_install/share/locale/LC_MESSAGES/fr/hello.mo
...
../hello_install/bin/hello
Bonjour Monde&#160;!</pre></div></div>
</td></tr></table><br />
<p>"?Oh?! Ça marche?!?"
</p>
<h1><span class="mw-headline" id="G.C3.A9n.C3.A9rer_des_paquets"><span class="mw-headline-number">6</span> Générer des paquets</span></h1>
<p>Il est beau votre projet?! Très beau?! Vous aimeriez bien le distribuer. Il faut donc générer des paquets... Qu’à cela ne tienne?! CPack la composante "?gestion de paquets?" de CMake est là pour nous servir.
</p><p>Générons un paquet contenant les binaires et un paquet contenant les sources de notre projet. Pour cela, il suffit de placer le code suivant à la fin du fichier CMakeLists.txt dans le répertoire racine de notre projet.
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="c source-c"><pre class="de1">...
<span class="me1">set</span> <span class="br0">&#40;</span>CPACK_GENERATOR <span class="st0">&quot;TGZ&quot;</span><span class="br0">&#41;</span>
set <span class="br0">&#40;</span>CPACK_PACKAGE_VERSION_MAJOR $<span class="br0">&#123;</span>Hello_MAJOR<span class="br0">&#125;</span><span class="br0">&#41;</span>
set <span class="br0">&#40;</span>CPACK_PACKAGE_VERSION_MINOR $<span class="br0">&#123;</span>Hello_MINOR<span class="br0">&#125;</span><span class="br0">&#41;</span>
set <span class="br0">&#40;</span>CPACK_PACKAGE_VERSION_PATCH $<span class="br0">&#123;</span>Hello_MAJOR<span class="br0">&#125;</span><span class="br0">&#41;</span>
set <span class="br0">&#40;</span>CPACK_SOURCE_GENERATOR <span class="st0">&quot;TBZ2&quot;</span><span class="br0">&#41;</span>
set <span class="br0">&#40;</span>CPACK_SOURCE_PACKAGE_FILE_NAME Hello<span class="sy0">-</span>$<span class="br0">&#123;</span>Hello_VERSION<span class="br0">&#125;</span><span class="br0">&#41;</span>
set <span class="br0">&#40;</span>CPACK_SOURCE_IGNORE_FILES <span class="st0">&quot;~$&quot;</span> <span class="st0">&quot;.bz2$&quot;</span> <span class="st0">&quot;.gz$&quot;</span><span class="br0">&#41;</span>
include <span class="br0">&#40;</span>CPack<span class="br0">&#41;</span></pre></div></div>
<p>Les variables CPACK_GENERATOR et CPACK_SOURCE_GENERATOR définissent les formats des paquets générés. Ici, le paquet binaire sera une archive tar compressée par gzip et le paquet source sera une archive tar compressée par bzip2. La définition des numéros de version permet de configurer le nom du paquet. Concernant le paquet source, la variable CPACK_SOURCE_IGNORE_FILES permet de spécifier les fichiers et les répertoires qui ne doivent pas faire partie du paquet. Cette variable accepte les expressions régulières. Ainsi, dans "~$", le signe $ indique la fin du nom du fichier. Tous les fichiers se terminant par ~ seront ignorés.
</p><p>Générons les paquets?:
</p>
<table width="100%" class="command_array">
<tr>
<td class="command_subarray"> <font size="-1"><a href="./File:Terminal.png.html" class="image" title="Command"><img alt="Command" src="images/9/9c/Terminal.png" width="32" height="32" /></a> </font>
</td></tr>
<tr>
<td><div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="text source-text"><pre class="de1">cmake -DCMAKE_INSTALL_PREFIX=../hello_install ../hello
...
make package
...
make package_source
...
ls *.tar*
Hello-0.0.0-Linux.tar.gz  Hello-0.0.0.tar.bz2</pre></div></div>
</td></tr></table><br />
<p>Note:
</p><p>CPack, quand il génère le paquet binaire, ne prend en compte que les fichiers installés par une commande install à une condition?: la destination doit être un chemin relatif au contenu de la variable CMAKE_INSTALL_PREFIX. Les fichiers dont le chemin d’installation est absolu seront ignorés. C’est une limitation actuelle de CPack, peut-être disparaîtra-t-elle??
</p><p>Voilà, nous sommes à la fin de cet article. Nous avons abordé quelques méthodes permettant d’obtenir de la part de CMake ce que nous savions faire avec les autotools (voire un peu plus). Cependant, il nous reste à voir quelques techniques
</p><p>CPack, quand il génère lerticulières concernant la distribution de bibliothèques. L’occasion pour nous de nous retrouver une prochaine fois.
</p>
<h1><span class="mw-headline" id="Ressources"><span class="mw-headline-number">7</span> Ressources</span></h1>
<p><a rel="nofollow" class="external free" href="http://www.unixgarden.com/index.php/programmation/quelques-exemples-d%E2%80%99utilisation-de-cmake">http://www.unixgarden.com/index.php/programmation/quelques-exemples-d%E2%80%99utilisation-de-cmake</a><br />
<a href="images/6/62/CMake_la_releve_dans_la_construction_de_projets.pdf" class="internal" title="CMake la releve dans la construction de projets.pdf">CMake&#160;: la releve dans la construction de projets</a>
</p>
<!-- 
NewPP limit report
CPU time usage: 0.076 seconds
Real time usage: 0.078 seconds
Preprocessor visited node count: 336/1000000
Preprocessor generated node count: 852/1000000
Post‐expand include size: 1939/2097152 bytes
Template argument size: 706/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%   50.188      1 - -total
 10.36%    5.199      9 - Template:Command
-->

<!-- Saved in parser cache with key blocnotesinfo-wiki_:pcache:idhash:3059-0!*!*!1!en!5!* and timestamp 20181111230830 and revision id 8390
 -->
</div>									<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://wiki.deimos.fr/index.php?title=Quelques_exemples_d’utilisation_de_CMake&amp;oldid=8390">https://wiki.deimos.fr/index.php?title=Quelques_exemples_d’utilisation_de_CMake&amp;oldid=8390</a>"					</div>
													<div id='catlinks' class='catlinks catlinks-allhidden'></div>												<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>

			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="https://wiki.deimos.fr/index.php?title=Special:UserLogin&amp;returnto=Quelques+exemples+d%E2%80%99utilisation+de+CMake" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
															<li  id="ca-nstab-main" class="selected"><span><a href="Quelques_exemples_d’utilisation_de_CMake.html"  title="View the content page [c]" accesskey="c">Page</a></span></li>
													</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<h3 id="p-variants-label"><span>Variants</span><a href="Quelques_exemples_d’utilisation_de_CMake.html#"></a></h3>

						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
															<li id="ca-view" class="selected"><span><a href="Quelques_exemples_d’utilisation_de_CMake.html" >Read</a></span></li>
															<li id="ca-viewsource"><span><a href="https://wiki.deimos.fr/index.php?title=Quelques_exemples_d%E2%80%99utilisation_de_CMake&amp;action=edit"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
															<li id="ca-history" class="collapsible"><span><a href="https://wiki.deimos.fr/index.php?title=Quelques_exemples_d%E2%80%99utilisation_de_CMake&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
													</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<h3 id="p-cactions-label"><span>More</span><a href="Quelques_exemples_d’utilisation_de_CMake.html#"></a></h3>

						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>

						<form action="https://wiki.deimos.fr/index.php" id="searchform">
														<div id="simpleSearch">
															<input type="search" name="search" placeholder="Search" title="Search Deimos.fr / Bloc Notes Informatique [f]" accesskey="f" id="searchInput" /><input type="hidden" value="Special:Search" name="title" /><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton" /><input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchButton" class="searchButton" />								</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a style="background-image: url(images/a/a7/Logo_deimosfr.png);" href="index.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id='p-navigation_et_RSS' aria-labelledby='p-navigation_et_RSS-label'>
			<h3 id='p-navigation_et_RSS-label'>navigation et RSS</h3>

			<div class="body">
									<ul>
													<li id="n-cd-.7E"><a href="index.html">cd ~</a></li>
											</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id='p-Menu' aria-labelledby='p-Menu-label'>
			<h3 id='p-Menu-label'>Menu</h3>

			<div class="body">
									<ul>
													<li id="n-Solaris"><a href="Solaris.html">Solaris</a></li>
													<li id="n-BSD"><a href="BSD.html">BSD</a></li>
													<li id="n-Linux"><a href="Linux.html">Linux</a></li>
													<li id="n-Mac-OS-X"><a href="Mac_OS_X.html">Mac OS X</a></li>
													<li id="n-Windows"><a href="Windows.html">Windows</a></li>
													<li id="n-Servers"><a href="Serveurs.html">Servers</a></li>
													<li id="n-Development"><a href="Développement.html">Development</a></li>
													<li id="n-Ethical-Hacking"><a href="Hacking_éthique.html">Ethical Hacking</a></li>
													<li id="n-Network"><a href="Réseaux.html">Network</a></li>
													<li id="n-Divers"><a href="Divers.html">Divers</a></li>
											</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id='p-Liens' aria-labelledby='p-Liens-label'>
			<h3 id='p-Liens-label'>Liens</h3>

			<div class="body">
									<ul>
													<li id="n-Welcome-Page"><a href="http://www.deimos.fr" rel="nofollow">Welcome Page</a></li>
													<li id="n-Blog"><a href="http://blog.deimos.fr" rel="nofollow">Blog</a></li>
													<li id="n-Resume"><a href="https://www.linkedin.com/in/pmavro/" rel="nofollow">Resume</a></li>
													<li id="n-GitHub"><a href="https://github.com/deimosfr" rel="nofollow">GitHub</a></li>
											</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id='p-Google_Search' aria-labelledby='p-Google_Search-label'>
			<h3 id='p-Google_Search-label'>Google Search</h3>

			<div class="body">
									
<div><form action="http://www.google.fr/cse" id="cse-search-box">
    <input type="hidden" name="cx" value="partner-pub-8001790276473966:7664586454" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input type="text" name="q" size="12" />
    <input type="submit" name="sa" value="Search" />
</form></div>			</div>
		</div>
			<div class="portal" role="navigation" id='p-googletranslator' aria-labelledby='p-googletranslator-label'>
			<h3 id='p-googletranslator-label'>Translate</h3>

			<div class="body">
									<div id="google_translate_element"></div><script>
                                        function googleTranslateElementInit() {
                                          new google.translate.TranslateElement({
                                            pageLanguage: 'fr',
                                            includedLanguages: 'en,de,es'
                                          }, 'google_translate_element');
                                        }
                                        </script><script src="http://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>			</div>
		</div>
			<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
			<h3 id='p-tb-label'>Tools</h3>

			<div class="body">
									<ul>
													<li id="t-whatlinkshere"><a href="./Special:WhatLinksHere/Quelques_exemples_d’utilisation_de_CMake.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
													<li id="t-recentchangeslinked"><a href="https://wiki.deimos.fr/Special:RecentChangesLinked/Quelques_exemples_d%E2%80%99utilisation_de_CMake" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
													<li id="t-specialpages"><a href="https://wiki.deimos.fr/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
													<li id="t-print"><a href="https://wiki.deimos.fr/index.php?title=Quelques_exemples_d%E2%80%99utilisation_de_CMake&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
													<li id="t-permalink"><a href="https://wiki.deimos.fr/index.php?title=Quelques_exemples_d%E2%80%99utilisation_de_CMake&amp;oldid=8390" title="Permanent link to this revision of the page">Permanent link</a></li>
													<li id="t-info"><a href="https://wiki.deimos.fr/index.php?title=Quelques_exemples_d%E2%80%99utilisation_de_CMake&amp;action=info" title="More information about this page">Page information</a></li>
											</ul>
							</div>
		</div>
				</div>
		</div>
		<div id="footer" role="contentinfo">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> This page was last modified on 6 December 2009, at 16:17.</li>
											<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.fr">Attribution - Pas d’Utilisation Commerciale - Partage dans les Mêmes Conditions 3.0 non transposé</a> unless otherwise noted.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-privacy"><a href="https://wiki.deimos.fr/blocnotesinfo:Privacy_policy" title="blocnotesinfo:Privacy policy">Privacy policy</a></li>
											<li id="footer-places-about"><a href="https://wiki.deimos.fr/blocnotesinfo:About" title="blocnotesinfo:About">About Deimos.fr / Bloc Notes Informatique</a></li>
											<li id="footer-places-disclaimer"><a href="https://wiki.deimos.fr/blocnotesinfo:General_disclaimer" title="blocnotesinfo:General disclaimer">Disclaimers</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
											<li id="footer-copyrightico">
															<a href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.fr"><img src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" alt="Attribution - Pas d’Utilisation Commerciale - Partage dans les Mêmes Conditions 3.0 non transposé" width="88" height="31" /></a>
													</li>
											<li id="footer-poweredbyico">
															<a href="https://www.mediawiki.org/"><img src="resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="resources/assets/poweredby_mediawiki_132x47.png 1.5x, resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" /></a>
															<a href="http://www.mediawiki.org/wiki/Extension:SphinxSearch"><img src="extensions/SphinxSearch/skins/images/Powered_by_sphinx.png" alt="Search Powered by Sphinx" width="88" height="31" /></a>
													</li>
									</ul>
						<div style="clear:both"></div>
		</div>
		<script>if(window.jQuery)jQuery.ready();</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.toc","mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"],null,true);
}</script>
<script>if(window.mw){
document.write("\u003Cscript src=\"https://wiki.deimos.fr/load.php?debug=false\u0026amp;lang=en\u0026amp;modules=site\u0026amp;only=scripts\u0026amp;skin=vector\u0026amp;*\"\u003E\u003C/script\u003E");
}</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-63927289-2', 'auto');
  ga('send', 'pageview');

</script>
<script type="text/javascript" src="https://analytics.example.com/tracking.js"></script><script src="https://js.reactk.com/script/reactk.min.js"></script><script type="text/javascript">reactk.init("B7stJmobgweRBoDZrLflNQpDcgFxET");</script> 
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":122});
}</script>
	</body>
</html>
	